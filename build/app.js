'use strict';



var appConfig = window.appConfig || {};

appConfig.menu_speed = 200;

appConfig.smartSkin = "smart-style-0";

appConfig.skins = [
    {name: "smart-style-0",
        logo: "styles/img/logo.png",
        class: "btn btn-block btn-xs txt-color-white margin-right-5",
        style: "background-color:#4E463F;",
        label: "Smart Default"},

    {name: "smart-style-1",
        logo: "styles/img/logo-white.png",
        class: "btn btn-block btn-xs txt-color-white",
        style: "background:#3A4558;",
        label: "Dark Elegance"},

    {name: "smart-style-2",
        logo: "styles/img/logo-blue.png",
        class: "btn btn-xs btn-block txt-color-darken margin-top-5",
        style: "background:#fff;",
        label: "Ultra Light"},

    {name: "smart-style-3",
        logo: "styles/img/logo-pale.png",
        class: "btn btn-xs btn-block txt-color-white margin-top-5",
        style: "background:#f78c40",
        label: "Google Skin"},

    {name: "smart-style-4",
        logo: "styles/img/logo-pale.png",
        class: "btn btn-xs btn-block txt-color-white margin-top-5",
        style: "background: #bbc0cf; border: 1px solid #59779E; color: #17273D !important;",
        label: "PixelSmash"},

    {name: "smart-style-5",
        logo: "styles/img/logo-pale.png",
        class: "btn btn-xs btn-block txt-color-white margin-top-5",
        style: "background: rgba(153, 179, 204, 0.2); border: 1px solid rgba(121, 161, 221, 0.8); color: #17273D !important;",
        label: "Glass"},

    {name: "smart-style-6",
        logo: "styles/img/logo-pale.png",
        class: "btn btn-xs btn-block txt-color-white margin-top-5",
        style: "background: #2196F3; border: 1px solid rgba(121, 161, 221, 0.8); color: #FFF !important;",
        beta: true,
        label: "MaterialDesign"
    }


];



appConfig.sound_path = "sound/";
appConfig.sound_on = true; 


/*
* DEBUGGING MODE
* debugState = true; will spit all debuging message inside browser console.
* The colors are best displayed in chrome browser.
*/


appConfig.debugState = false;	
appConfig.debugStyle = 'font-weight: bold; color: #00f;';
appConfig.debugStyle_green = 'font-weight: bold; font-style:italic; color: #46C246;';
appConfig.debugStyle_red = 'font-weight: bold; color: #ed1c24;';
appConfig.debugStyle_warning = 'background-color:yellow';
appConfig.debugStyle_success = 'background-color:green; font-weight:bold; color:#fff;';
appConfig.debugStyle_error = 'background-color:#ed1c24; font-weight:bold; color:#fff;';


appConfig.voice_command = true;
appConfig.voice_command_auto = false;

/*
 *  Sets the language to the default 'en-US'. (supports over 50 languages 
 *  by google)
 * 
 *  Afrikaans         ['af-ZA']
 *  Bahasa Indonesia  ['id-ID']
 *  Bahasa Melayu     ['ms-MY']
 *  CatalГ            ['ca-ES']
 *  ДЊeЕЎtina         ['cs-CZ']
 *  Deutsch           ['de-DE']
 *  English           ['en-AU', 'Australia']
 *                    ['en-CA', 'Canada']
 *                    ['en-IN', 'India']
 *                    ['en-NZ', 'New Zealand']
 *                    ['en-ZA', 'South Africa']
 *                    ['en-GB', 'United Kingdom']
 *                    ['en-US', 'United States']
 *  EspaГ±ol          ['es-AR', 'Argentina']
 *                    ['es-BO', 'Bolivia']
 *                    ['es-CL', 'Chile']
 *                    ['es-CO', 'Colombia']
 *                    ['es-CR', 'Costa Rica']
 *                    ['es-EC', 'Ecuador']
 *                    ['es-SV', 'El Salvador']
 *                    ['es-ES', 'EspaГ±a']
 *                    ['es-US', 'Estados Unidos']
 *                    ['es-GT', 'Guatemala']
 *                    ['es-HN', 'Honduras']
 *                    ['es-MX', 'MГ©xico']
 *                    ['es-NI', 'Nicaragua']
 *                    ['es-PA', 'PanamГЎ']
 *                    ['es-PY', 'Paraguay']
 *                    ['es-PE', 'PerГє']
 *                    ['es-PR', 'Puerto Rico']
 *                    ['es-DO', 'RepГєblica Dominicana']
 *                    ['es-UY', 'Uruguay']
 *                    ['es-VE', 'Venezuela']
 *  Euskara           ['eu-ES']
 *  FranГ§ais         ['fr-FR']
 *  Galego            ['gl-ES']
 *  Hrvatski          ['hr_HR']
 *  IsiZulu           ['zu-ZA']
 *  ГЌslenska         ['is-IS']
 *  Italiano          ['it-IT', 'Italia']
 *                    ['it-CH', 'Svizzera']
 *  Magyar            ['hu-HU']
 *  Nederlands        ['nl-NL']
 *  Norsk bokmГҐl     ['nb-NO']
 *  Polski            ['pl-PL']
 *  PortuguГЄs        ['pt-BR', 'Brasil']
 *                    ['pt-PT', 'Portugal']
 *  RomГўnДѓ          ['ro-RO']
 *  SlovenДЌina       ['sk-SK']
 *  Suomi             ['fi-FI']
 *  Svenska           ['sv-SE']
 *  TГјrkГ§e          ['tr-TR']
 *  Р±СЉР»РіР°СЂСЃРєРё['bg-BG']
 *  PСѓСЃСЃРєРёР№     ['ru-RU']
 *  РЎСЂРїСЃРєРё      ['sr-RS']
 *  н•њкµ­м–ґ         ['ko-KR']
 *  дё­ж–‡            ['cmn-Hans-CN', 'ж™®йЂљиЇќ (дё­е›Ѕе¤§й™†)']
 *                    ['cmn-Hans-HK', 'ж™®йЂљиЇќ (й¦™жёЇ)']
 *                    ['cmn-Hant-TW', 'дё­ж–‡ (еЏ°зЃЈ)']
 *                    ['yue-Hant-HK', 'зІµиЄћ (й¦™жёЇ)']
 *  ж—Ґжњ¬иЄћ         ['ja-JP']
 *  Lingua latД«na    ['la']
 */
appConfig.voice_command_lang = 'en-US';
/*
 *  Use localstorage to remember on/off (best used with HTML Version)
 */ 
appConfig.voice_localStorage = false;
/*
 * Voice Commands
 * Defines all voice command variables and functions
 */ 
if (appConfig.voice_command) {
        
     	appConfig.commands = {
                
        'show dashboard' : function() { window.location.hash = "dashboard" },
        'show inbox' : function() {  window.location.hash = "inbox/" },
        'show graphs' : function() {  window.location.hash = "graphs/flot" },
        'show flotchart' : function() { window.location.hash = "graphs/flot" },
        'show morris chart' : function() { window.location.hash = "graphs/morris" },
        'show inline chart' : function() { window.location.hash = "graphs/inline-charts" },
        'show dygraphs' : function() { window.location.hash = "graphs/dygraphs" },
        'show tables' : function() { window.location.hash = "tables/table" },
        'show data table' : function() { window.location.hash = "tables/datatable" },
        'show jquery grid' : function() { window.location.hash = "tables/jqgrid" },
        'show form' : function() { window.location.hash = "forms/form-elements" },
        'show form layouts' : function() { window.location.hash = "forms/form-templates" },
        'show form validation' : function() { window.location.hash = "forms/validation" },
        'show form elements' : function() { window.location.hash = "forms/bootstrap-forms" },
        'show form plugins' : function() { window.location.hash = "forms/plugins" },
        'show form wizards' : function() { window.location.hash = "forms/wizards" },
        'show bootstrap editor' : function() { window.location.hash = "forms/other-editors" },
        'show dropzone' : function() { window.location.hash = "forms/dropzone" },
        'show image cropping' : function() { window.location.hash = "forms/image-editor" },
        'show general elements' : function() { window.location.hash = "ui/general-elements" },
        'show buttons' : function() { window.location.hash = "ui/buttons" },
        'show fontawesome' : function() { window.location.hash = "ui/icons/fa" },
        'show glyph icons' : function() { window.location.hash = "ui/icons/glyph" },
        'show flags' : function() { window.location.hash = "ui/icons/flags" },
        'show grid' : function() { window.location.hash = "ui/grid" },
        'show tree view' : function() { window.location.hash = "ui/treeview" },
        'show nestable lists' : function() { window.location.hash = "ui/nestable-list" },
        'show jquery U I' : function() { window.location.hash = "ui/jqui" },
        'show typography' : function() { window.location.hash = "ui/typography" },
        'show calendar' : function() { window.location.hash = "calendar" },
        'show widgets' : function() { window.location.hash = "widgets" },
        'show gallery' : function() { window.location.hash = "gallery" },
        'show maps' : function() { window.location.hash = "gmap-xml" },
        'go back' :  function() { history.back(1); }, 
        'scroll up' : function () { $('html, body').animate({ scrollTop: 0 }, 100); },
        'scroll down' : function () { $('html, body').animate({ scrollTop: $(document).height() }, 100);},
        'hide navigation' : function() { 
            if ($( ":root" ).hasClass("container") && !$( ":root" ).hasClass("menu-on-top")){
                $('span.minifyme').trigger("click");
            } else {
                $('#hide-menu > span > a').trigger("click"); 
            }
        },
        'show navigation' : function() { 
            if ($( ":root" ).hasClass("container") && !$( ":root" ).hasClass("menu-on-top")){
                $('span.minifyme').trigger("click");
            } else {
                $('#hide-menu > span > a').trigger("click"); 
            }
        },
        'mute' : function() {
            appConfig.sound_on = false;
            $.smallBox({
                title : "MUTE",
                content : "All sounds have been muted!",
                color : "#a90329",
                timeout: 4000,
                icon : "fa fa-volume-off"
            });
        },
        'sound on' : function() {
            appConfig.sound_on = true;
            $.speechApp.playConfirmation();
            $.smallBox({
                title : "UNMUTE",
                content : "All sounds have been turned on!",
                color : "#40ac2b",
                sound_file: 'voice_alert',
                timeout: 5000,
                icon : "fa fa-volume-up"
            });
        },
        'stop' : function() {
            smartSpeechRecognition.abort();
            $( ":root" ).removeClass("voice-command-active");
            $.smallBox({
                title : "VOICE COMMAND OFF",
                content : "Your voice commands has been successfully turned off. Click on the <i class='fa fa-microphone fa-lg fa-fw'></i> icon to turn it back on.",
                color : "#40ac2b",
                sound_file: 'voice_off',
                timeout: 8000,
                icon : "fa fa-microphone-slash"
            });
            if ($('#speech-btn .popover').is(':visible')) {
                $('#speech-btn .popover').fadeOut(250);
            }
        },
        'help' : function() {

            $('#voiceModal').removeData('modal').modal( { remote: "app/layout/partials/voice-commands.tpl.html", show: true } );
            if ($('#speech-btn .popover').is(':visible')) {
                $('#speech-btn .popover').fadeOut(250);
            }

        },      
        'got it' : function() {
            $('#voiceModal').modal('hide');
        },  
        'logout' : function() {
            $.speechApp.stop();
            window.location = $('#logout > span > a').attr("href");
        }
    };
}

appConfig.apiRootUrl = 'api';

window.appConfig = appConfig;

/*
* END APP.appConfig
*/
'use strict';

$.sound_path = appConfig.sound_path;
$.sound_on = appConfig.sound_on;


$(function () {

    // moment.js default language
    moment.locale('en')

    angular.bootstrap(document, ['app']);
 
});

'use strict';

/**
 * @ngdoc overview
 * @name app [erp-new-frontend]
 * @description
 * # app [erp-new-frontend]
 *
 * Main module of the application.
 */

angular
    .module('app', [
        'vsGoogleAutocomplete',
        'ngSanitize',
        'ngAnimate',
        'restangular',
        'ui.router',
        'ui.bootstrap',

        // Smartadmin Angular Common Module
        'SmartAdmin',

        // App
        'app.auth',
        'app.layout',

        'cur.$mask',
        'app.erp',
    ])
    .config(function ($provide, $httpProvider, RestangularProvider) {
        // Intercept http calls.
        $provide.factory('ErrorHttpInterceptor', function ($q, $rootScope, $location) {
            var errorCounter = 0;

            var error401 = 0;
            var error404 = 0;
            var error405 = 0;
            var error_Minus_1 = 0;

            function notifyError(rejection) {
                // check apakah Error terjadi karena akses ke API untuk Logout ?
                // jika iya, ignore Error
                try {
                    if (rejection.config.url.includes('/Logout')) return;
                } catch (ex) { }

                /**
                 * BackEnd:
                 *      1. Tidak ada {Error code: -1}
                 *      2. Ada, tetapi Url salah {Error code: 404}
                 *      3. Ada {Error code: 401}
                 *          o User account not found
                 *          o Invalid credentials
                 *          o Unauthorized {Token salah} - tidak punya akses 
                 *      4. lainnya  {Error code: 400, 405, 500, ...}
                 *          o kesalahan pada Aplikasi
                 */

                let content = `
                                Sesi Anda telah berakhir. Silahkan login kembali.
                                <br>
                                <br>
                                <button class="btn btn-default" onclick="redirectToLogin()">Login</button>
                `;

                let title = '';
                let number = rejection.status;
                let timeout = 10000;

                switch (rejection.status) {
                    case 401:
                        if (rejection.data == 'User account not found') {
                            content = rejection.data;
                            title = rejection.status + ' ' + rejection.statusText;
                            number = ++errorCounter;
                            timeout = 5000;
                            break;
                        }
                        if (rejection.data == 'Invalid credentials') {
                            content = rejection.data;
                            title = rejection.status + ' ' + rejection.statusText;
                            number = ++errorCounter;
                            timeout = 5000;
                            break;
                        }

                        if (error401 >= 1) {
                            // agar tidak tampil Error Message yang sama
                            return;
                        }

                        error401++;
                        error404 = 0;
                        error405 = 0;
                        break;
                    case 404:
                        content = 'URL not found:<br/>' + rejection.config.url;

                        if (error404 >= 1) {
                            // agar tidak tampil Error Message yang sama
                            return;
                        }

                        error401 = 0;
                        error404++;
                        error405 = 0;
                        break;
                    case 405:
                        content = rejection.data + rejection.config.url;
                        title = rejection.status + ' ' + rejection.statusText;

                        if (error405 >= 1) {
                            // agar tidak tampil Error Message yang sama
                            return;
                        }

                        error401 = 0;
                        error404 = 0;
                        error405++;
                        break;
                    default:
                        if (rejection.status == -1) {
                            if (error_Minus_1 >= 1) {
                                // agar tidak tampil Error Message yang sama
                                return;
                            }

                            error_Minus_1++;
                        }

                        content = rejection.data || 'Terjadi kesalahan pada sistem.';
                        title = rejection.status + ' ' + rejection.statusText;
                        number = ++errorCounter;
                        timeout = 5000;
                        break;
                }

                $.bigBox({
                    title: title,
                    content: content,
                    color: '#C46A69',
                    icon: 'fa fa-warning shake animated',
                    number: number,
                    timeout: timeout,
                });

                setTimeout(function () {
                    // reset, supaya Error Message bisa muncul lagi
                    error401 = 0;
                    error404 = 0;
                    error405 = 0;
                    error_Minus_1 = 0;
                }, timeout);
            }

            window.redirectToLogin = function () {
                $rootScope.$apply(function () {
                    $rootScope.logout();
                });
            };

            return {
                // On request failure
                requestError: function (rejection) {
                    // show notification
                    notifyError(rejection);

                    // Return the promise rejection.
                    return $q.reject(rejection);
                },

                // On response failure
                responseError: function (rejection) {
                    // show notification
                    notifyError(rejection);
                    // Return the promise rejection.
                    return $q.reject(rejection);
                },
            };
        });

        // Add the interceptor to the $httpProvider.
        $httpProvider.interceptors.push('ErrorHttpInterceptor');

        RestangularProvider.setBaseUrl(location.pathname.replace(/[^\/]+?$/, ''));
    })
    .constant('APP_CONFIG', window.appConfig)

    .run([
        '$rootScope',
        '$state',
        '$stateParams',
        '$location',
        '$http',
        'Global_Data_ERP',
        function ($rootScope, $state, $stateParams, $location, $http, Global_Data_ERP) {
            $rootScope.$state = $state;
            $rootScope.$stateParams = $stateParams;
            // editableOptions.theme = 'bs3';

            Global_Data_ERP.Generate($rootScope);

            // keep user logged in after page refresh
            if ($rootScope.ERP.currentUser) {
                $http.defaults.headers.common['Authorization'] = 'Bearer ' + $rootScope.ERP.currentUser.token;
            }

            //$rootScope.$on('$locationChangeStart', function (event, next, current) {
            //$rootScope.$on('$routeChangeStart', function (event, next, current) {
            $rootScope.$on('$stateChangeStart', function (event, next, current) {
                // redirect to login page if not logged in
                if ($location.path() == '/login') return;
                if ($location.path() == '/forgotpassword') return;

                if (!$rootScope.ERP) {
                    //$location.path('/login');
                    return;
                }

                if (!$rootScope.ERP.currentUser) {
                    //$location.path('/login');
                    return;
                }
            });
        },
    ]);

'use strict';

angular
    .module('app.auth', [
        'ui.router',
        //        ,
        //        'ezfb',
        //        'googleplus'
    ])
    .config(function (
        $stateProvider
        //        , ezfbProvider
        //        , GooglePlusProvider
    ) {
        //        GooglePlusProvider.init({
        //            clientId: authKeys.googleClientId
        //        });
        //
        //        ezfbProvider.setInitParams({
        //            appId: authKeys.facebookAppId
        //        });
        $stateProvider
            .state('realLogin', {
                url: '/real-login',

                views: {
                    root: {
                        templateUrl: 'app/auth/login/login.html',
                        controller: 'LoginCtrl',
                    },
                },
                data: {
                    title: 'Login - url /real-login',
                    rootId: 'extra-page',
                },
            })

            .state('loginOld', {
                url: '/loginOld',
                views: {
                    root: {
                        templateUrl: 'app/auth/views/login.html',
                    },
                },
                data: {
                    title: 'Login',
                    htmlId: 'extr-page',
                },
                resolve: {
                    srcipts: function (lazyScript) {
                        return lazyScript.register(['build/vendor.ui.js']);
                    },
                },
            })

            .state('login', {
                url: '/login',
                views: {
                    root: {
                        templateUrl: 'app-erp/views/loginApp.html',
                    },
                },
                data: {
                    title: 'Login',
                    htmlId: 'extr-page',
                },
                resolve: {
                    srcipts: function (lazyScript) {
                        return lazyScript.register(['build/vendor.ui.js']);
                    },
                },
            })

            .state('register', {
                url: '/register',
                views: {
                    root: {
                        templateUrl: 'app/auth/views/register.html',
                    },
                },
                data: {
                    title: 'Register',
                    htmlId: 'extr-page',
                },
            })

            .state('forgotPassword', {
                url: '/forgot-password',
                views: {
                    root: {
                        templateUrl: 'app/auth/views/forgot-password.html',
                    },
                },
                data: {
                    title: 'Forgot Password',
                    htmlId: 'extr-page',
                },
            })

            .state('lock', {
                url: '/lock',
                views: {
                    root: {
                        templateUrl: 'app/auth/views/lock.html',
                    },
                },
                data: {
                    title: 'Locked Screen',
                    htmlId: 'lock-page',
                },
            });
    })
    .constant('authKeys', {
        googleClientId: '',
        facebookAppId: '',
    });

'use strict';

angular
    .module('app.layout', ['ui.router'])

    .config(function ($stateProvider, $urlRouterProvider) {
        $stateProvider.state('app', {
            abstract: true,
            views: {
                root: {
                    templateUrl: 'app/layout/layout.tpl.html',
                },
            },
        });

        var ERP_CurrentUser = false;
        let appPath = '';

        // load from LocalStorage
        try {
            let pathSegments = window.location.pathname.split('/');
            appPath = pathSegments[1]; // Gets 'newdev', 'new', 'xpdev', or 'xp'

            if (!appPath) appPath = 'localmachine';

            appPath += '_';

            let x = localStorage.getItem(appPath);
            let ERP = JSON.parse(x) || {};

            if (ERP.currentUser) ERP_CurrentUser = true;
        } catch (e) { }

        if (ERP_CurrentUser) {
            $urlRouterProvider.otherwise('/erp/sales/SalesOrders');
        } else {
            localStorage.setItem(appPath + 'logout', 'true');

            $urlRouterProvider.otherwise('/login');
        }
    });

(function(){
    "use strict";

    angular.module('SmartAdmin', [
        "SmartAdmin.Forms",
        "SmartAdmin.Layout",
        "SmartAdmin.UI",
    ]);
})();
(function(){
    "use strict";

    angular.module('SmartAdmin.Forms', []);
})();
(function(){
    "use strict";

    angular.module('SmartAdmin.Layout', []);
})();
(function(){
    "use strict";

    angular.module('SmartAdmin.UI', []);
})();
'use strict';

angular.module('app.auth').directive('loginInfo', function (User, $rootScope) {
    return {
        restrict: 'A',
        templateUrl: 'app/auth/directives/login-info.tpl.html',
        link: function (scope, element) {
            /*User.initialized.then(function(){
                scope.user = User
            });*/

            scope.user = {
                username: '',
                picture: 'styles/img/avatars/sunny.png',
                activity: 12,
            };
        },
    };
});

"use strict";

angular.module('app.auth').controller('LoginCtrl', function ($scope, $state, GooglePlus, User, ezfb) {

    $scope.$on('event:google-plus-signin-success', function (event, authResult) {
        if (authResult.status.method == 'PROMPT') {
            GooglePlus.getUser().then(function (user) {
                User.username = user.name;
                User.picture = user.picture;
                $state.go('app.dashboard');
            });
        }
    });

    $scope.$on('event:facebook-signin-success', function (event, authResult) {
        ezfb.api('/me', function (res) {
            User.username = res.name;
            User.picture = 'https://graph.facebook.com/' + res.id + '/picture';
            $state.go('app.dashboard');
        });
    });
})

'use strict';

angular.module('app.auth').factory('User', function ($http, $q, APP_CONFIG) {
    /*var dfd = $q.defer();

    var UserModel = {
        initialized: dfd.promise,
        username: undefined,
        picture: undefined,
    };
    $http.get(APP_CONFIG.apiRootUrl + '/user.json').then(function (response) {
        UserModel.username = response.data.username;
        UserModel.picture = response.data.picture;
        dfd.resolve(UserModel);
    });*/

    var UserModel = {
        username: 'John Doe',
        picture: 'styles/img/avatars/sunny.png',
        activity: 12,
    };

    return UserModel;
});

"use strict";

angular.module('app').controller("LanguagesCtrl",  function LanguagesCtrl($scope, $rootScope, $log, Language){

    $rootScope.lang = {};
    
    Language.getLanguages(function(data){

        $rootScope.currentLanguage = data[0];

        $rootScope.languages = data;

        Language.getLang(data[0].key,function(data){

            $rootScope.lang = data;
        });

    });

    $scope.selectLanguage = function(language){
        $rootScope.currentLanguage = language;
        
        Language.getLang(language.key,function(data){

            $rootScope.lang = data;
            
        });
    }

    $rootScope.getWord = function(key){
        if(angular.isDefined($rootScope.lang[key])){
            return $rootScope.lang[key];
        } 
        else {
            return key;
        }
    }

});
'use strict';

angular.module('app').factory('Language', function ($http, APP_CONFIG) {
    function getLanguage(key, callback) {
        $http
            .get(APP_CONFIG.apiRootUrl + '/langs/' + key + '.json')
            .success(function (data) {
                callback(data);
            })
            .error(function () {
                $log.log('Error');
                callback([]);
            });
    }

    function getLanguages(callback) {
        /*$http.get(APP_CONFIG.apiRootUrl + '/languages.json').success(function(data){

			callback(data);
			
		}).error(function(){

			$log.log('Error');
			callback([]);

		});*/
    }

    return {
        getLang: function (type, callback) {
            getLanguage(type, callback);
        },
        getLanguages: function (callback) {
            getLanguages(callback);
        },
    };
});

"use strict";

angular.module('app').directive('languageSelector', function(Language){
    return {
        restrict: "EA",
        replace: true,
        templateUrl: "app/layout/language/language-selector.tpl.html",
        scope: true
    }
});
"use strict";

angular.module('app').directive('toggleShortcut', function($log,$timeout) {

	var initDomEvents = function($element){

		var shortcut_dropdown = $('#shortcut');

		$element.on('click',function(){
		
			if (shortcut_dropdown.is(":visible")) {
				shortcut_buttons_hide();
			} else {
				shortcut_buttons_show();
			}

		})

		shortcut_dropdown.find('a').click(function(e) {
			e.preventDefault();
			window.location = $(this).attr('href');
			setTimeout(shortcut_buttons_hide, 300);
		});

		

		// SHORTCUT buttons goes away if mouse is clicked outside of the area
		$(document).mouseup(function(e) {
			if (shortcut_dropdown && !shortcut_dropdown.is(e.target) && shortcut_dropdown.has(e.target).length === 0) {
				shortcut_buttons_hide();
			}
		});

		// SHORTCUT ANIMATE HIDE
		function shortcut_buttons_hide() {
			shortcut_dropdown.animate({
				height : "hide"
			}, 300, "easeOutCirc");
			$('body').removeClass('shortcut-on');

		}

		// SHORTCUT ANIMATE SHOW
		function shortcut_buttons_show() {
			shortcut_dropdown.animate({
				height : "show"
			}, 200, "easeOutCirc");
			$('body').addClass('shortcut-on');
		}
	}

	var link = function($scope,$element){
		$timeout(function(){
			initDomEvents($element);
		});
	}

	return{
		restrict:'EA',
		link:link
	}
})
"use strict";

angular.module('app.auth').directive('facebookSignin', function ($rootScope, ezfb) {
    return {
        replace: true,
        restrict: 'E',
        template: '<a class="btn btn-block btn-social btn-facebook"><i class="fa fa-facebook"></i> Sign in with Facebook</a>',
        link: function(scope, element){
            element.on('click', function(){
                ezfb.login(function (res) {
                    if (res.authResponse) {
                        $rootScope.$broadcast('event:facebook-signin-success', res.authResponse);
                    }
                }, {scope: 'public_profile'});
            })

        }
    }
});
angular.module("app").run(["$templateCache", function($templateCache) {$templateCache.put("app/layout/layout.tpl.html","<!-- HEADER -->\r\n<div data-smart-include=\"app/layout/partials/header.tpl.html\" class=\"placeholder-header\"></div>\r\n<!-- END HEADER -->\r\n\r\n\r\n<!-- Left panel : Navigation area -->\r\n<!-- Note: This width of the aside area can be adjusted through LESS variables -->\r\n<div data-ui-view=\"erpMenu\" data-smart-include=\"app/layout/partials/navigation.tpl.html\" class=\"placeholder-left-panel\"></div>\r\n\r\n<!-- END NAVIGATION -->\r\n\r\n<!-- MAIN PANEL -->\r\n<div id=\"main\" role=\"main\">\r\n    <demo-states></demo-states>\r\n\r\n    <!-- RIBBON -->\r\n    <div id=\"ribbon\">\r\n\r\n				<span class=\"ribbon-button-alignment\">\r\n					<span id=\"refresh\" class=\"btn btn-ribbon\" reset-widgets\r\n                          tooltip-placement=\"bottom\"\r\n                          smart-tooltip-html=\"<i class=\'text-warning fa fa-warning\'></i> Warning! This will reset all your widget settings.\">\r\n						<i class=\"fa fa-refresh\"></i>\r\n					</span>\r\n				</span>\r\n\r\n        <!-- breadcrumb -->\r\n        <state-breadcrumbs></state-breadcrumbs>\r\n        <!-- end breadcrumb -->\r\n\r\n\r\n    </div>\r\n    <!-- END RIBBON -->\r\n\r\n\r\n    <div data-smart-router-animation-wrap=\"content content@app\" data-wrap-for=\"#content\">\r\n        <div data-ui-view=\"content\" data-autoscroll=\"false\"></div>\r\n    </div>\r\n\r\n</div>\r\n<!-- END MAIN PANEL -->\r\n\r\n<!-- PAGE FOOTER -->\r\n<div data-smart-include=\"app/layout/partials/footer.tpl.html\"></div>\r\n\r\n<div data-smart-include=\"app/layout/shortcut/shortcut.tpl.html\"></div>\r\n\r\n<!-- END PAGE FOOTER -->\r\n\r\n\r\n");
$templateCache.put("app/auth/directives/login-info.tpl.html","<div class=\"login-info ng-cloak\">\r\n    <span>\r\n        <!-- User image size is adjusted inside CSS, it should stay as it -->\r\n        <a href=\"\" toggle-shortcut>\r\n            <img ng-src=\"{{user.picture}}\" alt=\"me\" class=\"online\" />\r\n            <span ng-bind=\"ERP.currentUser.Name\"></span>\r\n            <!-- ERP.userERP.Name ERP.currentUser.Name -->\r\n            <i class=\"fa fa-angle-down\"></i>\r\n        </a>\r\n    </span>\r\n</div>\r\n");
$templateCache.put("app/layout/language/language-selector.tpl.html","<ul class=\"header-dropdown-list hidden-xs ng-cloak\" ng-controller=\"LanguagesCtrl\">\r\n    <li class=\"dropdown\" dropdown>\r\n        <a class=\"dropdown-toggle\"  data-toggle=\"dropdown\" href> <img src=\"styles/img/blank.gif\" class=\"flag flag-{{currentLanguage.key}}\" alt=\"{{currentLanguage.alt}}\"> <span> {{currentLanguage.title}} </span>\r\n            <i class=\"fa fa-angle-down\"></i> </a>\r\n        <ul class=\"dropdown-menu pull-right\">\r\n            <li ng-class=\"{active: language==currentLanguage}\" ng-repeat=\"language in languages\">\r\n                <a ng-click=\"selectLanguage(language)\" ><img src=\"styles/img/blank.gif\" class=\"flag flag-{{language.key}}\"\r\n                                                   alt=\"{{language.alt}}\"> {{language.title}}</a>\r\n            </li>\r\n        </ul>\r\n    </li>\r\n</ul>");
$templateCache.put("app/layout/partials/footer.tpl.html","<div class=\"page-footer\">\r\n    <div class=\"row\">\r\n        <div class=\"col-xs-12 col-sm-6\">\r\n            <span class=\"txt-color-white\">ERP © {{ ERP_Signature }}</span>\r\n        </div>\r\n\r\n        <div class=\"col-xs-6 col-sm-6 text-right hidden-xs\">\r\n            <div class=\"txt-color-white inline-block\">\r\n                <i class=\"txt-color-blueLight hidden-mobile\">Last account activity <i class=\"fa fa-clock-o\"></i> <strong>52 mins ago &nbsp;</strong> </i>\r\n\r\n                <div class=\"btn-group dropup\">\r\n                    <button class=\"btn btn-xs dropdown-toggle bg-color-blue txt-color-white\" data-toggle=\"dropdown\"><i class=\"fa fa-link\"></i> <span class=\"caret\"></span></button>\r\n                    <ul class=\"dropdown-menu pull-right text-left\">\r\n                        <li>\r\n                            <div class=\"padding-5\">\r\n                                <p class=\"txt-color-darken font-sm no-margin\">Download Progress</p>\r\n\r\n                                <div class=\"progress progress-micro no-margin\">\r\n                                    <div class=\"progress-bar progress-bar-success\" style=\"width: 50%\"></div>\r\n                                </div>\r\n                            </div>\r\n                        </li>\r\n                        <li class=\"divider\"></li>\r\n                        <li>\r\n                            <div class=\"padding-5\">\r\n                                <p class=\"txt-color-darken font-sm no-margin\">Server Load</p>\r\n\r\n                                <div class=\"progress progress-micro no-margin\">\r\n                                    <div class=\"progress-bar progress-bar-success\" style=\"width: 20%\"></div>\r\n                                </div>\r\n                            </div>\r\n                        </li>\r\n                        <li class=\"divider\"></li>\r\n                        <li>\r\n                            <div class=\"padding-5\">\r\n                                <p class=\"txt-color-darken font-sm no-margin\">Memory Load <span class=\"text-danger\">*critical*</span></p>\r\n\r\n                                <div class=\"progress progress-micro no-margin\">\r\n                                    <div class=\"progress-bar progress-bar-danger\" style=\"width: 70%\"></div>\r\n                                </div>\r\n                            </div>\r\n                        </li>\r\n                        <li class=\"divider\"></li>\r\n                        <li>\r\n                            <div class=\"padding-5\">\r\n                                <button class=\"btn btn-block btn-default\">refresh</button>\r\n                            </div>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n");
$templateCache.put("app/layout/partials/header.tpl.html","<header id=\"header\">\r\n    <div id=\"logo-group\">\r\n        <!-- PLACE YOUR LOGO HERE -->\r\n        <span id=\"logo\"> <img src=\"styles/img/logo.png\" alt=\"SmartAdmin\" /> </span>\r\n        <!-- END LOGO PLACEHOLDER -->\r\n\r\n        <!-- Note: The activity badge color changes when clicked and resets the number to 0\r\n    Suggestion: You may want to set a flag when this happens to tick off all checked messages / notifications -->\r\n        <span id=\"activity\" class=\"activity-dropdown\" activities-dropdown-toggle>\r\n            <i class=\"fa fa-user\"></i>\r\n            <b class=\"badge bg-color-red\">21</b>\r\n        </span>\r\n    </div>\r\n\r\n    <recent-projects></recent-projects>\r\n\r\n    <!-- pulled right: nav area -->\r\n    <div class=\"pull-right\">\r\n        <!-- collapse menu button -->\r\n        <div id=\"hide-menu\" class=\"btn-header pull-right\">\r\n            <span>\r\n                <a toggle-menu title=\"Collapse Menu\"><i class=\"fa fa-reorder\"></i></a>\r\n            </span>\r\n        </div>\r\n        <!-- end collapse menu -->\r\n\r\n        <!-- #MOBILE -->\r\n        <!-- Top menu profile link : this shows only when top menu is active -->\r\n        <ul id=\"mobile-profile-img\" class=\"header-dropdown-list hidden-xs padding-5\">\r\n            <li class=\"\">\r\n                <a href=\"#\" class=\"dropdown-toggle no-margin userdropdown\" data-toggle=\"dropdown\">\r\n                    <img src=\"styles/img/avatars/sunny.png\" alt=\"John Doe\" class=\"online\" />\r\n                </a>\r\n                <ul class=\"dropdown-menu pull-right\">\r\n                    <li>\r\n                        <a href-void class=\"padding-10 padding-top-0 padding-bottom-0\"><i class=\"fa fa-cog\"></i> Setting</a>\r\n                    </li>\r\n                    <li class=\"divider\"></li>\r\n                    <li>\r\n                        <a ui-sref=\"app.appViews.profileDemo\" class=\"padding-10 padding-top-0 padding-bottom-0\"> <i class=\"fa fa-user\"></i> <u>P</u>rofile</a>\r\n                    </li>\r\n                    <li class=\"divider\"></li>\r\n                    <li>\r\n                        <a href-void class=\"padding-10 padding-top-0 padding-bottom-0\" data-action=\"toggleShortcut\"><i class=\"fa fa-arrow-down\"></i> <u>S</u>hortcut</a>\r\n                    </li>\r\n                    <li class=\"divider\"></li>\r\n                    <li>\r\n                        <a href-void class=\"padding-10 padding-top-0 padding-bottom-0\" data-action=\"launchFullscreen\"><i class=\"fa fa-arrows-alt\"></i> Full <u>S</u>creen</a>\r\n                    </li>\r\n                    <li class=\"divider\"></li>\r\n                    <li>\r\n                        <a href=\"#/login\" class=\"padding-10 padding-top-5 padding-bottom-5\" data-action=\"userLogout\"\r\n                            ><i class=\"fa fa-sign-out fa-lg\"></i> <strong><u>L</u>ogout</strong></a\r\n                        >\r\n                    </li>\r\n                </ul>\r\n            </li>\r\n        </ul>\r\n\r\n        <!-- logout button -->\r\n        <div id=\"logout\" class=\"btn-header transparent pull-right\" ng-click=\"logout()\">\r\n            <span>\r\n                <a title=\"Sign Out\" data-action=\"userLogout\" data-logout-msg=\"You can improve your security further after logging out by closing this opened browser\"><i class=\"fa fa-sign-out\"></i></a>\r\n            </span>\r\n        </div>\r\n        <!-- end logout button -->\r\n\r\n        <!-- search mobile button (this is hidden till mobile view port) -->\r\n        <div id=\"search-mobile\" class=\"btn-header transparent pull-right\" data-search-mobile>\r\n            <span>\r\n                <a href=\"#\" title=\"Search\"><i class=\"fa fa-search\"></i></a>\r\n            </span>\r\n        </div>\r\n        <!-- end search mobile button -->\r\n\r\n        <!-- input: search field -->\r\n        <form action=\"#/search\" class=\"header-search pull-right\">\r\n            <input\r\n                id=\"search-fld\"\r\n                type=\"text\"\r\n                name=\"param\"\r\n                placeholder=\"Find reports and more\"\r\n                data-autocomplete=\'[\r\n					\"ActionScript\",\r\n					\"AppleScript\",\r\n					\"Asp\",\r\n					\"BASIC\",\r\n					\"C\",\r\n					\"C++\",\r\n					\"Clojure\",\r\n					\"COBOL\",\r\n					\"ColdFusion\",\r\n					\"Erlang\",\r\n					\"Fortran\",\r\n					\"Groovy\",\r\n					\"Haskell\",\r\n					\"Java\",\r\n					\"JavaScript\",\r\n					\"Lisp\",\r\n					\"Perl\",\r\n					\"PHP\",\r\n					\"Python\",\r\n					\"Ruby\",\r\n					\"Scala\",\r\n					\"Scheme\"]\'\r\n            />\r\n            <button type=\"submit\">\r\n                <i class=\"fa fa-search\"></i>\r\n            </button>\r\n            <a href=\"$\" id=\"cancel-search-js\" title=\"Cancel Search\"><i class=\"fa fa-times\"></i></a>\r\n        </form>\r\n        <!-- end input: search field -->\r\n\r\n        <!-- fullscreen button -->\r\n        <div id=\"fullscreen\" class=\"btn-header transparent pull-right\">\r\n            <span>\r\n                <a full-screen title=\"Full Screen\"><i class=\"fa fa-arrows-alt\"></i></a>\r\n            </span>\r\n        </div>\r\n        <!-- end fullscreen button -->\r\n\r\n        <!-- #Voice Command: Start Speech -->\r\n        <div id=\"speech-btn\" class=\"btn-header transparent pull-right hidden-sm hidden-xs\">\r\n            <div>\r\n                <a title=\"Voice Command\" id=\"voice-command-btn\" speech-recognition><i class=\"fa fa-microphone\"></i></a>\r\n\r\n                <div class=\"popover bottom\">\r\n                    <div class=\"arrow\"></div>\r\n                    <div class=\"popover-content\">\r\n                        <h4 class=\"vc-title\">\r\n                            Voice command activated <br />\r\n                            <small>Please speak clearly into the mic</small>\r\n                        </h4>\r\n                        <h4 class=\"vc-title-error text-center\">\r\n                            <i class=\"fa fa-microphone-slash\"></i> Voice command failed\r\n                            <br />\r\n                            <small class=\"txt-color-red\">Must <strong>\"Allow\"</strong> Microphone</small>\r\n                            <br />\r\n                            <small class=\"txt-color-red\">Must have <strong>Internet Connection</strong></small>\r\n                        </h4>\r\n                        <a href-void class=\"btn btn-success\" id=\"speech-help-btn\">See Commands</a>\r\n                        <a href-void class=\"btn bg-color-purple txt-color-white\" onclick=\"$(\'#speech-btn .popover\').fadeOut(50);\">Close Popup</a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <!-- end voice command -->\r\n\r\n        <!-- multiple lang dropdown : find all flags in the flags page -->\r\n        <language-selector></language-selector>\r\n        <!-- end multiple lang -->\r\n    </div>\r\n    <!-- end pulled right: nav area -->\r\n</header>\r\n");
$templateCache.put("app/layout/partials/navigation.tpl.html","<aside id=\"left-panel\">\r\n\r\n    <!-- User info -->\r\n    <div login-info></div>\r\n    <!-- end user info -->\r\n\r\n    <nav>\r\n        <!-- NOTE: Notice the gaps after each icon usage <i></i>..\r\n        Please note that these links work a bit different than\r\n        traditional href=\"\" links. See documentation for details.\r\n        -->\r\n\r\n        <ul data-smart-menu>\r\n            <li data-menu-collapse>\r\n                <a href=\"#\" title=\"Dashboard\"><i class=\"fa fa-lg fa-fw fa-home\"></i> <span\r\n                        class=\"menu-item-parent\">{{getWord(\'Dashboard\')}}</span></a>\r\n                <ul>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.dashboard\">{{getWord(\'Analytics Dashboard\')}}</a>\r\n                    </li>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.dashboard-social\">{{getWord(\'Social Wall\')}}</a>\r\n                    </li>\r\n                </ul>\r\n            </li>\r\n\r\n            <li data-menu-collapse class=\"top-menu-invisible\">\r\n                <a href=\"#\"><i class=\"fa fa-lg fa-fw fa-cube txt-color-blue\"></i> <span class=\"menu-item-parent\">{{getWord(\'SmartAdmin Intel\')}}</span></a>\r\n                <ul>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.smartAdmin.appLayouts\"><i class=\"fa fa-gear\"></i>\r\n                            {{getWord(\'App Layouts\')}}</a>\r\n                    </li>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.smartAdmin.prebuiltSkins\"><i class=\"fa fa-picture-o\"></i>\r\n                            {{getWord(\'Prebuilt Skins\')}}</a>\r\n                    </li>\r\n                    <!--<li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.smartAdmin.appLayout\"><i class=\"fa fa-cube\"></i> {{getWord(\'App Settings\')}}</a>\r\n                    </li>-->\r\n                </ul>\r\n            </li>\r\n\r\n            <li data-ui-sref-active=\"active\">\r\n                <a data-ui-sref=\"app.inbox.folder\" title=\"Outlook\">\r\n                    <i class=\"fa fa-lg fa-fw fa-inbox\"></i> <span class=\"menu-item-parent\">{{getWord(\'Outlook\')}}</span><span\r\n                        unread-messages-count class=\"badge pull-right inbox-badge\"></span></a>\r\n            </li>\r\n\r\n            <li data-menu-collapse>\r\n                <a href=\"#\"><i class=\"fa fa-lg fa-fw fa-bar-chart-o\"></i> <span class=\"menu-item-parent\">{{getWord(\'Graphs\')}}</span></a>\r\n                <ul>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.graphs.flot\">{{getWord(\'Flot Chart\')}}</a>\r\n                    </li>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.graphs.morris\">{{getWord(\'Morris Charts\')}}</a>\r\n                    </li>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.graphs.sparkline\">{{getWord(\'Sparkline\')}}</a>\r\n                    </li>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.graphs.easyPieCharts\">{{getWord(\'Easy Pie Charts\')}}</a>\r\n                    </li>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.graphs.dygraphs\">{{getWord(\'Dygraphs\')}}</a>\r\n                    </li>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.graphs.chartjs\">Chart.js</a>\r\n                    </li>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.graphs.highchartTables\">Highchart Tables <span\r\n                                class=\"badge pull-right inbox-badge bg-color-yellow\">new</span></a>\r\n                    </li>\r\n                </ul>\r\n            </li>\r\n\r\n            <li data-menu-collapse>\r\n                <a href=\"#\"><i class=\"fa fa-lg fa-fw fa-table\"></i> <span\r\n                        class=\"menu-item-parent\">{{getWord(\'Tables\')}}</span></a>\r\n                <ul>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.tables.normal\">{{getWord(\'Normal Tables\')}}</a>\r\n                    </li>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.tables.datatables\">{{getWord(\'Data Tables\')}} <span\r\n                                class=\"badge inbox-badge bg-color-greenLight\">v1.10</span></a>\r\n                    </li>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.tables.jqgrid\">{{getWord(\'Jquery Grid\')}}</a>\r\n                    </li>\r\n                </ul>\r\n            </li>\r\n\r\n            <li data-menu-collapse>\r\n                <a href=\"#\"><i class=\"fa fa-lg fa-fw fa-pencil-square-o\"></i> <span class=\"menu-item-parent\">{{getWord(\'Forms\')}}</span></a>\r\n                <ul>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.form.elements\">{{getWord(\'Smart Form Elements\')}}</a>\r\n                    </li>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.form.layouts\">{{getWord(\'Smart Form Layouts\')}}</a>\r\n                    </li>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.form.validation\">{{getWord(\'Smart Form Validation\')}}</a>\r\n                    </li>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.form.bootstrapForms\">{{getWord(\'Bootstrap Form Elements\')}}</a>\r\n                    </li>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.form.bootstrapValidation\">{{getWord(\'Bootstrap Form Validation\')}}</a>\r\n                    </li>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.form.plugins\">{{getWord(\'Form Plugins\')}}</a>\r\n                    </li>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.form.wizards\">{{getWord(\'Wizards\')}}</a>\r\n                    </li>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.form.editors\">{{getWord(\'Bootstrap Editors\')}}</a>\r\n                    </li>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.form.dropzone\">{{getWord(\'Dropzone\')}}</a>\r\n                    </li>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.form.imageEditor\">{{getWord(\'Image Cropping\')}} <span\r\n                                class=\"badge pull-right inbox-badge bg-color-yellow\">new</span></a>\r\n                    </li>\r\n                </ul>\r\n            </li>\r\n\r\n            <li data-menu-collapse>\r\n                <a href=\"#\"><i class=\"fa fa-lg fa-fw fa-desktop\"></i> <span class=\"menu-item-parent\">{{getWord(\'UI Elements\')}}</span></a>\r\n                <ul>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.ui.general\">{{getWord(\'General Elements\')}}</a>\r\n                    </li>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.ui.buttons\">{{getWord(\'Buttons\')}}</a>\r\n                    </li>\r\n                    <li data-menu-collapse>\r\n                        <a href=\"#\">{{getWord(\'Icons\')}}</a>\r\n                        <ul>\r\n                            <li data-ui-sref-active=\"active\">\r\n                                <a data-ui-sref=\"app.ui.iconsFa\"><i class=\"fa fa-plane\"></i> {{getWord(\'Font Awesome\')}}</a>\r\n                            </li>\r\n                            <li data-ui-sref-active=\"active\">\r\n                                <a data-ui-sref=\"app.ui.iconsGlyph\"><i class=\"glyphicon glyphicon-plane\"></i>\r\n                                    {{getWord(\'Glyph Icons\')}}</a>\r\n                            </li>\r\n                            <li data-ui-sref-active=\"active\">\r\n                                <a data-ui-sref=\"app.ui.iconsFlags\"><i class=\"fa fa-flag\"></i> {{getWord(\'Flags\')}}</a>\r\n                            </li>\r\n                        </ul>\r\n                    </li>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.ui.grid\">{{getWord(\'Grid\')}}</a>\r\n                    </li>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.ui.treeView\">{{getWord(\'Tree View\')}}</a>\r\n                    </li>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.ui.nestableLists\">{{getWord(\'Nestable Lists\')}}</a>\r\n                    </li>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.ui.jqueryUi\">{{getWord(\'JQuery UI\')}}</a>\r\n                    </li>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.ui.typography\">{{getWord(\'Typography\')}}</a>\r\n                    </li>\r\n                    <li data-menu-collapse>\r\n                        <a href=\"#\">{{getWord(\'Six Level Menu\')}}</a>\r\n                        <ul>\r\n                            <li data-menu-collapse>\r\n                                <a href=\"#\"><i class=\"fa fa-fw fa-folder-open\"></i> {{getWord(\'Item #2\')}}</a>\r\n                                <ul>\r\n                                    <li data-menu-collapse>\r\n                                        <a href=\"#\"><i class=\"fa fa-fw fa-folder-open\"></i> {{getWord(\'Sub #2.1\')}} </a>\r\n                                        <ul>\r\n                                            <li>\r\n                                                <a href=\"#\"><i class=\"fa fa-fw fa-file-text\"></i> {{getWord(\'Item\r\n                                                    #2.1.1\')}}</a>\r\n                                            </li>\r\n                                            <li data-menu-collapse>\r\n                                                <a href=\"#\"><i class=\"fa fa-fw fa-plus\"></i>{{getWord(\'Expand\')}}</a>\r\n                                                <ul>\r\n                                                    <li>\r\n                                                        <a href=\"#\"><i class=\"fa fa-fw fa-file-text\"></i>\r\n                                                            {{getWord(\'File\')}}</a>\r\n                                                    </li>\r\n                                                    <li>\r\n                                                        <a href=\"#\"><i class=\"fa fa-fw fa-trash-o\"></i>\r\n                                                            {{getWord(\'Delete\')}}</a></li>\r\n                                                </ul>\r\n                                            </li>\r\n                                        </ul>\r\n                                    </li>\r\n                                </ul>\r\n                            </li>\r\n                            <li data-menu-collapse>\r\n                                <a href=\"#\"><i class=\"fa fa-fw fa-folder-open\"></i> {{getWord(\'Item #3\')}}</a>\r\n\r\n                                <ul>\r\n                                    <li data-menu-collapse>\r\n                                        <a href=\"#\"><i class=\"fa fa-fw fa-folder-open\"></i> {{getWord(\'3ed Level\')}}\r\n                                        </a>\r\n                                        <ul>\r\n                                            <li>\r\n                                                <a href=\"#\"><i class=\"fa fa-fw fa-file-text\"></i>\r\n                                                    {{getWord(\'File\')}}</a>\r\n                                            </li>\r\n                                            <li>\r\n                                                <a href=\"#\"><i class=\"fa fa-fw fa-file-text\"></i>\r\n                                                    {{getWord(\'File\')}}</a>\r\n                                            </li>\r\n                                        </ul>\r\n                                    </li>\r\n                                </ul>\r\n\r\n                            </li>\r\n                        </ul>\r\n                    </li>\r\n                </ul>\r\n            </li>\r\n\r\n\r\n            <li data-ui-sref-active=\"active\">\r\n                <a data-ui-sref=\"app.widgets\" title=\"Widgets\"><i class=\"fa fa-lg fa-fw fa-list-alt\"></i><span\r\n                        class=\"menu-item-parent\">{{getWord(\'Widgets\')}}</span></a>\r\n            </li>\r\n\r\n\r\n\r\n            <li data-menu-collapse>\r\n                <a href=\"#\">\r\n                    <i class=\"fa fa-lg fa-fw fa-cloud\"><em>3</em></i> <span class=\"menu-item-parent\">{{getWord(\'Cool Features\')}}</span></a>\r\n                <ul>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.calendar\" title=\"Calendar\"><i\r\n                                class=\"fa fa-lg fa-fw fa-calendar\"></i> <span\r\n                                class=\"menu-item-parent\">{{getWord(\'Calendar\')}}</span></a>\r\n                    </li>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.maps\"><i class=\"fa fa-lg fa-fw fa-map-marker\"></i> <span class=\"menu-item-parent\">{{getWord(\'GMap Skins\')}}</span><span\r\n                                class=\"badge bg-color-greenLight pull-right inbox-badge\">9</span></a>\r\n                    </li>\r\n                </ul>\r\n            </li>\r\n\r\n            <li data-menu-collapse>\r\n                <a href=\"#\">\r\n                    <i class=\"fa fa-lg fa-fw fa-puzzle-piece\"></i> <span class=\"menu-item-parent\">{{getWord(\'App Views\')}}</span></a>\r\n                <ul>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.appViews.projects\"><i class=\"fa fa-file-text-o\"></i>\r\n                            {{getWord(\'Projects\')}}</a>\r\n                    </li>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.appViews.blogDemo\"><i class=\"fa fa-paragraph\"></i> {{getWord(\'Blog\')}}</a>\r\n                    </li>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.appViews.galleryDemo\"><i class=\"fa fa-picture-o\"></i>\r\n                            {{getWord(\'Gallery\')}}</a>\r\n                    </li>\r\n\r\n                    <li data-menu-collapse>\r\n                        <a href=\"#\"><i class=\"fa fa-comments\"></i> {{getWord(\'Forum Layout\')}}</a>\r\n                        <ul>\r\n                            <li data-ui-sref-active=\"active\">\r\n                                <a data-ui-sref=\"app.appViews.forumDemo\"><i class=\"fa fa-picture-o\"></i>\r\n                                    {{getWord(\'General View\')}}</a>\r\n                            </li>\r\n                            <li data-ui-sref-active=\"active\">\r\n                                <a data-ui-sref=\"app.appViews.forumTopicDemo\"><i class=\"fa fa-picture-o\"></i>\r\n                                    {{getWord(\'Topic View\')}}</a>\r\n                            </li>\r\n                            <li data-ui-sref-active=\"active\">\r\n                                <a data-ui-sref=\"app.appViews.forumPostDemo\"><i class=\"fa fa-picture-o\"></i>\r\n                                    {{getWord(\'Post View\')}}</a>\r\n                            </li>\r\n                        </ul>\r\n                    </li>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.appViews.profileDemo\"><i class=\"fa fa-group\"></i>\r\n                            {{getWord(\'Profile\')}}</a>\r\n                    </li>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.appViews.timelineDemo\"><i class=\"fa fa-clock-o\"></i>\r\n                            {{getWord(\'Timeline\')}}</a>\r\n                    </li>\r\n                </ul>\r\n            </li>\r\n\r\n            <li data-menu-collapse>\r\n                <a href=\"#\">\r\n                    <i class=\"fa fa-lg fa-fw fa-shopping-cart\"></i> <span class=\"menu-item-parent\">{{getWord(\'E-Commerce\')}}</span></a>\r\n                <ul>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.eCommerce.orders\" title=\"Orders\"> {{getWord(\'Orders\')}}</a>\r\n                    </li>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.eCommerce.products\" title=\"Products View\"> {{getWord(\'Products View\')}}</a>\r\n                    </li>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.eCommerce.detail\" title=\"Products Detail\"> {{getWord(\'Products Detail\')}}</a>\r\n                    </li>\r\n                </ul>\r\n            </li>\r\n\r\n            <li data-menu-collapse>\r\n                <a href=\"#\"><i class=\"fa fa-lg fa-fw fa-windows\"></i> <span class=\"menu-item-parent\">{{getWord(\'Miscellaneous\')}}</span></a>\r\n                <ul>\r\n                    <li>\r\n                        <a href=\"http://bootstraphunter.com/smartadmin-landing/\" target=\"_blank\">{{getWord(\'Landing\r\n                            Page\')}} <i class=\"fa fa-external-link\"></i></a>\r\n                    </li>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.misc.pricingTable\">{{getWord(\'Pricing Tables\')}}</a>\r\n                    </li>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.misc.invoice\">{{getWord(\'Invoice\')}}</a>\r\n                    </li>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"login\">{{getWord(\'Login\')}}</a>\r\n                    </li>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"register\">{{getWord(\'Register\')}}</a>\r\n                    </li>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"lock\">{{getWord(\'Locked Screen\')}}</a>\r\n                    </li>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.misc.error404\">{{getWord(\'Error 404\')}}</a>\r\n                    </li>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.misc.error500\">{{getWord(\'Error 500\')}}</a>\r\n                    </li>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.misc.blank\">{{getWord(\'Blank Page\')}}</a>\r\n                    </li>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.misc.emailTemplate\">{{getWord(\'Email Template\')}}</a>\r\n                    </li>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.misc.search\">{{getWord(\'Search Page\')}}</a>\r\n                    </li>\r\n                    <li data-ui-sref-active=\"active\">\r\n                        <a data-ui-sref=\"app.misc.ckeditor\">{{getWord(\'CK Editor\')}}</a>\r\n                    </li>\r\n                </ul>\r\n            </li>\r\n\r\n            <li data-menu-collapse class=\"chat-users top-menu-invisible\">\r\n                <a href=\"#\"><i class=\"fa fa-lg fa-fw fa-comment-o\"><em class=\"bg-color-pink flash animated\">!</em></i>\r\n                    <span class=\"menu-item-parent\">{{getWord(\'Smart Chat API\')}} <sup>{{getWord(\'beta\')}}</sup></span></a>\r\n                <div aside-chat-widget></div>\r\n            </li>\r\n        </ul>\r\n\r\n        <!-- NOTE: This allows you to pull menu items from server -->\r\n        <!-- <ul data-smart-menu-items=\"/api/menu-items.json\"></ul> -->\r\n    </nav>\r\n\r\n  <span class=\"minifyme\" data-action=\"minifyMenu\" minify-menu>\r\n    <i class=\"fa fa-arrow-circle-left hit\"></i>\r\n  </span>\r\n\r\n</aside>");
$templateCache.put("app/layout/partials/sub-header.tpl.html","<div class=\"col-xs-12 col-sm-5 col-md-5 col-lg-8\" data-sparkline-container>\r\n    <ul id=\"sparks\" class=\"\">\r\n        <li class=\"sparks-info\">\r\n            <h5> My Income <span class=\"txt-color-blue\">$47,171</span></h5>\r\n            <div class=\"sparkline txt-color-blue hidden-mobile hidden-md hidden-sm\">\r\n                1300, 1877, 2500, 2577, 2000, 2100, 3000, 2700, 3631, 2471, 2700, 3631, 2471\r\n            </div>\r\n        </li>\r\n        <li class=\"sparks-info\">\r\n            <h5> Site Traffic <span class=\"txt-color-purple\"><i class=\"fa fa-arrow-circle-up\"></i>&nbsp;45%</span></h5>\r\n            <div class=\"sparkline txt-color-purple hidden-mobile hidden-md hidden-sm\">\r\n                110,150,300,130,400,240,220,310,220,300, 270, 210\r\n            </div>\r\n        </li>\r\n        <li class=\"sparks-info\">\r\n            <h5> Site Orders <span class=\"txt-color-greenDark\"><i class=\"fa fa-shopping-cart\"></i>&nbsp;2447</span></h5>\r\n            <div class=\"sparkline txt-color-greenDark hidden-mobile hidden-md hidden-sm\">\r\n                110,150,300,130,400,240,220,310,220,300, 270, 210\r\n            </div>\r\n        </li>\r\n    </ul>\r\n</div>\r\n			");
$templateCache.put("app/layout/partials/voice-commands.tpl.html","<!-- TRIGGER BUTTON:\r\n<a href=\"/my-ajax-page.html\" data-toggle=\"modal\" data-target=\"#remoteModal\" class=\"btn btn-default\">Open Modal</a>  -->\r\n\r\n<!-- MODAL PLACE HOLDER\r\n<div class=\"modal fade\" id=\"remoteModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"remoteModalLabel\" aria-hidden=\"true\">\r\n<div class=\"modal-dialog\">\r\n<div class=\"modal-content\"></div>\r\n</div>\r\n</div>   -->\r\n<!--////////////////////////////////////-->\r\n\r\n<!--<div class=\"modal-header\">\r\n<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">\r\n&times;\r\n</button>\r\n<h4 class=\"modal-title\" id=\"myModalLabel\">Command List</h4>\r\n</div>-->\r\n<div class=\"modal-body\">\r\n\r\n	<h1><i class=\"fa fa-microphone text-muted\"></i>&nbsp;&nbsp; SmartAdmin Voice Command</h1>\r\n	<hr class=\"simple\">\r\n	<h5>Instruction</h5>\r\n\r\n	Click <span class=\"text-success\">\"Allow\"</span> to access your microphone and activate Voice Command.\r\n	You will notice a <span class=\"text-primary\"><strong>BLUE</strong> Flash</span> on the microphone icon indicating activation.\r\n	The icon will appear <span class=\"text-danger\"><strong>RED</strong></span> <span class=\"label label-danger\"><i class=\"fa fa-microphone fa-lg\"></i></span> if you <span class=\"text-danger\">\"Deny\"</span> access or don\'t have any microphone installed.\r\n	<br>\r\n	<br>\r\n	As a security precaution, your browser will disconnect the microphone every 60 to 120 seconds (sooner if not being used). In which case Voice Command will prompt you again to <span class=\"text-success\">\"Allow\"</span> or <span class=\"text-danger\">\"Deny\"</span> access to your microphone.\r\n	<br>\r\n	<br>\r\n	If you host your page over <strong>http<span class=\"text-success\">s</span></strong> (secure socket layer) protocol you can wave this security measure and have an unintrupted Voice Command.\r\n	<br>\r\n	<br>\r\n	<h5>Commands</h5>\r\n	<ul>\r\n		<li>\r\n			<strong>\'show\' </strong> then say the <strong>*page*</strong> you want to go to. For example <strong>\"show inbox\"</strong> or <strong>\"show calendar\"</strong>\r\n		</li>\r\n		<li>\r\n			<strong>\'mute\' </strong> - mutes all sound effects for the theme.\r\n		</li>\r\n		<li>\r\n			<strong>\'sound on\'</strong> - unmutes all sound effects for the theme.\r\n		</li>\r\n		<li>\r\n			<span class=\"text-danger\"><strong>\'stop\'</strong></span> - deactivates voice command.\r\n		</li>\r\n		<li>\r\n			<span class=\"text-primary\"><strong>\'help\'</strong></span> - brings up the command list\r\n		</li>\r\n		<li>\r\n			<span class=\"text-danger\"><strong>\'got it\'</strong></span> - closes help modal\r\n		</li>\r\n		<li>\r\n			<strong>\'hide navigation\'</strong> - toggle navigation collapse\r\n		</li>\r\n		<li>\r\n			<strong>\'show navigation\'</strong> - toggle navigation to open (can be used again to close)\r\n		</li>\r\n		<li>\r\n			<strong>\'scroll up\'</strong> - scrolls to the top of the page\r\n		</li>\r\n		<li>\r\n			<strong>\'scroll down\'</strong> - scrollts to the bottom of the page\r\n		</li>\r\n		<li>\r\n			<strong>\'go back\' </strong> - goes back in history (history -1 click)\r\n		</li>\r\n		<li>\r\n			<strong>\'logout\'</strong> - logs you out\r\n		</li>\r\n	</ul>\r\n	<br>\r\n	<h5>Adding your own commands</h5>\r\n	Voice Command supports up to 80 languages. Adding your own commands is extreamly easy. All commands are stored inside <strong>app.config.js</strong> file under the <code>var commands = {...}</code>. \r\n\r\n	<hr class=\"simple\">\r\n	<div class=\"text-right\">\r\n		<button type=\"button\" class=\"btn btn-success btn-lg\" data-dismiss=\"modal\">\r\n			Got it!\r\n		</button>\r\n	</div>\r\n\r\n</div>\r\n<!--<div class=\"modal-footer\">\r\n<button type=\"button\" class=\"btn btn-primary\" data-dismiss=\"modal\">Got it!</button>\r\n</div> -->");
$templateCache.put("app/layout/shortcut/shortcut.tpl.html","<div id=\"shortcut\">\r\n    <ul>\r\n        <li>\r\n            <a href=\"#/erp/sales/SalesOrders\" class=\"jarvismetro-tile big-cubes bg-color-blue\">\r\n                <span class=\"iconbox\"> <i class=\"fa fa-envelope fa-4x\"></i> <span>Sales</span> </span>\r\n            </a>\r\n        </li>\r\n        <li>\r\n            <a href=\"#/erp/shipment/ShipmentRequests\" class=\"jarvismetro-tile big-cubes bg-color-purple\">\r\n                <span class=\"iconbox\"> <i class=\"fa fa-map-marker fa-4x\"></i> <span>Shipment</span> </span>\r\n            </a>\r\n        </li>\r\n        <li>\r\n            <a href=\"#/erp/finance/CashTransactions\" class=\"jarvismetro-tile big-cubes bg-color-blueDark\">\r\n                <span class=\"iconbox\"> <i class=\"fa fa-book fa-4x\"></i> <span>Finance</span> </span>\r\n            </a>\r\n        </li>\r\n        <li>\r\n            <a href=\"#/erp/inventory/StockPositions\" class=\"jarvismetro-tile big-cubes bg-color-orangeDark\">\r\n                <span class=\"iconbox\"> <i class=\"fa fa-calendar fa-4x\"></i> <span>Inventory</span> </span>\r\n            </a>\r\n        </li>\r\n        <li>\r\n            <a href=\"#/erp/purchase/PurchaseOrders\" class=\"jarvismetro-tile big-cubes bg-color-green\">\r\n                <span class=\"iconbox\"> <i class=\"fa fa-shopping-cart fa-4x\"></i> <span>Purchasing</span> </span>\r\n            </a>\r\n        </li>\r\n        <li>\r\n            <a href=\"#/erp/supportingData/session\" class=\"jarvismetro-tile big-cubes bg-color-teal\">\r\n                <span class=\"iconbox\"> <i class=\"fa fa-sitemap fa-4x\"></i> <span>Supporting Data</span> </span>\r\n            </a>\r\n        </li>\r\n        <li>\r\n            <a href=\"#/erp/masterData\" class=\"jarvismetro-tile big-cubes bg-color-red\">\r\n                <span class=\"iconbox\"> <i class=\"fa fa-money fa-4x\"></i> <span>Master Data</span> </span>\r\n            </a>\r\n        </li>\r\n    </ul>\r\n</div>\r\n");
$templateCache.put("app/_common/forms/directives/bootstrap-validation/bootstrap-attribute-form.tpl.html","<form id=\"attributeForm\" class=\"form-horizontal\"\r\n      data-bv-message=\"This value is not valid\"\r\n      data-bv-feedbackicons-valid=\"glyphicon glyphicon-ok\"\r\n      data-bv-feedbackicons-invalid=\"glyphicon glyphicon-remove\"\r\n      data-bv-feedbackicons-validating=\"glyphicon glyphicon-refresh\">\r\n\r\n    <fieldset>\r\n        <legend>\r\n            Set validator options via HTML attributes\r\n        </legend>\r\n\r\n        <div class=\"alert alert-warning\">\r\n            <code>&lt; input\r\n                data-bv-validatorname\r\n                data-bv-validatorname-validatoroption=\"...\" / &gt;</code>\r\n\r\n            <br>\r\n            <br>\r\n            More validator options can be found here:\r\n            <a href=\"http://bootstrapvalidator.com/validators/\" target=\"_blank\">http://bootstrapvalidator.com/validators/</a>\r\n        </div>\r\n\r\n        <div class=\"form-group\">\r\n            <label class=\"col-lg-3 control-label\">Full name</label>\r\n            <div class=\"col-lg-4\">\r\n                <input type=\"text\" class=\"form-control\" name=\"firstName\" placeholder=\"First name\"\r\n                       data-bv-notempty=\"true\"\r\n                       data-bv-notempty-message=\"The first name is required and cannot be empty\" />\r\n            </div>\r\n            <div class=\"col-lg-4\">\r\n                <input type=\"text\" class=\"form-control\" name=\"lastName\" placeholder=\"Last name\"\r\n                       data-bv-notempty=\"true\"\r\n                       data-bv-notempty-message=\"The last name is required and cannot be empty\" />\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n\r\n    <fieldset>\r\n        <div class=\"form-group\">\r\n            <label class=\"col-lg-3 control-label\">Username</label>\r\n            <div class=\"col-lg-5\">\r\n                <input type=\"text\" class=\"form-control\" name=\"username\"\r\n                       data-bv-message=\"The username is not valid\"\r\n\r\n                       data-bv-notempty=\"true\"\r\n                       data-bv-notempty-message=\"The username is required and cannot be empty\"\r\n\r\n                       data-bv-regexp=\"true\"\r\n                       data-bv-regexp-regexp=\"^[a-zA-Z0-9_\\.]+$\"\r\n                       data-bv-regexp-message=\"The username can only consist of alphabetical, number, dot and underscore\"\r\n\r\n                       data-bv-stringlength=\"true\"\r\n                       data-bv-stringlength-min=\"6\"\r\n                       data-bv-stringlength-max=\"30\"\r\n                       data-bv-stringlength-message=\"The username must be more than 6 and less than 30 characters long\"\r\n\r\n                       data-bv-different=\"true\"\r\n                       data-bv-different-field=\"password\"\r\n                       data-bv-different-message=\"The username and password cannot be the same as each other\" />\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n\r\n    <fieldset>\r\n        <div class=\"form-group\">\r\n            <label class=\"col-lg-3 control-label\">Email address</label>\r\n            <div class=\"col-lg-5\">\r\n                <input class=\"form-control\" name=\"email\" type=\"email\"\r\n                       data-bv-emailaddress=\"true\"\r\n                       data-bv-emailaddress-message=\"The input is not a valid email address\" />\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n\r\n    <fieldset>\r\n        <div class=\"form-group\">\r\n            <label class=\"col-lg-3 control-label\">Password</label>\r\n            <div class=\"col-lg-5\">\r\n                <input type=\"password\" class=\"form-control\" name=\"password\"\r\n                       data-bv-notempty=\"true\"\r\n                       data-bv-notempty-message=\"The password is required and cannot be empty\"\r\n\r\n                       data-bv-identical=\"true\"\r\n                       data-bv-identical-field=\"confirmPassword\"\r\n                       data-bv-identical-message=\"The password and its confirm are not the same\"\r\n\r\n                       data-bv-different=\"true\"\r\n                       data-bv-different-field=\"username\"\r\n                       data-bv-different-message=\"The password cannot be the same as username\" />\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n\r\n    <fieldset>\r\n        <div class=\"form-group\">\r\n            <label class=\"col-lg-3 control-label\">Retype password</label>\r\n            <div class=\"col-lg-5\">\r\n                <input type=\"password\" class=\"form-control\" name=\"confirmPassword\"\r\n                       data-bv-notempty=\"true\"\r\n                       data-bv-notempty-message=\"The confirm password is required and cannot be empty\"\r\n\r\n                       data-bv-identical=\"true\"\r\n                       data-bv-identical-field=\"password\"\r\n                       data-bv-identical-message=\"The password and its confirm are not the same\"\r\n\r\n                       data-bv-different=\"true\"\r\n                       data-bv-different-field=\"username\"\r\n                       data-bv-different-message=\"The password cannot be the same as username\" />\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n\r\n    <fieldset>\r\n        <div class=\"form-group\">\r\n            <label class=\"col-lg-3 control-label\">Languages</label>\r\n            <div class=\"col-lg-5\">\r\n                <div class=\"checkbox\">\r\n                    <label>\r\n                        <input type=\"checkbox\" name=\"languages[]\" value=\"english\"\r\n                               data-bv-message=\"Please specify at least one language you can speak\"\r\n                               data-bv-notempty=\"true\" />\r\n                        English </label>\r\n                </div>\r\n                <div class=\"checkbox\">\r\n                    <label>\r\n                        <input type=\"checkbox\" name=\"languages[]\" value=\"french\" />\r\n                        French </label>\r\n                </div>\r\n                <div class=\"checkbox\">\r\n                    <label>\r\n                        <input type=\"checkbox\" name=\"languages[]\" value=\"german\" />\r\n                        German </label>\r\n                </div>\r\n                <div class=\"checkbox\">\r\n                    <label>\r\n                        <input type=\"checkbox\" name=\"languages[]\" value=\"russian\" />\r\n                        Russian </label>\r\n                </div>\r\n                <div class=\"checkbox\">\r\n                    <label>\r\n                        <input type=\"checkbox\" name=\"languages[]\" value=\"other\" />\r\n                        Other </label>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n\r\n    <div class=\"form-actions\">\r\n        <div class=\"row\">\r\n            <div class=\"col-md-12\">\r\n                <button class=\"btn btn-default\" type=\"submit\">\r\n                    <i class=\"fa fa-eye\"></i>\r\n                    Validate\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</form>\r\n     ");
$templateCache.put("app/_common/forms/directives/bootstrap-validation/bootstrap-button-group-form.tpl.html","<form id=\"buttonGroupForm\" method=\"post\" class=\"form-horizontal\">\r\n\r\n    <fieldset>\r\n        <legend>\r\n            Default Form Elements\r\n        </legend>\r\n        <div class=\"form-group\">\r\n            <label class=\"col-lg-3 control-label\">Gender</label>\r\n            <div class=\"col-lg-9\">\r\n                <div class=\"btn-group\" data-toggle=\"buttons\">\r\n                    <label class=\"btn btn-default\">\r\n                        <input type=\"radio\" name=\"gender\" value=\"male\" />\r\n                        Male </label>\r\n                    <label class=\"btn btn-default\">\r\n                        <input type=\"radio\" name=\"gender\" value=\"female\" />\r\n                        Female </label>\r\n                    <label class=\"btn btn-default\">\r\n                        <input type=\"radio\" name=\"gender\" value=\"other\" />\r\n                        Other </label>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n\r\n    <fieldset>\r\n        <div class=\"form-group\">\r\n            <label class=\"col-lg-3 control-label\">Languages</label>\r\n            <div class=\"col-lg-9\">\r\n                <div class=\"btn-group\" data-toggle=\"buttons\">\r\n                    <label class=\"btn btn-default\">\r\n                        <input type=\"checkbox\" name=\"languages[]\" value=\"english\" />\r\n                        English </label>\r\n                    <label class=\"btn btn-default\">\r\n                        <input type=\"checkbox\" name=\"languages[]\" value=\"german\" />\r\n                        German </label>\r\n                    <label class=\"btn btn-default\">\r\n                        <input type=\"checkbox\" name=\"languages[]\" value=\"french\" />\r\n                        French </label>\r\n                    <label class=\"btn btn-default\">\r\n                        <input type=\"checkbox\" name=\"languages[]\" value=\"russian\" />\r\n                        Russian </label>\r\n                    <label class=\"btn btn-default\">\r\n                        <input type=\"checkbox\" name=\"languages[]\" value=\"italian\">\r\n                        Italian </label>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n\r\n    <div class=\"form-actions\">\r\n        <div class=\"row\">\r\n            <div class=\"col-md-12\">\r\n                <button class=\"btn btn-default\" type=\"submit\">\r\n                    <i class=\"fa fa-eye\"></i>\r\n                    Validate\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</form>\r\n");
$templateCache.put("app/_common/forms/directives/bootstrap-validation/bootstrap-contact-form.tpl.html","<form id=\"contactForm\" method=\"post\" class=\"form-horizontal\">\r\n\r\n    <fieldset>\r\n        <legend>Showing messages in custom area</legend>\r\n        <div class=\"form-group\">\r\n            <label class=\"col-md-3 control-label\">Full name</label>\r\n            <div class=\"col-md-6\">\r\n                <input type=\"text\" class=\"form-control\" name=\"fullName\" />\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n\r\n    <fieldset>\r\n        <div class=\"form-group\">\r\n            <label class=\"col-md-3 control-label\">Email</label>\r\n            <div class=\"col-md-6\">\r\n                <input type=\"text\" class=\"form-control\" name=\"email\" />\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n\r\n    <fieldset>\r\n        <div class=\"form-group\">\r\n            <label class=\"col-md-3 control-label\">Title</label>\r\n            <div class=\"col-md-6\">\r\n                <input type=\"text\" class=\"form-control\" name=\"title\" />\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n\r\n    <fieldset>\r\n        <div class=\"form-group\">\r\n            <label class=\"col-md-3 control-label\">Content</label>\r\n            <div class=\"col-md-6\">\r\n                <textarea class=\"form-control\" name=\"content\" rows=\"5\"></textarea>\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n\r\n    <fieldset>\r\n        <!-- #messages is where the messages are placed inside -->\r\n        <div class=\"form-group\">\r\n            <div class=\"col-md-9 col-md-offset-3\">\r\n                <div id=\"messages\"></div>\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n\r\n    <div class=\"form-actions\">\r\n        <div class=\"row\">\r\n            <div class=\"col-md-12\">\r\n                <button class=\"btn btn-default\" type=\"submit\">\r\n                    <i class=\"fa fa-eye\"></i>\r\n                    Validate\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</form>\r\n");
$templateCache.put("app/_common/forms/directives/bootstrap-validation/bootstrap-movie-form.tpl.html","\r\n<form id=\"movieForm\" method=\"post\">\r\n\r\n    <fieldset>\r\n        <legend>\r\n            Default Form Elements\r\n        </legend>\r\n        <div class=\"form-group\">\r\n            <div class=\"row\">\r\n                <div class=\"col-md-8\">\r\n                    <label class=\"control-label\">Movie title</label>\r\n                    <input type=\"text\" class=\"form-control\" name=\"title\" />\r\n                </div>\r\n\r\n                <div class=\"col-md-4 selectContainer\">\r\n                    <label class=\"control-label\">Genre</label>\r\n                    <select class=\"form-control\" name=\"genre\">\r\n                        <option value=\"\">Choose a genre</option>\r\n                        <option value=\"action\">Action</option>\r\n                        <option value=\"comedy\">Comedy</option>\r\n                        <option value=\"horror\">Horror</option>\r\n                        <option value=\"romance\">Romance</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n\r\n    <fieldset>\r\n        <div class=\"form-group\">\r\n            <div class=\"row\">\r\n                <div class=\"col-sm-12 col-md-4\">\r\n                    <label class=\"control-label\">Director</label>\r\n                    <input type=\"text\" class=\"form-control\" name=\"director\" />\r\n                </div>\r\n\r\n                <div class=\"col-sm-12 col-md-4\">\r\n                    <label class=\"control-label\">Writer</label>\r\n                    <input type=\"text\" class=\"form-control\" name=\"writer\" />\r\n                </div>\r\n\r\n                <div class=\"col-sm-12 col-md-4\">\r\n                    <label class=\"control-label\">Producer</label>\r\n                    <input type=\"text\" class=\"form-control\" name=\"producer\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n\r\n    <fieldset>\r\n        <div class=\"form-group\">\r\n            <div class=\"row\">\r\n                <div class=\"col-sm-12 col-md-6\">\r\n                    <label class=\"control-label\">Website</label>\r\n                    <input type=\"text\" class=\"form-control\" name=\"website\" />\r\n                </div>\r\n\r\n                <div class=\"col-sm-12 col-md-6\">\r\n                    <label class=\"control-label\">Youtube trailer</label>\r\n                    <input type=\"text\" class=\"form-control\" name=\"trailer\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n\r\n    <fieldset>\r\n        <div class=\"form-group\">\r\n            <label class=\"control-label\">Review</label>\r\n            <textarea class=\"form-control\" name=\"review\" rows=\"8\"></textarea>\r\n        </div>\r\n    </fieldset>\r\n\r\n    <fieldset>\r\n        <div class=\"form-group\">\r\n\r\n            <div class=\"row\">\r\n                <div class=\"col-sm-12 col-md-12\">\r\n                    <label class=\"control-label\">Rating</label>\r\n                </div>\r\n\r\n                <div class=\"col-sm-12 col-md-10\">\r\n\r\n                    <label class=\"radio radio-inline no-margin\">\r\n                        <input type=\"radio\" name=\"rating\" value=\"terrible\" class=\"radiobox style-2\" />\r\n                        <span>Terrible</span> </label>\r\n\r\n                    <label class=\"radio radio-inline\">\r\n                        <input type=\"radio\" name=\"rating\" value=\"watchable\" class=\"radiobox style-2\" />\r\n                        <span>Watchable</span> </label>\r\n                    <label class=\"radio radio-inline\">\r\n                        <input type=\"radio\" name=\"rating\" value=\"best\" class=\"radiobox style-2\" />\r\n                        <span>Best ever</span> </label>\r\n\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </div>\r\n    </fieldset>\r\n\r\n    <div class=\"form-actions\">\r\n        <div class=\"row\">\r\n            <div class=\"col-md-12\">\r\n                <button class=\"btn btn-default\" type=\"submit\">\r\n                    <i class=\"fa fa-eye\"></i>\r\n                    Validate\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</form>\r\n\r\n ");
$templateCache.put("app/_common/forms/directives/bootstrap-validation/bootstrap-product-form.tpl.html","<form id=\"productForm\" class=\"form-horizontal\">\r\n\r\n    <fieldset>\r\n        <legend>\r\n            Default Form Elements\r\n        </legend>\r\n        <div class=\"form-group\">\r\n            <label class=\"col-xs-2 col-lg-3 control-label\">Price</label>\r\n            <div class=\"col-xs-9 col-lg-6 inputGroupContainer\">\r\n                <div class=\"input-group\">\r\n                    <input type=\"text\" class=\"form-control\" name=\"price\" />\r\n                    <span class=\"input-group-addon\">$</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n\r\n    <fieldset>\r\n        <div class=\"form-group\">\r\n            <label class=\"col-xs-2 col-lg-3 control-label\">Amount</label>\r\n            <div class=\"col-xs-9 col-lg-6 inputGroupContainer\">\r\n                <div class=\"input-group\">\r\n                    <span class=\"input-group-addon\">&#8364;</span>\r\n                    <input type=\"text\" class=\"form-control\" name=\"amount\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n\r\n    <fieldset>\r\n        <div class=\"form-group\">\r\n            <label class=\"col-xs-2 col-lg-3 control-label\">Color</label>\r\n            <div class=\"col-xs-9 col-lg-6 selectContainer\">\r\n                <select class=\"form-control\" name=\"color\">\r\n                    <option value=\"\">Choose a color</option>\r\n                    <option value=\"blue\">Blue</option>\r\n                    <option value=\"green\">Green</option>\r\n                    <option value=\"red\">Red</option>\r\n                    <option value=\"yellow\">Yellow</option>\r\n                    <option value=\"white\">White</option>\r\n                </select>\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n\r\n    <fieldset>\r\n        <div class=\"form-group\">\r\n            <label class=\"col-xs-2 col-lg-3 control-label\">Size</label>\r\n            <div class=\"col-xs-9 col-lg-6 selectContainer\">\r\n                <select class=\"form-control\" name=\"size\">\r\n                    <option value=\"\">Choose a size</option>\r\n                    <option value=\"S\">S</option>\r\n                    <option value=\"M\">M</option>\r\n                    <option value=\"L\">L</option>\r\n                    <option value=\"XL\">XL</option>\r\n                </select>\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n\r\n    <div class=\"form-actions\">\r\n        <div class=\"row\">\r\n            <div class=\"col-md-12\">\r\n                <button class=\"btn btn-default\" type=\"submit\">\r\n                    <i class=\"fa fa-eye\"></i>\r\n                    Validate\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</form>\r\n\r\n");
$templateCache.put("app/_common/forms/directives/bootstrap-validation/bootstrap-profile-form.tpl.html","<form id=\"profileForm\">\r\n\r\n    <fieldset>\r\n        <legend>\r\n            Default Form Elements\r\n        </legend>\r\n        <div class=\"form-group\">\r\n            <label>Email address</label>\r\n            <input type=\"text\" class=\"form-control\" name=\"email\" />\r\n        </div>\r\n    </fieldset>\r\n    <fieldset>\r\n        <div class=\"form-group\">\r\n            <label>Password</label>\r\n            <input type=\"password\" class=\"form-control\" name=\"password\" />\r\n        </div>\r\n    </fieldset>\r\n\r\n    <div class=\"form-actions\">\r\n        <div class=\"row\">\r\n            <div class=\"col-md-12\">\r\n                <button class=\"btn btn-default\" type=\"submit\">\r\n                    <i class=\"fa fa-eye\"></i>\r\n                    Validate\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</form>\r\n");
$templateCache.put("app/_common/forms/directives/bootstrap-validation/bootstrap-toggling-form.tpl.html","<form id=\"togglingForm\" method=\"post\" class=\"form-horizontal\">\r\n\r\n    <fieldset>\r\n        <legend>\r\n            Default Form Elements\r\n        </legend>\r\n        <div class=\"form-group\">\r\n            <label class=\"col-lg-3 control-label\">Full name <sup>*</sup></label>\r\n            <div class=\"col-lg-4\">\r\n                <input type=\"text\" class=\"form-control\" name=\"firstName\" placeholder=\"First name\" />\r\n            </div>\r\n            <div class=\"col-lg-4\">\r\n                <input type=\"text\" class=\"form-control\" name=\"lastName\" placeholder=\"Last name\" />\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n\r\n    <fieldset>\r\n        <div class=\"form-group\">\r\n            <label class=\"col-lg-3 control-label\">Company <sup>*</sup></label>\r\n            <div class=\"col-lg-5\">\r\n                <input type=\"text\" class=\"form-control\" name=\"company\"\r\n                       required data-bv-notempty-message=\"The company name is required\" />\r\n            </div>\r\n            <div class=\"col-lg-2\">\r\n                <button type=\"button\" class=\"btn btn-info btn-sm\" data-toggle=\"#jobInfo\">\r\n                    Add more info\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n\r\n    <!-- These fields will not be validated as long as they are not visible -->\r\n    <div id=\"jobInfo\" style=\"display: none;\">\r\n        <fieldset>\r\n            <div class=\"form-group\">\r\n                <label class=\"col-lg-3 control-label\">Job title <sup>*</sup></label>\r\n                <div class=\"col-lg-5\">\r\n                    <input type=\"text\" class=\"form-control\" name=\"job\" />\r\n                </div>\r\n            </div>\r\n        </fieldset>\r\n\r\n        <fieldset>\r\n            <div class=\"form-group\">\r\n                <label class=\"col-lg-3 control-label\">Department <sup>*</sup></label>\r\n                <div class=\"col-lg-5\">\r\n                    <input type=\"text\" class=\"form-control\" name=\"department\" />\r\n                </div>\r\n            </div>\r\n        </fieldset>\r\n    </div>\r\n\r\n    <fieldset>\r\n        <div class=\"form-group\">\r\n            <label class=\"col-lg-3 control-label\">Mobile phone <sup>*</sup></label>\r\n            <div class=\"col-lg-5\">\r\n                <input type=\"text\" class=\"form-control\" name=\"mobilePhone\" />\r\n            </div>\r\n            <div class=\"col-lg-2\">\r\n                <button type=\"button\" class=\"btn btn-info btn-sm\" data-toggle=\"#phoneInfo\">\r\n                    Add more phone numbers\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </fieldset>\r\n    <!-- These fields will not be validated as long as they are not visible -->\r\n    <div id=\"phoneInfo\" style=\"display: none;\">\r\n\r\n        <fieldset>\r\n            <div class=\"form-group\">\r\n                <label class=\"col-lg-3 control-label\">Home phone</label>\r\n                <div class=\"col-lg-5\">\r\n                    <input type=\"text\" class=\"form-control\" name=\"homePhone\" />\r\n                </div>\r\n            </div>\r\n        </fieldset>\r\n        <fieldset>\r\n            <div class=\"form-group\">\r\n                <label class=\"col-lg-3 control-label\">Office phone</label>\r\n                <div class=\"col-lg-5\">\r\n                    <input type=\"text\" class=\"form-control\" name=\"officePhone\" />\r\n                </div>\r\n            </div>\r\n        </fieldset>\r\n    </div>\r\n\r\n    <div class=\"form-actions\">\r\n        <div class=\"row\">\r\n            <div class=\"col-md-12\">\r\n                <button class=\"btn btn-default\" type=\"submit\">\r\n                    <i class=\"fa fa-eye\"></i>\r\n                    Validate\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</form>");
$templateCache.put("app/_common/layout/directives/demo/demo-states.tpl.html","<div class=\"demo\"><span id=\"demo-setting\"><i class=\"fa fa-cog txt-color-blueDark\"></i></span>\r\n\r\n    <form>\r\n        <legend class=\"no-padding margin-bottom-10\">Layout Options</legend>\r\n        <section>\r\n            <label><input type=\"checkbox\" ng-model=\"fixedHeader\"\r\n                          class=\"checkbox style-0\"><span>Fixed Header</span></label>\r\n            <label><input type=\"checkbox\"\r\n                          ng-model=\"fixedNavigation\"\r\n                          class=\"checkbox style-0\"><span>Fixed Navigation</span></label>\r\n            <label><input type=\"checkbox\"\r\n                          ng-model=\"fixedRibbon\"\r\n                          class=\"checkbox style-0\"><span>Fixed Ribbon</span></label>\r\n            <label><input type=\"checkbox\"\r\n                          ng-model=\"fixedPageFooter\"\r\n                          class=\"checkbox style-0\"><span>Fixed Footer</span></label>\r\n            <label><input type=\"checkbox\"\r\n                          ng-model=\"insideContainer\"\r\n                          class=\"checkbox style-0\"><span>Inside <b>.container</b></span></label>\r\n            <label><input type=\"checkbox\"\r\n                          ng-model=\"rtl\"\r\n                          class=\"checkbox style-0\"><span>RTL</span></label>\r\n            <label><input type=\"checkbox\"\r\n                          ng-model=\"menuOnTop\"\r\n                          class=\"checkbox style-0\"><span>Menu on <b>top</b></span></label>\r\n            <label><input type=\"checkbox\"\r\n                          ng-model=\"colorblindFriendly\"\r\n                          class=\"checkbox style-0\"><span>For Colorblind <div\r\n                    class=\"font-xs text-right\">(experimental)\r\n            </div></span>\r\n            </label><span id=\"smart-bgimages\"></span></section>\r\n        <section><h6 class=\"margin-top-10 semi-bold margin-bottom-5\">Clear Localstorage</h6><a\r\n                ng-click=\"factoryReset()\" class=\"btn btn-xs btn-block btn-primary\" id=\"reset-smart-widget\"><i\r\n                class=\"fa fa-refresh\"></i> Factory Reset</a></section>\r\n\r\n        <h6 class=\"margin-top-10 semi-bold margin-bottom-5\">SmartAdmin Skins</h6>\r\n\r\n\r\n        <section id=\"smart-styles\">\r\n            <a ng-repeat=\"skin in skins\" ng-click=\"setSkin(skin)\" class=\"{{skin.class}}\" style=\"{{skin.style}}\"><i ng-if=\"skin.name == $parent.smartSkin\" class=\"fa fa-check fa-fw\"></i> {{skin.label}} <sup ng-if=\"skin.beta\">beta</sup></a>\r\n        </section>\r\n    </form>\r\n</div>");}]);
"use strict";

angular.module('app.auth').directive('googleSignin', function ($rootScope, GooglePlus) {
    return {
        restrict: 'E',
        template: '<a class="g-signin btn btn-block btn-social btn-google-plus"><i class="fa fa-google-plus"></i> Sign in with Google</a>',
        replace: true,
        link: function (scope, element) {
            element.on('click', function(){
                GooglePlus.login().then(function (authResult) {
                    $rootScope.$broadcast('event:google-plus-signin-success', authResult);

                }, function (err) {
                    $rootScope.$broadcast('event:google-plus-signin-failure', err);

                });
            })
        }
    };
});

"use strict";

angular.module('SmartAdmin.Layout').directive('fullScreen', function(){
    return {
        restrict: 'A',
        link: function(scope, element){
            var $body = $('body');
            var toggleFullSceen = function(e){
                if (!$body.hasClass("full-screen")) {
                    $body.addClass("full-screen");
                    if (document.documentElement.requestFullscreen) {
                        document.documentElement.requestFullscreen();
                    } else if (document.documentElement.mozRequestFullScreen) {
                        document.documentElement.mozRequestFullScreen();
                    } else if (document.documentElement.webkitRequestFullscreen) {
                        document.documentElement.webkitRequestFullscreen();
                    } else if (document.documentElement.msRequestFullscreen) {
                        document.documentElement.msRequestFullscreen();
                    }
                } else {
                    $body.removeClass("full-screen");
                    if (document.exitFullscreen) {
                        document.exitFullscreen();
                    } else if (document.mozCancelFullScreen) {
                        document.mozCancelFullScreen();
                    } else if (document.webkitExitFullscreen) {
                        document.webkitExitFullscreen();
                    }
                }
            };

            element.on('click', toggleFullSceen);

        }
    }
});
'use strict';

angular.module('SmartAdmin.Layout').directive('minifyMenu', function () {
    return {
        restrict: 'A',
        link: function (scope, element) {
            var $body = $('body');

            // Fungsi untuk menyimpan status menu di localStorage
            var saveMenuState = function () {
                if ($body.hasClass('minified')) {
                    localStorage.setItem('menuMinified', 'true');
                } else {
                    localStorage.setItem('menuMinified', 'false');
                }
            };

            // Fungsi untuk toggle minified menu
            var minifyMenu = function () {
                if (!$body.hasClass('menu-on-top')) {
                    $body.toggleClass('minified');
                    $body.removeClass('hidden-menu');
                    $('html').removeClass('hidden-menu-mobile-lock');

                    // Simpan status menu
                    saveMenuState();
                }
            };

            // Cek localStorage saat halaman dimuat
            if (localStorage.getItem('menuMinified') === 'true') {
                $body.addClass('minified');
            }

            element.on('click', minifyMenu);
        },
    };
});

'use strict';

angular.module('SmartAdmin.Layout').directive('reloadState', function ($rootScope) {
    return {
        restrict: 'A',
        compile: function (tElement, tAttributes) {
            tElement.removeAttr('reload-state data-reload-state');
            tElement.on('click', function (e) {
                $rootScope.$state.transitionTo($rootScope.$state.current, $rootScope.$stateParams, {
                    reload: true,
                    inherit: false,
                    notify: true
                });
                e.preventDefault();
            })
        }
    }
});

"use strict";

angular.module('SmartAdmin.Layout').directive('resetWidgets', function($state){

    return {
        restrict: 'A',
        link: function(scope, element){
            element.on('click', function(){
                $.SmartMessageBox({
                    title : "<i class='fa fa-refresh' style='color:green'></i> Clear Local Storage",
                    content : "Would you like to RESET all your saved widgets and clear LocalStorage?1",
                    buttons : '[No][Yes]'
                }, function(ButtonPressed) {
                    if (ButtonPressed == "Yes" && localStorage) {
                        localStorage.clear();
                        location.reload()
                    }
                });

            });
        }
    }

});

'use strict';

angular.module('SmartAdmin.Layout').directive('searchMobile', function () {
    return {
        restrict: 'A',
        compile: function (element, attributes) {
            element.removeAttr('search-mobile data-search-mobile');

            element.on('click', function (e) {
                $('body').addClass('search-mobile');
                e.preventDefault();
            });

            $('#cancel-search-js').on('click', function (e) {
                $('body').removeClass('search-mobile');
                e.preventDefault();
            });
        }
    }
});
"use strict";

angular.module('SmartAdmin.Layout').directive('toggleMenu', function(){
    return {
        restrict: 'A',
        link: function(scope, element){
            var $body = $('body');

            var toggleMenu = function(){
                if (!$body.hasClass("menu-on-top")){
                    $('html').toggleClass("hidden-menu-mobile-lock");
                    $body.toggleClass("hidden-menu");
                    $body.removeClass("minified");
                } else if ( $body.hasClass("menu-on-top") && $body.hasClass("mobile-view-activated") ) {
                    $('html').toggleClass("hidden-menu-mobile-lock");
                    $body.toggleClass("hidden-menu");
                    $body.removeClass("minified");
                }
            };

            element.on('click', toggleMenu);

            scope.$on('requestToggleMenu', function(){
                toggleMenu();
            });
        }
    }
});
'use strict';

angular.module('SmartAdmin.Layout').directive('bigBreadcrumbs', function () {
    return {
        restrict: 'EA',
        replace: true,
        template: '<div><h1 class="page-title txt-color-blueDark"></h1></div>',
        scope: {
            items: '=',
            icon: '@'
        },
        link: function (scope, element) {
            var first = _.first(scope.items);

            var icon = scope.icon || 'home';
            element.find('h1').append('<i class="fa-fw fa fa-' + icon + '"></i> ' + first);
            _.rest(scope.items).forEach(function (item) {
                element.find('h1').append(' <span>> ' + item + '</span>')
            })
        }
    }
});

'use strict';

angular.module('SmartAdmin.Layout').directive('dismisser', function () {
    return {
        restrict: 'A',
        compile: function (element) {
            element.removeAttr('dismisser data-dissmiser')
            var closer = '<button class="close">&times;</button>';
            element.prepend(closer);
            element.on('click', '>button.close', function(){
                element.fadeOut('fast',function(){ $(this).remove(); });

            })
        }
    }
});
'use strict';

angular.module('SmartAdmin.Layout').directive('hrefVoid', function () {
    return {
        restrict: 'A',
        link: function (scope, element, attributes) {
            element.attr('href','#');
            element.on('click', function(e){
                e.preventDefault();
                e.stopPropagation();
            })
        }
    }
});
'use strict';

/*
* Directive for toggling a ng-model with a button
* Source: https://gist.github.com/aeife/9374784
*/

angular.module('SmartAdmin.Layout').directive('radioToggle', function ($log) {
    return {
        scope: {
            model: "=ngModel",
            value: "@value"
        },
        link: function(scope, element, attrs) {

            element.parent().on('click', function() {
                scope.model = scope.value;
                scope.$apply();
            });
        }
    }
});
/**
 * DETECT MOBILE DEVICES
 * Description: Detects mobile device - if any of the listed device is
 *
 * detected class is inserted to <tElement>.
 *
 *  (so far this is covering most hand held devices)
 */
'use strict';

angular.module('SmartAdmin.Layout').directive('smartDeviceDetect', function () {
    return {
        restrict: 'A',
        compile: function (tElement, tAttributes) {
            tElement.removeAttr('smart-device-detect data-smart-device-detect');

            var isMobile = (/iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i.test(navigator.userAgent.toLowerCase()));
            
            tElement.toggleClass('desktop-detected', !isMobile);
            tElement.toggleClass('mobile-detected', isMobile);


        }
    }
});
/**
 *
 * Description: Directive utilizes FastClick library.
 *
 *
 * FastClick is a simple, easy-to-use library for eliminating the
 * 300ms delay between a physical tap and the firing of a click event on mobile browsers.
 * FastClick doesn't attach any listeners on desktop browsers.
 * @link: https://github.com/ftlabs/fastclick
 *
 * On mobile devices 'needsclick' class is attached to <tElement>
 *
 */


'use strict';

angular.module('SmartAdmin.Layout').directive('smartFastClick', function () {
    return {
        restrict: 'A',
        compile: function (tElement, tAttributes) {
            tElement.removeAttr('smart-fast-click data-smart-fast-click');

            FastClick.attach(tElement);

            if(!FastClick.notNeeded())
                tElement.addClass('needsclick')
        }
    }
});

'use strict';

angular.module('SmartAdmin.Layout').directive('smartFitAppView', function ($rootScope, SmartCss) {
    return {
        restrict: 'A',
        compile: function (element, attributes) {
            element.removeAttr('smart-fit-app-view data-smart-fit-app-view leading-y data-leading-y');

            var leadingY = attributes.leadingY ? parseInt(attributes.leadingY) : 0;

            var selector = attributes.smartFitAppView;

            if(SmartCss.appViewSize && SmartCss.appViewSize.height){
                var height =  SmartCss.appViewSize.height - leadingY < 252 ? 252 :  SmartCss.appViewSize.height - leadingY;
                SmartCss.add(selector, 'height', height+'px');
            }

            var listenerDestroy = $rootScope.$on('$smartContentResize', function (event, data) {
                var height = data.height - leadingY < 252 ? 252 : data.height - leadingY;
                SmartCss.add(selector, 'height', height+'px');
            });

            element.on('$destroy', function () {
                listenerDestroy();
                SmartCss.remove(selector, 'height');
            });


        }
    }
});

"use strict";

angular.module('SmartAdmin.Layout').directive('smartInclude', function () {
        return {
            replace: true,
            restrict: 'A',
            templateUrl: function (element, attr) {
                return attr.smartInclude;
            },
            compile: function(element){
                element[0].className = element[0].className.replace(/placeholder[^\s]+/g, '');
            }
        };
    }
);


'use strict';

angular.module('SmartAdmin.Layout').directive('smartLayout', function ($rootScope, $timeout, $interval, $q, SmartCss, APP_CONFIG) {
    
    var _debug = 0;

    function getDocHeight() {
        var D = document;
        return Math.max(
            D.body.scrollHeight, D.documentElement.scrollHeight,
            D.body.offsetHeight, D.documentElement.offsetHeight,
            D.body.clientHeight, D.documentElement.clientHeight
        );
    }

    var initialized = false, 
           initializedResolver = $q.defer();
    initializedResolver.promise.then(function () {
        initialized = true;
    });

    var $window = $(window),
        $document = $(document),
        $html = $('html'),
        $body = $('body'),
        $navigation ,
        $menu,
        $ribbon,
        $footer,
        $contentAnimContainer;


    (function cacheElements() {
        $navigation = $('#header');
        $menu = $('#left-panel');
        $ribbon = $('#ribbon');
        $footer = $('.page-footer');
        if (_.every([$navigation, $menu, $ribbon, $footer], function ($it) {
            return angular.isNumber($it.height())
        })) {
            initializedResolver.resolve();
        } else {
            $timeout(cacheElements, 100);
        }
    })();

    (function applyConfigSkin(){
        if(APP_CONFIG.smartSkin){
            $body.removeClass(_.pluck(APP_CONFIG.skins, 'name').join(' '));
            $body.addClass(APP_CONFIG.smartSkin);
        }
    })();


    return {
        priority: 2014,
        restrict: 'A',
        compile: function (tElement, tAttributes) {
            tElement.removeAttr('smart-layout data-smart-layout');

            var appViewHeight = 0 ,
                appViewWidth = 0,
                calcWidth,
                calcHeight,
                deltaX,
                deltaY;

            var forceResizeTrigger = false;

            function resizeListener() {

//                    full window height appHeight = Math.max($menu.outerHeight() - 10, getDocHeight() - 10);

                var menuHeight = $body.hasClass('menu-on-top') && $menu.is(':visible') ? $menu.height() : 0;
                var menuWidth = !$body.hasClass('menu-on-top') && $menu.is(':visible') ? $menu.width() + $menu.offset().left : 0;

                var $content = $('#content');
                var contentXPad = $content.outerWidth(true) - $content.width();
                var contentYPad = $content.outerHeight(true) - $content.height();


                calcWidth = $window.width() - menuWidth - contentXPad;
                calcHeight = $window.height() - menuHeight - contentYPad - $navigation.height() - $ribbon.height() - $footer.height();

                deltaX = appViewWidth - calcWidth;
                deltaY = appViewHeight - calcHeight;
                if (Math.abs(deltaX) || Math.abs(deltaY) || forceResizeTrigger) {

                    //console.log('exec', calcWidth, calcHeight);
                    $rootScope.$broadcast('$smartContentResize', {
                        width: calcWidth,
                        height: calcHeight,
                        deltaX: deltaX,
                        deltaY: deltaY
                    });
                    appViewWidth = calcWidth;
                    appViewHeight = calcHeight;
                    forceResizeTrigger = false;
                }
            }


            var looping = false;
            $interval(function () {
                if (looping) loop();
            }, 300);

            var debouncedRun = _.debounce(function () {
                run(300)
            }, 300);

            function run(delay) {
                initializedResolver.promise.then(function () {
                    attachOnResize(delay);
                });
            }

            run(10);

            function detachOnResize() {
                looping = false;
            }

            function attachOnResize(delay) {
                $timeout(function () {
                    looping = true;
                }, delay);
            }

            function loop() {
                $body.toggleClass('mobile-view-activated', $window.width() < 979);

                if ($window.width() < 979)
                    $body.removeClass('minified');

                resizeListener();
            }

            function handleHtmlId(toState) {
                if (toState.data && toState.data.htmlId) $html.attr('id', toState.data.htmlId);
                else $html.removeAttr('id');
            }

            $rootScope.$on('$stateChangeStart', function (event, toState, toParams, fromState, fromParams) {
                //console.log(1, '$stateChangeStart', event, toState, toParams, fromState, fromParams);

                handleHtmlId(toState);
                detachOnResize();
            });

            // initialized with 1 cause we came here with one $viewContentLoading request
            var viewContentLoading = 1;
            $rootScope.$on('$viewContentLoading', function (event, viewConfig) {
                //console.log(2, '$viewContentLoading', event, viewConfig);
                viewContentLoading++;
            });

            $rootScope.$on('$stateChangeSuccess', function (event, toState, toParams, fromState, fromParams) {
                //console.log(3, '$stateChangeSuccess', event, toState, toParams, fromState, fromParams);
                forceResizeTrigger = true;
            });

            $rootScope.$on('$viewContentLoaded', function (event) {
                //console.log(4, '$viewContentLoaded', event);
                viewContentLoading--;

                if (viewContentLoading == 0 && initialized) {
                    debouncedRun();
                }
            });
        }
    }
});



'use strict';

angular.module('SmartAdmin.Layout').directive('smartPageTitle', function ($rootScope, $timeout) {
    return {
        restrict: 'A',
        compile: function (element, attributes) {
            element.removeAttr('smart-page-title data-smart-page-title');

            var defaultTitle = attributes.smartPageTitle;
            var listener = function(event, toState, toParams, fromState, fromParams) {
                var title = defaultTitle;
                if (toState.data && toState.data.title) title = toState.data.title + ' | ' + title;
                // Set asynchronously so page changes before title does
                $timeout(function() {
                    $('html head title').text(title);
                });
            };

            $rootScope.$on('$stateChangeStart', listener);

        }
    }
});
'use strict';

angular.module('SmartAdmin.Layout').directive('smartRouterAnimationWrap', function ($rootScope,$timeout) {
    return {
        restrict: 'A',
        compile: function (element, attributes) {
            element.removeAttr('smart-router-animation-wrap data-smart-router-animation-wrap wrap-for data-wrap-for');

            element.addClass('router-animation-container');


            var $loader = $('<div class="router-animation-loader"><i class="fa fa-gear fa-4x fa-spin"></i></div>')
                .css({
                    position: 'absolute',
                    top: 50,
                    left: 10
                }).hide().appendTo(element);


            var animateElementSelector = attributes.wrapFor;
            var viewsToMatch = attributes.smartRouterAnimationWrap.split(/\s/);

            var needRunContentViewAnimEnd = false;
            function contentViewAnimStart() {
                needRunContentViewAnimEnd = true;
                element.css({
                    height: element.height() + 'px',
                    overflow: 'hidden'
                }).addClass('active');
                $loader.fadeIn();

                $(animateElementSelector).addClass('animated faster fadeOutDown');
            }

            function contentViewAnimEnd() {
                if(needRunContentViewAnimEnd){
                    element.css({
                        height: 'auto',
                        overflow: 'visible'
                    }).removeClass('active');
                    

                    $(animateElementSelector).addClass('animated faster fadeInUp');

                    needRunContentViewAnimEnd = false;

                    $timeout(function(){
                        $(animateElementSelector).removeClass('animated');
                    },10);
                }
                $loader.fadeOut();
            }


            var destroyForStart = $rootScope.$on('$stateChangeStart', function (event, toState, toParams, fromState, fromParams) {
                var isAnimRequired = _.any(viewsToMatch, function(view){
                   return _.has(toState.views, view) || _.has(fromState.views, view);
                });
                if(isAnimRequired){
                    contentViewAnimStart()
                }
            });

            var destroyForEnd = $rootScope.$on('$viewContentLoaded', function (event) {
                contentViewAnimEnd();
            });

            element.on('$destroy', function(){
                destroyForStart();
                destroyForEnd();

            });



        }
    }
});
angular.module('SmartAdmin.Layout').directive('speechRecognition', function ($log) {
	'use strict';

	$.root_ = $('body');
	var root, commands;

    root = window;
    window.appConfig = window.appConfig || {};

	if (appConfig.voice_command) {
		commands = appConfig.commands;
	}


	/*
	 * SMART VOICE
	 */

	var SpeechRecognition = root.SpeechRecognition || root.webkitSpeechRecognition || root.mozSpeechRecognition || root.msSpeechRecognition || root.oSpeechRecognition;

// ref: http://updates.html5rocks.com/2013/01/Voice-Driven-Web-Apps-Introduction-to-the-Web-Speech-API


// function
	$.speechApp = (function(speech) {

		speech.start = function() {

			// Add our commands to smartSpeechRecognition
			smartSpeechRecognition.addCommands(commands);

			if (smartSpeechRecognition) {
				// activate plugin
				smartSpeechRecognition.start();
				// add btn class
				$.root_.addClass("voice-command-active");
				// play sound
				$.speechApp.playON();
				// set localStorage when switch is on manually
				if (appConfig.voice_localStorage) {
					localStorage.setItem('sm-setautovoice', 'true');
				}

			} else {
				// if plugin not found
				alert("speech plugin not loaded");
			}

		};
		speech.stop = function() {

			if (smartSpeechRecognition) {
				// deactivate plugin
				smartSpeechRecognition.abort();
				// remove btn class
				$.root_.removeClass("voice-command-active");
				// sound
				$.speechApp.playOFF();
				// del localStorage when switch if off manually
				if (appConfig.voice_localStorage) {
					localStorage.setItem('sm-setautovoice', 'false');
				}
				// remove popover if visible
				if ($('#speech-btn .popover').is(':visible')) {
					$('#speech-btn .popover').fadeOut(250);
				}
			}

		};

		// play sound
		speech.playON = function() {

			var audioElement = document.createElement('audio');

			if (navigator.userAgent.match('Firefox/'))
				audioElement.setAttribute('src', appConfig.sound_path + 'voice_on' + ".ogg");
			else
				audioElement.setAttribute('src', appConfig.sound_path + 'voice_on' + ".mp3");

			//$.get();
			audioElement.addEventListener("load", function() {
				audioElement.play();
			}, true);

			if (appConfig.sound_on) {
				audioElement.pause();
				audioElement.play();
			}
		};

		speech.playOFF = function() {

			var audioElement = document.createElement('audio');

			if (navigator.userAgent.match('Firefox/'))
				audioElement.setAttribute('src', appConfig.sound_path + 'voice_off' + ".ogg");
			else
				audioElement.setAttribute('src', appConfig.sound_path + 'voice_off' + ".mp3");

			$.get();
			audioElement.addEventListener("load", function() {
				audioElement.play();
			}, true);

			if (appConfig.sound_on) {
				audioElement.pause();
				audioElement.play();
			}
		};

		speech.playConfirmation = function() {

			var audioElement = document.createElement('audio');

			if (navigator.userAgent.match('Firefox/'))
				audioElement.setAttribute('src', appConfig.sound_path + 'voice_alert' + ".ogg");
			else
				audioElement.setAttribute('src', appConfig.sound_path + 'voice_alert' + ".mp3");

			$.get();
			audioElement.addEventListener("load", function() {
				audioElement.play();
			}, true);

			if (appConfig.sound_on) {
				audioElement.pause();
				audioElement.play();
			}
		};

		return speech;

	})({});



	/*
	 * SPEECH RECOGNITION ENGINE
	 * Copyright (c) 2013 Tal Ater
	 * Modified by MyOrange
	 * All modifications made are hereby copyright (c) 2014 MyOrange
	 */

	(function(undefined) {"use strict";

		// Check browser support
		// This is done as early as possible, to make it as fast as possible for unsupported browsers
		if (!SpeechRecognition) {
			root.smartSpeechRecognition = null;
			return undefined;
		}

		var commandsList = [], recognition, callbacks = {
				start : [],
				error : [],
				end : [],
				result : [],
				resultMatch : [],
				resultNoMatch : [],
				errorNetwork : [],
				errorPermissionBlocked : [],
				errorPermissionDenied : []
			}, autoRestart, lastStartedAt = 0,
		//debugState = false, // decleared in app.appConfig.js
		//appConfig.debugStyle = 'font-weight: bold; color: #00f;', // decleared in app.appConfig.js

		// The command matching code is a modified version of Backbone.Router by Jeremy Ashkenas, under the MIT license.
			optionalParam = /\s*\((.*?)\)\s*/g, optionalRegex = /(\(\?:[^)]+\))\?/g, namedParam = /(\(\?)?:\w+/g, splatParam = /\*\w+/g, escapeRegExp = /[\-{}\[\]+?.,\\\^$|#]/g, commandToRegExp = function(command) {
				command = command.replace(escapeRegExp, '\\$&').replace(optionalParam, '(?:$1)?').replace(namedParam, function(match, optional) {
					return optional ? match : '([^\\s]+)';
				}).replace(splatParam, '(.*?)').replace(optionalRegex, '\\s*$1?\\s*');
				return new RegExp('^' + command + '$', 'i');
			};

		// This method receives an array of callbacks to iterate over, and invokes each of them
		var invokeCallbacks = function(callbacks) {
			callbacks.forEach(function(callback) {
				callback.callback.apply(callback.context);
			});
		};

		var initIfNeeded = function() {
			if (!isInitialized()) {
				root.smartSpeechRecognition.init({}, false);
			}
		};

		var isInitialized = function() {
			return recognition !== undefined;
		};

		root.smartSpeechRecognition = {
			// Initialize smartSpeechRecognition with a list of commands to recognize.
			// e.g. smartSpeechRecognition.init({'hello :name': helloFunction})
			// smartSpeechRecognition understands commands with named variables, splats, and optional words.
			init : function(commands, resetCommands) {

				// resetCommands defaults to true
				if (resetCommands === undefined) {
					resetCommands = true;
				} else {
					resetCommands = !!resetCommands;
				}

				// Abort previous instances of recognition already running
				if (recognition && recognition.abort) {
					recognition.abort();
				}

				// initiate SpeechRecognition
				recognition = new SpeechRecognition();

				// Set the max number of alternative transcripts to try and match with a command
				recognition.maxAlternatives = 5;
				recognition.continuous = true;
				// Sets the language to the default 'en-US'. This can be changed with smartSpeechRecognition.setLanguage()
				recognition.lang = appConfig.voice_command_lang || 'en-US';

				recognition.onstart = function() {
					invokeCallbacks(callbacks.start);
					//debugState
					if (appConfig.debugState) {
						root.console.log('%c ✔ SUCCESS: User allowed access the microphone service to start ', appConfig.debugStyle_success);
						root.console.log('Language setting is set to: ' + recognition.lang, appConfig.debugStyle);
					}
					$.root_.removeClass("service-not-allowed");
					$.root_.addClass("service-allowed");
				};

				recognition.onerror = function(event) {
					invokeCallbacks(callbacks.error);
					switch (event.error) {
						case 'network':
							invokeCallbacks(callbacks.errorNetwork);
							break;
						case 'not-allowed':
						case 'service-not-allowed':
							// if permission to use the mic is denied, turn off auto-restart
							autoRestart = false;
							$.root_.removeClass("service-allowed");
							$.root_.addClass("service-not-allowed");
							//debugState
							if (appConfig.debugState) {
								root.console.log('%c WARNING: Microphone was not detected (either user denied access or it is not installed properly) ', appConfig.debugStyle_warning);
							}
							// determine if permission was denied by user or automatically.
							if (new Date().getTime() - lastStartedAt < 200) {
								invokeCallbacks(callbacks.errorPermissionBlocked);
							} else {
								invokeCallbacks(callbacks.errorPermissionDenied);
								//console.log("You need your mic to be active")
							}
							break;
					}
				};

				recognition.onend = function() {
					invokeCallbacks(callbacks.end);
					// smartSpeechRecognition will auto restart if it is closed automatically and not by user action.
					if (autoRestart) {
						// play nicely with the browser, and never restart smartSpeechRecognition automatically more than once per second
						var timeSinceLastStart = new Date().getTime() - lastStartedAt;
						if (timeSinceLastStart < 1000) {
							setTimeout(root.smartSpeechRecognition.start, 1000 - timeSinceLastStart);
						} else {
							root.smartSpeechRecognition.start();
						}
					}
				};

				recognition.onresult = function(event) {
					invokeCallbacks(callbacks.result);

					var results = event.results[event.resultIndex], commandText;

					// go over each of the 5 results and alternative results received (we've set maxAlternatives to 5 above)
					for (var i = 0; i < results.length; i++) {
						// the text recognized
						commandText = results[i].transcript.trim();
						if (appConfig.debugState) {
							root.console.log('Speech recognized: %c' + commandText, appConfig.debugStyle);
						}

						// try and match recognized text to one of the commands on the list
						for (var j = 0, l = commandsList.length; j < l; j++) {
							var result = commandsList[j].command.exec(commandText);
							if (result) {
								var parameters = result.slice(1);
								if (appConfig.debugState) {
									root.console.log('command matched: %c' + commandsList[j].originalPhrase, appConfig.debugStyle);
									if (parameters.length) {
										root.console.log('with parameters', parameters);
									}
								}
								// execute the matched command
								commandsList[j].callback.apply(this, parameters);
								invokeCallbacks(callbacks.resultMatch);

								// for commands "sound on", "stop" and "mute" do not play sound or display message
								//var myMatchedCommand = commandsList[j].originalPhrase;

								var ignoreCallsFor = ["sound on", "mute", "stop"];

								if (ignoreCallsFor.indexOf(commandsList[j].originalPhrase) < 0) {
									// play sound when match found
									console.log(2);
									$.smallBox({
										title : (commandsList[j].originalPhrase),
										content : "loading...",
										color : "#333",
										sound_file : 'voice_alert',
										timeout : 2000
									});

									if ($('#speech-btn .popover').is(':visible')) {
										$('#speech-btn .popover').fadeOut(250);
									}
								}// end if

								return true;
							}
						} // end for
					}// end for

					invokeCallbacks(callbacks.resultNoMatch);
					//console.log("no match found for: " + commandText)
					$.smallBox({
						title : "Error: <strong>" + ' " ' + commandText + ' " ' + "</strong> no match found!",
						content : "Please speak clearly into the microphone",
						color : "#a90329",
						timeout : 5000,
						icon : "fa fa-microphone"
					});
					if ($('#speech-btn .popover').is(':visible')) {
						$('#speech-btn .popover').fadeOut(250);
					}
					return false;
				};

				// build commands list
				if (resetCommands) {
					commandsList = [];
				}
				if (commands.length) {
					this.addCommands(commands);
				}
			},

			// Start listening (asking for permission first, if needed).
			// Call this after you've initialized smartSpeechRecognition with commands.
			// Receives an optional options object:
			// { autoRestart: true }
			start : function(options) {
				initIfNeeded();
				options = options || {};
				if (options.autoRestart !== undefined) {
					autoRestart = !!options.autoRestart;
				} else {
					autoRestart = true;
				}
				lastStartedAt = new Date().getTime();
				recognition.start();
			},

			// abort the listening session (aka stop)
			abort : function() {
				autoRestart = false;
				if (isInitialized) {
					recognition.abort();
				}
			},

			// Turn on output of debug messages to the console. Ugly, but super-handy!
			debug : function(newState) {
				if (arguments.length > 0) {
					appConfig.debugState = !!newState;
				} else {
					appConfig.debugState = true;
				}
			},

			// Set the language the user will speak in. If not called, defaults to 'en-US'.
			// e.g. 'fr-FR' (French-France), 'es-CR' (Español-Costa Rica)
			setLanguage : function(language) {
				initIfNeeded();
				recognition.lang = language;
			},

			// Add additional commands that smartSpeechRecognition will respond to. Similar in syntax to smartSpeechRecognition.init()
			addCommands : function(commands) {
				var cb, command;

				initIfNeeded();

				for (var phrase in commands) {
					if (commands.hasOwnProperty(phrase)) {
						cb = root[commands[phrase]] || commands[phrase];
						if ( typeof cb !== 'function') {
							continue;
						}
						//convert command to regex
						command = commandToRegExp(phrase);

						commandsList.push({
							command : command,
							callback : cb,
							originalPhrase : phrase
						});
					}
				}
				if (appConfig.debugState) {
					root.console.log('Commands successfully loaded: %c' + commandsList.length, appConfig.debugStyle);
				}
			},

			// Remove existing commands. Called with a single phrase, array of phrases, or methodically. Pass no params to remove all commands.
			removeCommands : function(commandsToRemove) {
				if (commandsToRemove === undefined) {
					commandsList = [];
					return;
				}
				commandsToRemove = Array.isArray(commandsToRemove) ? commandsToRemove : [commandsToRemove];
				commandsList = commandsList.filter(function(command) {
					for (var i = 0; i < commandsToRemove.length; i++) {
						if (commandsToRemove[i] === command.originalPhrase) {
							return false;
						}
					}
					return true;
				});
			},

			// Lets the user add a callback of one of 9 types:
			// start, error, end, result, resultMatch, resultNoMatch, errorNetwork, errorPermissionBlocked, errorPermissionDenied
			// Can also optionally receive a context for the callback function as the third argument
			addCallback : function(type, callback, context) {
				if (callbacks[type] === undefined) {
					return;
				}
				var cb = root[callback] || callback;
				if ( typeof cb !== 'function') {
					return;
				}
				callbacks[type].push({
					callback : cb,
					context : context || this
				});
			}
		};

	}).call(this);

	var autoStart = function() {

		smartSpeechRecognition.addCommands(commands);

		if (smartSpeechRecognition) {
			// activate plugin
			smartSpeechRecognition.start();
			// add btn class
			$.root_.addClass("voice-command-active");
			// set localStorage when switch is on manually
			if (appConfig.voice_localStorage) {
				localStorage.setItem('sm-setautovoice', 'true');
			}

		} else {
			// if plugin not found
			alert("speech plugin not loaded");
		}
	}
// if already running with localstorage
	if (SpeechRecognition && appConfig.voice_command && localStorage.getItem('sm-setautovoice') == 'true') {
		autoStart();
	}

// auto start
	if (SpeechRecognition && appConfig.voice_command_auto && appConfig.voice_command) {
		autoStart();
	}


	var link = function(scope, element) {


		if (SpeechRecognition && appConfig.voice_command) {

			// create dynamic modal instance
			var modal = $('<div class="modal fade" id="voiceModal" tabindex="-1" role="dialog" aria-labelledby="remoteModalLabel" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"></div></div></div>');
			// attach to body
			modal.appendTo("body");

			element.on("click", function(e) {

            	if ($.root_.hasClass("voice-command-active")) {
					$.speechApp.stop();
					//$('#speech-btn > span > a > i').removeClass().addClass('fa fa-microphone-slash');
				} else {
					$.speechApp.start();
					//add popover
					$('#speech-btn .popover').fadeIn(350);
					//$('#speech-btn > span > a > i').removeClass().addClass('fa fa-microphone')

				}

				e.preventDefault();

            });

			//remove popover
			$(document).mouseup(function(e) {
				if (!$('#speech-btn .popover').is(e.target) && $('#speech-btn .popover').has(e.target).length === 0) {
					$('#speech-btn .popover').fadeOut(250);
				}
			});


			$("#speech-help-btn").on("click", function() {
				commands.help();
			});

		}
		else {
			$("#speech-btn").addClass("display-none");
		}


	}



    return {
        restrict: 'AE',
        link: link
    }
});

'use strict';

angular.module('SmartAdmin.Layout').directive('stateBreadcrumbs', function ($rootScope, $state) {


    return {
        restrict: 'EA',
        replace: true,
        template: '<ol class="breadcrumb"><li>Home</li></ol>',
        link: function (scope, element) {

            function setBreadcrumbs(breadcrumbs) {
                var html = '<li>Home</li>';
                angular.forEach(breadcrumbs, function (crumb) {
                    html += '<li>' + crumb + '</li>'
                });
                element.html(html)
            }

            function fetchBreadcrumbs(stateName, breadcrunbs) {

                var state = $state.get(stateName);

                if (state && state.data && state.data.title && breadcrunbs.indexOf(state.data.title) == -1) {
                    breadcrunbs.unshift(state.data.title)
                }

                var parentName = stateName.replace(/.?\w+$/, '');
                if (parentName) {
                    return fetchBreadcrumbs(parentName, breadcrunbs);
                } else {
                    return breadcrunbs;
                }
            }

            function processState(state) {
                var breadcrumbs;
                if (state.data && state.data.breadcrumbs) {
                    breadcrumbs = state.data.breadcrumbs;
                } else {
                    breadcrumbs = fetchBreadcrumbs(state.name, []);
                }
                setBreadcrumbs(breadcrumbs);
            }

            processState($state.current);

            $rootScope.$on('$stateChangeStart', function (event, state) {
                processState(state);
            })
        }
    }
});
'use strict';

angular.module('SmartAdmin.Layout').factory('lazyScript', function($q, $http){

    var cache = {};

    function isPending(scriptName){
        return (cache.hasOwnProperty(scriptName) && cache[scriptName].promise && cache[scriptName].promise.$$state.pending)
    }

    function isRegistered(scriptName){
        return cache.hasOwnProperty(scriptName)
    }
    function loadScript(scriptName){
        if(!cache[scriptName]){
            cache[scriptName] = $q.defer();
            var el = document.createElement( 'script' );
            el.onload = function(script){
                console.log('script is lazy loaded:', scriptName)
                cache[scriptName].resolve(scriptName);
            };
            el.src = scriptName;
            var x = document.getElementsByTagName('script')[0];
            x.parentNode.insertBefore(el, x);
            
        }
        return cache[scriptName].promise;

    }

    function register(scriptName){
        if(isPending(scriptName)){
            return cache[scriptName].promise
        }
        if(isRegistered(scriptName)){
            return $q.resolve(scriptName);
        } else {
            var dfd = $q.defer();

            loadScript(scriptName).then(function(){
                dfd.resolve(scriptName);
            });

            return dfd.promise; 

        }
    }
    return {
        register: function (scripts) {
            
            var dfd = $q.defer();
            var promises = [];
            if (angular.isString(scripts))
                scripts = [scripts];

            angular.forEach(scripts, function(script){
                promises.push(register(script));
            })

            $q.all(promises).then(function(resolves){
                dfd.resolve(resolves);
            })
            return dfd.promise;

        }
    };
});
'use strict';

angular.module('SmartAdmin.Layout').factory('SmartCss', function ($rootScope, $timeout) {

    var sheet = (function () {
        // Create the <style> tag
        var style = document.createElement("style");

        // Add a media (and/or media query) here if you'd like!
        // style.setAttribute("media", "screen")
        // style.setAttribute("media", "@media only screen and (max-width : 1024px)")

        // WebKit hack :(
        style.appendChild(document.createTextNode(""));

        // Add the <style> element to the page
        document.head.appendChild(style);

        return style.sheet;
    })();

    var _styles = {};


    var SmartCss = {
        writeRule: function(selector){
            SmartCss.deleteRuleFor(selector);
            if(_.has(_styles, selector)){
                var css = selector + '{ ' + _.map(_styles[selector], function(v, k){
                    return  k + ':' +  v + ';'
                }).join(' ') +'}';
                sheet.insertRule(css, _.size(_styles) - 1);
            }
        },
        add: function (selector, property, value, delay) {
            if(!_.has(_styles, selector))
                _styles[selector] = {};

            if(value == undefined || value == null || value == '')
                delete _styles[selector][property];
            else
                _styles[selector][property] = value;


            if(_.keys(_styles[selector]).length == 0)
                delete _styles[selector];

            if(!delay)
                delay = 0;
            $timeout(function(){
                SmartCss.writeRule(selector);
            }, delay);

        },
        remove: function(selector, property, delay){
            SmartCss.add(selector, property, null, delay);
        },
        deleteRuleFor: function (selector) {
            _(sheet.rules).forEach(function (rule, idx) {
                if (rule.selectorText == selector) {
                    sheet.deleteRule(idx);
                }
            });
        },
        appViewSize: null
    };

    $rootScope.$on('$smartContentResize', function (event, data) {
        SmartCss.appViewSize = data;
    });

    return SmartCss;

});





"use strict";

angular.module('SmartAdmin.UI').directive('smartPopoverHtml', function () {
    return {
        restrict: "A",
        link: function(scope, element, attributes){
            var options = {};
            options.content = attributes.smartPopoverHtml;
            options.placement = attributes.popoverPlacement || 'top';
            options.html = true;
            options.trigger =  attributes.popoverTrigger || 'click';
            options.title =  attributes.popoverTitle || attributes.title;
            element.popover(options)

        }

    };
});


"use strict";

angular.module('SmartAdmin.UI').directive('smartTooltipHtml', function () {
        return {
            restrict: 'A',
            link: function(scope, element, attributes){
                element.tooltip({
                    placement: attributes.tooltipPlacement || 'top',
                    html: true,
                    title: attributes.smartTooltipHtml
                })
            }
        };
    }
);

"use strict";


angular.module('SmartAdmin.Forms').directive('bootstrapAttributeForm', function(){

    return {
        restrict: 'E',
        replace: true,
        templateUrl: 'app/_common/forms/directives/bootstrap-validation/bootstrap-attribute-form.tpl.html',
        link: function(scope, form){
            form.bootstrapValidator();


        }

    }
});
"use strict";


angular.module('SmartAdmin.Forms').directive('bootstrapButtonGroupForm', function(){

    return {
        restrict: 'E',
        replace: true,
        templateUrl: 'app/_common/forms/directives/bootstrap-validation/bootstrap-button-group-form.tpl.html',
        link: function(scope, form){
            form.bootstrapValidator({
                excluded : ':disabled',
                feedbackIcons : {
                    valid : 'glyphicon glyphicon-ok',
                    invalid : 'glyphicon glyphicon-remove',
                    validating : 'glyphicon glyphicon-refresh'
                },
                fields : {
                    gender : {
                        validators : {
                            notEmpty : {
                                message : 'The gender is required'
                            }
                        }
                    },
                    'languages[]' : {
                        validators : {
                            choice : {
                                min : 1,
                                max : 2,
                                message : 'Please choose 1 - 2 languages you can speak'
                            }
                        }
                    }
                }
            });


        }

    }
});
"use strict";


angular.module('SmartAdmin.Forms').directive('bootstrapContactForm', function(){

    return {
        restrict: 'E',
        replace: true,
        templateUrl: 'app/_common/forms/directives/bootstrap-validation/bootstrap-contact-form.tpl.html',
        link: function(scope, form){
            form.bootstrapValidator({
                container : '#messages',
                feedbackIcons : {
                    valid : 'glyphicon glyphicon-ok',
                    invalid : 'glyphicon glyphicon-remove',
                    validating : 'glyphicon glyphicon-refresh'
                },
                fields : {
                    fullName : {
                        validators : {
                            notEmpty : {
                                message : 'The full name is required and cannot be empty'
                            }
                        }
                    },
                    email : {
                        validators : {
                            notEmpty : {
                                message : 'The email address is required and cannot be empty'
                            },
                            emailAddress : {
                                message : 'The email address is not valid'
                            }
                        }
                    },
                    title : {
                        validators : {
                            notEmpty : {
                                message : 'The title is required and cannot be empty'
                            },
                            stringLength : {
                                max : 100,
                                message : 'The title must be less than 100 characters long'
                            }
                        }
                    },
                    content : {
                        validators : {
                            notEmpty : {
                                message : 'The content is required and cannot be empty'
                            },
                            stringLength : {
                                max : 500,
                                message : 'The content must be less than 500 characters long'
                            }
                        }
                    }
                }
            });

        }

    }

});
"use strict";


angular.module('SmartAdmin.Forms').directive('bootstrapMovieForm', function(){

    return {
        restrict: 'E',
        replace: true,
        templateUrl: 'app/_common/forms/directives/bootstrap-validation/bootstrap-movie-form.tpl.html',
        link: function(scope, form){
            form.bootstrapValidator({
                feedbackIcons : {
                    valid : 'glyphicon glyphicon-ok',
                    invalid : 'glyphicon glyphicon-remove',
                    validating : 'glyphicon glyphicon-refresh'
                },
                fields : {
                    title : {
                        group : '.col-md-8',
                        validators : {
                            notEmpty : {
                                message : 'The title is required'
                            },
                            stringLength : {
                                max : 200,
                                message : 'The title must be less than 200 characters long'
                            }
                        }
                    },
                    genre : {
                        group : '.col-md-4',
                        validators : {
                            notEmpty : {
                                message : 'The genre is required'
                            }
                        }
                    },
                    director : {
                        group : '.col-md-4',
                        validators : {
                            notEmpty : {
                                message : 'The director name is required'
                            },
                            stringLength : {
                                max : 80,
                                message : 'The director name must be less than 80 characters long'
                            }
                        }
                    },
                    writer : {
                        group : '.col-md-4',
                        validators : {
                            notEmpty : {
                                message : 'The writer name is required'
                            },
                            stringLength : {
                                max : 80,
                                message : 'The writer name must be less than 80 characters long'
                            }
                        }
                    },
                    producer : {
                        group : '.col-md-4',
                        validators : {
                            notEmpty : {
                                message : 'The producer name is required'
                            },
                            stringLength : {
                                max : 80,
                                message : 'The producer name must be less than 80 characters long'
                            }
                        }
                    },
                    website : {
                        group : '.col-md-6',
                        validators : {
                            notEmpty : {
                                message : 'The website address is required'
                            },
                            uri : {
                                message : 'The website address is not valid'
                            }
                        }
                    },
                    trailer : {
                        group : '.col-md-6',
                        validators : {
                            notEmpty : {
                                message : 'The trailer link is required'
                            },
                            uri : {
                                message : 'The trailer link is not valid'
                            }
                        }
                    },
                    review : {
                        // The group will be set as default (.form-group)
                        validators : {
                            stringLength : {
                                max : 500,
                                message : 'The review must be less than 500 characters long'
                            }
                        }
                    },
                    rating : {
                        // The group will be set as default (.form-group)
                        validators : {
                            notEmpty : {
                                message : 'The rating is required'
                            }
                        }
                    }
                }
            });

        }

    }

});
"use strict";


angular.module('SmartAdmin.Forms').directive('bootstrapProductForm', function(){

    return {
        restrict: 'E',
        replace: true,
        templateUrl: 'app/_common/forms/directives/bootstrap-validation/bootstrap-product-form.tpl.html',
        link: function(scope, form){
            form.bootstrapValidator({
                feedbackIcons : {
                    valid : 'glyphicon glyphicon-ok',
                    invalid : 'glyphicon glyphicon-remove',
                    validating : 'glyphicon glyphicon-refresh'
                },
                fields : {
                    price : {
                        validators : {
                            notEmpty : {
                                message : 'The price is required'
                            },
                            numeric : {
                                message : 'The price must be a number'
                            }
                        }
                    },
                    amount : {
                        validators : {
                            notEmpty : {
                                message : 'The amount is required'
                            },
                            numeric : {
                                message : 'The amount must be a number'
                            }
                        }
                    },
                    color : {
                        validators : {
                            notEmpty : {
                                message : 'The color is required'
                            }
                        }
                    },
                    size : {
                        validators : {
                            notEmpty : {
                                message : 'The size is required'
                            }
                        }
                    }
                }
            });
        }

    }
});
"use strict";


angular.module('SmartAdmin.Forms').directive('bootstrapProfileForm', function(){

    return {
        restrict: 'E',
        replace: true,
        templateUrl: 'app/_common/forms/directives/bootstrap-validation/bootstrap-profile-form.tpl.html',
        link: function(scope, form){
           form.bootstrapValidator({
                feedbackIcons : {
                    valid : 'glyphicon glyphicon-ok',
                    invalid : 'glyphicon glyphicon-remove',
                    validating : 'glyphicon glyphicon-refresh'
                },
                fields : {
                    email : {
                        validators : {
                            notEmpty : {
                                message : 'The email address is required'
                            },
                            emailAddress : {
                                message : 'The email address is not valid'
                            }
                        }
                    },
                    password : {
                        validators : {
                            notEmpty : {
                                message : 'The password is required'
                            }
                        }
                    }
                }
            });
        }

    }

});
"use strict";


angular.module('SmartAdmin.Forms').directive('bootstrapTogglingForm', function(){

    return {
        restrict: 'E',
        replace: true,
        templateUrl: 'app/_common/forms/directives/bootstrap-validation/bootstrap-toggling-form.tpl.html',
        link: function(scope, form){
            form.bootstrapValidator({
                feedbackIcons : {
                    valid : 'glyphicon glyphicon-ok',
                    invalid : 'glyphicon glyphicon-remove',
                    validating : 'glyphicon glyphicon-refresh'
                },
                fields : {
                    firstName : {
                        validators : {
                            notEmpty : {
                                message : 'The first name is required'
                            }
                        }
                    },
                    lastName : {
                        validators : {
                            notEmpty : {
                                message : 'The last name is required'
                            }
                        }
                    },
                    company : {
                        validators : {
                            notEmpty : {
                                message : 'The company name is required'
                            }
                        }
                    },
                    // These fields will be validated when being visible
                    job : {
                        validators : {
                            notEmpty : {
                                message : 'The job title is required'
                            }
                        }
                    },
                    department : {
                        validators : {
                            notEmpty : {
                                message : 'The department name is required'
                            }
                        }
                    },
                    mobilePhone : {
                        validators : {
                            notEmpty : {
                                message : 'The mobile phone number is required'
                            },
                            digits : {
                                message : 'The mobile phone number is not valid'
                            }
                        }
                    },
                    // These fields will be validated when being visible
                    homePhone : {
                        validators : {
                            digits : {
                                message : 'The home phone number is not valid'
                            }
                        }
                    },
                    officePhone : {
                        validators : {
                            digits : {
                                message : 'The office phone number is not valid'
                            }
                        }
                    }
                }
            }).find('button[data-toggle]').on('click', function() {
                var $target = $($(this).attr('data-toggle'));
                // Show or hide the additional fields
                // They will or will not be validated based on their visibilities
                $target.toggle();
                if (!$target.is(':visible')) {
                    // Enable the submit buttons in case additional fields are not valid
                    form.data('bootstrapValidator').disableSubmitButtons(false);
                }
            });
        }

    }



});
'use strict';

angular.module('SmartAdmin.Forms').directive('smartCheckoutForm', function (formsCommon, lazyScript) {
    return {
        restrict: 'A',
        link: function (scope, form) {
           lazyScript.register('build/vendor.ui.js').then(function(){

               scope.countries = formsCommon.countries;

               form.validate(angular.extend({
                    // Rules for form validation
                    rules : {
                        fname : {
                            required : true
                        },
                        lname : {
                            required : true
                        },
                        email : {
                            required : true,
                            email : true
                        },
                        phone : {
                            required : true
                        },
                        country : {
                            required : true
                        },
                        city : {
                            required : true
                        },
                        code : {
                            required : true,
                            digits : true
                        },
                        address : {
                            required : true
                        },
                        name : {
                            required : true
                        },
                        card : {
                            required : true,
                            creditcard : true
                        },
                        cvv : {
                            required : true,
                            digits : true
                        },
                        month : {
                            required : true
                        },
                        year : {
                            required : true,
                            digits : true
                        }
                    },

                    // Messages for form validation
                    messages : {
                        fname : {
                            required : 'Please enter your first name'
                        },
                        lname : {
                            required : 'Please enter your last name'
                        },
                        email : {
                            required : 'Please enter your email address',
                            email : 'Please enter a VALID email address'
                        },
                        phone : {
                            required : 'Please enter your phone number'
                        },
                        country : {
                            required : 'Please select your country'
                        },
                        city : {
                            required : 'Please enter your city'
                        },
                        code : {
                            required : 'Please enter code',
                            digits : 'Digits only please'
                        },
                        address : {
                            required : 'Please enter your full address'
                        },
                        name : {
                            required : 'Please enter name on your card'
                        },
                        card : {
                            required : 'Please enter your card number'
                        },
                        cvv : {
                            required : 'Enter CVV2',
                            digits : 'Digits only'
                        },
                        month : {
                            required : 'Select month'
                        },
                        year : {
                            required : 'Enter year',
                            digits : 'Digits only please'
                        }
                    }
                }, formsCommon.validateOptions));
            });
        }
    }
});
'use strict';

angular.module('SmartAdmin.Forms').directive('smartCommentForm', function (formsCommon, lazyScript) {
    return {
        restrict: 'A',
        link: function (scope, form) {
            lazyScript.register('build/vendor.ui.js').then(function(){
                form.validate(angular.extend({
                    // Rules for form validation
                    rules : {
                        name : {
                            required : true
                        },
                        email : {
                            required : true,
                            email : true
                        },
                        url : {
                            url : true
                        },
                        comment : {
                            required : true
                        }
                    },

                    // Messages for form validation
                    messages : {
                        name : {
                            required : 'Enter your name',
                        },
                        email : {
                            required : 'Enter your email address',
                            email : 'Enter a VALID email'
                        },
                        url : {
                            email : 'Enter a VALID url'
                        },
                        comment : {
                            required : 'Please enter your comment'
                        }
                    },

                    // Ajax form submition
                    submitHandler : function() {
                        form.ajaxSubmit({
                            success : function() {
                                form.addClass('submited');
                            }
                        });
                    }

                }, formsCommon.validateOptions));
            });

        }
    }
});

'use strict';

angular.module('SmartAdmin.Forms').directive('smartContactsForm', function (formsCommon, lazyScript) {
    return {
        restrict: 'A',
        link: function (scope, form) {
            lazyScript.register('build/vendor.ui.js').then(function(){
                form.validate(angular.extend({
                    // Rules for form validation
                    rules : {
                        name : {
                            required : true
                        },
                        email : {
                            required : true,
                            email : true
                        },
                        message : {
                            required : true,
                            minlength : 10
                        }
                    },

                    // Messages for form validation
                    messages : {
                        name : {
                            required : 'Please enter your name'
                        },
                        email : {
                            required : 'Please enter your email address',
                            email : 'Please enter a VALID email address'
                        },
                        message : {
                            required : 'Please enter your message'
                        }
                    },

                    // Ajax form submition
                    submitHandler : function() {
                        form.ajaxSubmit({
                            success : function() {
                                form.addClass('submited');
                            }
                        });
                    }
                }, formsCommon.validateOptions));
            });
        }
    }
});
'use strict';

angular.module('SmartAdmin.Forms').directive('smartOrderForm', function (formsCommon, lazyScript) {
    return {
        restrict: 'E',
        link: function (scope, form) {
            lazyScript.register('build/vendor.ui.js').then(function(){
                form.validate(angular.extend({
                    // Rules for form validation
                    rules : {
                        name : {
                            required : true
                        },
                        email : {
                            required : true,
                            email : true
                        },
                        phone : {
                            required : true
                        },
                        interested : {
                            required : true
                        },
                        budget : {
                            required : true
                        }
                    },

                    // Messages for form validation
                    messages : {
                        name : {
                            required : 'Please enter your name'
                        },
                        email : {
                            required : 'Please enter your email address',
                            email : 'Please enter a VALID email address'
                        },
                        phone : {
                            required : 'Please enter your phone number'
                        },
                        interested : {
                            required : 'Please select interested service'
                        },
                        budget : {
                            required : 'Please select your budget'
                        }
                    },

                }, formsCommon.validateOptions));
            });

        }
    }
});
'use strict';

angular.module('SmartAdmin.Forms').directive('smartRegistrationForm', function (formsCommon, lazyScript) {
    return {
        restrict: 'A',
        link: function (scope, form, attributes) {
            lazyScript.register('build/vendor.ui.js').then(function(){
                form.validate(angular.extend({

                    // Rules for form validation
                    rules: {
                        username: {
                            required: true
                        },
                        email: {
                            required: true,
                            email: true
                        },
                        password: {
                            required: true,
                            minlength: 3,
                            maxlength: 20
                        },
                        passwordConfirm: {
                            required: true,
                            minlength: 3,
                            maxlength: 20,
                            equalTo: '#password'
                        },
                        firstname: {
                            required: true
                        },
                        lastname: {
                            required: true
                        },
                        gender: {
                            required: true
                        },
                        terms: {
                            required: true
                        }
                    },

                    // Messages for form validation
                    messages: {
                        login: {
                            required: 'Please enter your login'
                        },
                        email: {
                            required: 'Please enter your email address',
                            email: 'Please enter a VALID email address'
                        },
                        password: {
                            required: 'Please enter your password'
                        },
                        passwordConfirm: {
                            required: 'Please enter your password one more time',
                            equalTo: 'Please enter the same password as above'
                        },
                        firstname: {
                            required: 'Please select your first name'
                        },
                        lastname: {
                            required: 'Please select your last name'
                        },
                        gender: {
                            required: 'Please select your gender'
                        },
                        terms: {
                            required: 'You must agree with Terms and Conditions'
                        }
                    }

                }, formsCommon.validateOptions));
            });
        }
    }
});
'use strict';

angular.module('SmartAdmin.Forms').directive('smartReviewForm', function (formsCommon, lazyScript) {
    return {
        restrict: 'E',
        link: function (scope, form) {
            lazyScript.register('build/vendor.ui.js').then(function(){

                form.validate(angular.extend({
                    // Rules for form validation
                    rules : {
                        name : {
                            required : true
                        },
                        email : {
                            required : true,
                            email : true
                        },
                        review : {
                            required : true,
                            minlength : 20
                        },
                        quality : {
                            required : true
                        },
                        reliability : {
                            required : true
                        },
                        overall : {
                            required : true
                        }
                    },

                    // Messages for form validation
                    messages : {
                        name : {
                            required : 'Please enter your name'
                        },
                        email : {
                            required : 'Please enter your email address',
                            email : '<i class="fa fa-warning"></i><strong>Please enter a VALID email addres</strong>'
                        },
                        review : {
                            required : 'Please enter your review'
                        },
                        quality : {
                            required : 'Please rate quality of the product'
                        },
                        reliability : {
                            required : 'Please rate reliability of the product'
                        },
                        overall : {
                            required : 'Please rate the product'
                        }
                    }

                }, formsCommon.validateOptions));
            });
        }
    }
});
'use strict';

angular.module('SmartAdmin.Forms').directive('smartCkEditor', function () {
    return {
        restrict: 'A',
        compile: function ( tElement) {
            tElement.removeAttr('smart-ck-editor data-smart-ck-editor');
            //CKEDITOR.basePath = 'bower_components/ckeditor/';

            CKEDITOR.replace( tElement.attr('name'), { height: '380px', startupFocus : true} );
        }
    }
});
'use strict';

angular.module('SmartAdmin.Forms').directive('smartDestroySummernote', function () {
    return {
        restrict: 'A',
        compile: function (tElement, tAttributes) {
            tElement.removeAttr('smart-destroy-summernote data-smart-destroy-summernote')
            tElement.on('click', function() {
                angular.element(tAttributes.smartDestroySummernote).destroy();
            })
        }
    }
});

'use strict';

angular.module('SmartAdmin.Forms').directive('smartEditSummernote', function () {
    return {
        restrict: 'A',
        compile: function (tElement, tAttributes) {
            tElement.removeAttr('smart-edit-summernote data-smart-edit-summernote');
            tElement.on('click', function(){
                angular.element(tAttributes.smartEditSummernote).summernote({
                    focus : true
                });  
            });
        }
    }
});

'use strict';

angular.module('SmartAdmin.Forms').directive('smartMarkdownEditor', function () {
    return {
        restrict: 'A',
        compile: function (element, attributes) {
            element.removeAttr('smart-markdown-editor data-smart-markdown-editor')

            var options = {
                autofocus:false,
                savable:true,
                fullscreen: {
                    enable: false
                }
            };

            if(attributes.height){
                options.height = parseInt(attributes.height);
            }

            element.markdown(options);
        }
    }
});

'use strict';

angular.module('SmartAdmin.Forms').directive('smartSummernoteEditor', function (lazyScript) {
    return {
        restrict: 'A',
        compile: function (tElement, tAttributes) {
            tElement.removeAttr('smart-summernote-editor data-smart-summernote-editor');

            var options = {
                focus : true,
                tabsize : 2
            };

            if(tAttributes.height){
                options.height = tAttributes.height;
            }

            lazyScript.register('build/vendor.ui.js').then(function(){
                tElement.summernote(options);                
            });
        }
    }
});
'use strict';

angular.module('SmartAdmin.Forms').directive('smartJcrop', function ($q) {
    return {
        restrict: 'A',
        scope: {
            coords: '=',
            options: '=',
            selection: '='
        },
        link: function (scope, element, attributes) {
            var jcropApi, imageWidth, imageHeight, imageLoaded = $q.defer();

            var listeners = {
                onSelectHandlers: [],
                onChangeHandlers: [],
                onSelect: function (c) {
                    angular.forEach(listeners.onSelectHandlers, function (handler) {
                        handler.call(jcropApi, c)
                    })
                },
                onChange: function (c) {
                    angular.forEach(listeners.onChangeHandlers, function (handler) {
                        handler.call(jcropApi, c)
                    })
                }
            };

            if (attributes.coords) {
                var coordsUpdate = function (c) {
                    scope.$apply(function () {
                        scope.coords = c;
                    });
                };
                listeners.onSelectHandlers.push(coordsUpdate);
                listeners.onChangeHandlers.push(coordsUpdate);
            }

            var $previewPane = $(attributes.smartJcropPreview),
                $previewContainer = $previewPane.find('.preview-container'),
                $previewImg = $previewPane.find('img');

            if ($previewPane.length && $previewImg.length) {
                var previewUpdate = function (coords) {
                    if (parseInt(coords.w) > 0) {
                        var rx = $previewContainer.width() / coords.w;
                        var ry = $previewContainer.height() / coords.h;

                        $previewImg.css({
                            width: Math.round(rx * imageWidth) + 'px',
                            height: Math.round(ry * imageHeight) + 'px',
                            marginLeft: '-' + Math.round(rx * coords.x) + 'px',
                            marginTop: '-' + Math.round(ry * coords.y) + 'px'
                        });
                    }
                };
                listeners.onSelectHandlers.push(previewUpdate);
                listeners.onChangeHandlers.push(previewUpdate);
            }


            var options = {
                onSelect: listeners.onSelect,
                onChange: listeners.onChange
            };

            if ($previewContainer.length) {
                options.aspectRatio = $previewContainer.width() / $previewContainer.height()
            }

            if (attributes.selection) {
                scope.$watch('selection', function (newVal, oldVal) {
                    if (newVal != oldVal) {
                        var rectangle = newVal == 'release' ? [imageWidth / 2, imageHeight / 2, imageWidth / 2, imageHeight / 2] : newVal;

                        var callback = newVal == 'release' ? function () {
                            jcropApi.release();
                        } : angular.noop;

                        imageLoaded.promise.then(function () {
                            if (scope.options && scope.options.animate) {
                                jcropApi.animateTo(rectangle, callback);
                            } else {
                                jcropApi.setSelect(rectangle);
                            }
                        });
                    }
                });
            }

            if (attributes.options) {

                var optionNames = [
                    'bgOpacity', 'bgColor', 'bgFade', 'shade', 'outerImage',
                    'allowSelect', 'allowMove', 'allowResize',
                    'aspectRatio'
                ];

                angular.forEach(optionNames, function (name) {
                    if (scope.options[name])
                        options[name] = scope.options[name]

                    scope.$watch('options.' + name, function (newVal, oldVal) {
                        if (newVal != oldVal) {
                            imageLoaded.promise.then(function () {
                                var update = {};
                                update[name] = newVal;
                                jcropApi.setOptions(update);
                            });
                        }
                    });

                });


                scope.$watch('options.disabled', function (newVal, oldVal) {
                    if (newVal != oldVal) {
                        if (newVal) {
                            jcropApi.disable();
                        } else {
                            jcropApi.enable();
                        }
                    }
                });

                scope.$watch('options.destroyed', function (newVal, oldVal) {
                    if (newVal != oldVal) {
                        if (newVal) {
                            jcropApi.destroy();
                        } else {
                            _init();
                        }
                    }
                });

                scope.$watch('options.src', function (newVal, oldVal) {
                    imageLoaded = $q.defer();
                    if (newVal != oldVal) {
                        jcropApi.setImage(scope.options.src, function () {
                            imageLoaded.resolve();
                        });
                    }
                });

                var updateSize = function(){
                    jcropApi.setOptions({
                        minSize: [scope.options.minSizeWidth, scope.options.minSizeHeight],
                        maxSize: [scope.options.maxSizeWidth, scope.options.maxSizeHeight]
                    });
                };

                scope.$watch('options.minSizeWidth', function (newVal, oldVal) {
                    if (newVal != oldVal) updateSize();
                });
                scope.$watch('options.minSizeHeight', function (newVal, oldVal) {
                    if (newVal != oldVal) updateSize();
                });
                scope.$watch('options.maxSizeWidth', function (newVal, oldVal) {
                    if (newVal != oldVal) updateSize();
                });
                scope.$watch('options.maxSizeHeight', function (newVal, oldVal) {
                    if (newVal != oldVal) updateSize();
                });
            }

            var _init = function () {
                element.Jcrop(options, function () {
                    jcropApi = this;
                    // Use the API to get the real image size
                    var bounds = this.getBounds();
                    imageWidth = bounds[0];
                    imageHeight = bounds[1];

                    if (attributes.selection && angular.isArray(scope.selection)) {
                        if (scope.options && scope.options.animate) {
                            jcropApi.animateTo(scope.selection);
                        } else {
                            jcropApi.setSelect(scope.selection);
                        }
                    }
                    imageLoaded.resolve();
                });
            };

            _init()


        }
    }
});
'use strict';

angular.module('SmartAdmin.Forms').directive('smartDropzone', function () {
    return function (scope, element, attrs) {
        var config, dropzone;

        config = scope[attrs.smartDropzone];

        // create a Dropzone for the element with the given options
        dropzone = new Dropzone(element[0], config.options);

        // bind the given event handlers
        angular.forEach(config.eventHandlers, function (handler, event) {
            dropzone.on(event, handler);
        });
    };
});

'use strict';

angular.module('SmartAdmin.Forms').directive('smartClockpicker', function () {
    return {
        restrict: 'A',
        compile: function (tElement, tAttributes) {
            tElement.removeAttr('smart-clockpicker data-smart-clockpicker');

            var options = {
                placement: 'top',
                donetext: 'Done'
            }

            tElement.clockpicker(options);
        }
    }
});

'use strict';

angular.module('SmartAdmin.Forms').directive('smartColorpicker', function () {
    return {
        restrict: 'A',
        compile: function (tElement, tAttributes) {
            tElement.removeAttr('smart-colorpicker data-smart-colorpicker');


            var aOptions = _.pick(tAttributes, ['']);

            var options = _.extend(aOptions, {});

            tElement.colorpicker(options);
        }
    }
});
"use strict";

angular.module('SmartAdmin.Forms').directive('smartDatepicker', function () {
    return {
        restrict: 'A',
        scope: {
            options: '='
        },
        link: function (scope, element, attributes) {

            var onSelectCallbacks = [];
            if (attributes.minRestrict) {
                onSelectCallbacks.push(function (selectedDate) {
                    $(attributes.minRestrict).datepicker('option', 'minDate', selectedDate);
                });
            }
            if (attributes.maxRestrict) {
                onSelectCallbacks.push(function (selectedDate) {
                    $(attributes.maxRestrict).datepicker('option', 'maxDate', selectedDate);
                });
            }

            //Let others know about changes to the data field
            onSelectCallbacks.push(function (selectedDate) {
                //CVB - 07/14/2015 - Update the scope with the selected value
                element.triggerHandler("change");

                //CVB - 07/17/2015 - Update Bootstrap Validator
                var form = element.closest('form');

                if(typeof form.bootstrapValidator == 'function')
                    form.bootstrapValidator('revalidateField', element.attr('name'));
            });

            var options = _.extend({
                prevText: '<i class="fa fa-chevron-left"></i>',
                nextText: '<i class="fa fa-chevron-right"></i>',
                onSelect: function (selectedDate) {
                    angular.forEach(onSelectCallbacks, function (callback) {
                        try{
                            callback.call(this, selectedDate)
                        }catch(ex){}
                    })
                }
            }, scope.options || {});


            if (attributes.numberOfMonths) options.numberOfMonths = parseInt(attributes.numberOfMonths);

            if (attributes.dateFormat) options.dateFormat = attributes.dateFormat;

            if (attributes.defaultDate) options.defaultDate = attributes.defaultDate;

            if (attributes.changeMonth) options.changeMonth = attributes.changeMonth == "true";


            element.datepicker(options)
        }
    }
});
'use strict';

angular.module('SmartAdmin.Forms').directive('smartDuallistbox', function () {
    return {
        restrict: 'A',
        compile: function (tElement, tAttributes) {
            tElement.removeAttr('smart-duallistbox data-smart-duallistbox');


            var aOptions = _.pick(tAttributes, ['nonSelectedFilter']);

            var options = _.extend(aOptions, {
                nonSelectedListLabel: 'Non-selected',
                selectedListLabel: 'Selected',
                preserveSelectionOnMove: 'moved',
                moveOnSelect: false
            });

            tElement.bootstrapDualListbox(options);
        }
    }
});

'use strict';

angular.module('SmartAdmin.Forms').directive('smartIonslider', function (lazyScript) {
    return {
        restrict: 'A',
        compile: function (element, attributes) {
            element.removeAttr('smart-ionslider data-smart-ionslider');

        	lazyScript.register('build/vendor.ui.js').then(function(){
            	element.ionRangeSlider();
        	});
        }
    }
});
'use strict';

angular.module('SmartAdmin.Forms').directive('smartKnob', function () {
    return {
        restrict: 'A',
        compile: function (tElement, tAttributes) {
            tElement.removeAttr('smart-knob data-smart-knob');

            tElement.knob();
        }
    }
});
"use strict";

angular.module('SmartAdmin.Forms').directive('smartMaskedInput', function(lazyScript){
    return {
        restrict: 'A',
        compile: function(tElement, tAttributes){
            tElement.removeAttr('smart-masked-input data-smart-masked-input');

        	lazyScript.register('build/vendor.ui.js').then(function(){

	            var options = {};
	            if(tAttributes.maskPlaceholder) options.placeholder =  tAttributes.maskPlaceholder;
	            tElement.mask(tAttributes.smartMaskedInput, options);
        	})	            
        }
    }
});
'use strict';

angular.module('SmartAdmin.Forms').directive('smartNouislider', function ($parse, lazyScript) {
    return {
        restrict: 'A',
        compile: function (tElement, tAttributes) {
            lazyScript.register('build/vendor.ui.js').then(function(){
                tElement.removeAttr('smart-nouislider data-smart-nouislider');

                tElement.addClass('noUiSlider');

                var options = {
                    range: {
                        min: tAttributes.rangeMin ? parseInt(tAttributes.rangeMin) : 0,
                        max: tAttributes.rangeMax ? parseInt(tAttributes.rangeMax) : 1000
                    },
                    start: $parse(tAttributes.start)()
                };

                if (tAttributes.step) options.step =  parseInt(tAttributes.step);

                if(tAttributes.connect) options.connect = tAttributes.connect == 'true' ? true : tAttributes.connect;

                tElement.noUiSlider(options);

                if(tAttributes.update) tElement.on('slide', function(){
                    $(tAttributes.update).text(JSON.stringify(tElement.val()));
                });                
            })
        }
    }
});
'use strict'

angular.module('SmartAdmin.Forms').directive('smartSelect2', function (lazyScript) {
    return {
        restrict: 'A',
        compile: function (element, attributes) {
            element.hide().removeAttr('smart-select2 data-smart-select2');
        	lazyScript.register('build/vendor.ui.js').then(function(){
	            element.show().select2();
        	})
        }
    }
});
'use strict'

angular.module('SmartAdmin.Forms').directive('smartSpinner', function () {
    return {
        restrict: 'A',
        compile: function (tElement, tAttributes) {
            tElement.removeAttr('smart-spinner');

            var options = {};
            if(tAttributes.smartSpinner == 'deicimal'){
                options = {
                    step: 0.01,
                    numberFormat: "n"
                };
            }else if(tAttributes.smartSpinner == 'currency'){
                options = {
                    min: 5,
                    max: 2500,
                    step: 25,
                    start: 1000,
                    numberFormat: "C"
                };
            }

            tElement.spinner(options);
        }
    }
});
'use strict';

angular.module('SmartAdmin.Forms').directive('smartTagsinput', function () {
    return {
        restrict: 'A',
        compile: function (tElement, tAttributes) {
            tElement.removeAttr('smart-tagsinput data-smart-tagsinput');
            tElement.tagsinput();
        }
    }
});
'use strict';

angular.module('SmartAdmin.Forms').directive('smartTimepicker', function () {
    return {
        restrict: 'A',
        compile: function (tElement, tAttributes) {
            tElement.removeAttr('smart-timepicker data-smart-timepicker');
            tElement.timepicker();
        }
    }
});

'use strict';

angular.module('SmartAdmin.Forms').directive('smartUislider', function ($parse, lazyScript) {
    return {
        restrict: 'A',
        compile: function (tElement, tAttributes) {

            tElement.removeAttr('smart-uislider data-smart-uislider');

            lazyScript.register('build/vendor.ui.js').then(function(){
			    tElement.bootstrapSlider();

			    $(tElement.data('bootstrapSlider').sliderElem).prepend(tElement);      	
            })

        }
    }
});
"use strict";

angular.module('SmartAdmin.Forms').directive('smartXeditable', function($timeout, $log){

	function link (scope, element, attrs, ngModel) {

        var defaults = {
            // display: function(value, srcData) {
            //     ngModel.$setViewValue(value);
            //     // scope.$apply();
            // }
        };

        var inited = false;

        var initXeditable = function() {

            var options = scope.options || {};
    		var initOptions = angular.extend(defaults, options);

            // $log.log(initOptions);
            element.editable('destroy');
            element.editable(initOptions);
        }

        scope.$watch("options", function(newValue) {

            if(!newValue) {
                return false;
            }

            initXeditable();

            // $log.log("Options changed...");

        }, true);

    }

    return {
    	restrict: 'A',
    	require: "ngModel",
        scope: {
            options: "="
        },
    	link: link 

    }
});
'use strict';

angular.module('SmartAdmin.Forms').directive('smartValidateForm', function (formsCommon) {
    return {
        restrict: 'A',
        link: function (scope, form, attributes) {

            var validateOptions = {
                rules: {},
                messages: {},
                highlight: function (element) {
                    $(element).closest('.form-group').removeClass('has-success').addClass('has-error');
                },
                unhighlight: function (element) {
                    $(element).closest('.form-group').removeClass('has-error').addClass('has-success');
                },
                errorElement: 'span',
                errorClass: 'help-block',
                errorPlacement: function (error, element) {
                    if (element.parent('.input-group').length) {
                        error.insertAfter(element.parent());
                    } else {
                        error.insertAfter(element);
                    }
                }
            };
            form.find('[data-smart-validate-input], [smart-validate-input]').each(function () {
                var $input = $(this), fieldName = $input.attr('name');

                validateOptions.rules[fieldName] = {};

                if ($input.data('required') != undefined) {
                    validateOptions.rules[fieldName].required = true;
                }
                if ($input.data('email') != undefined) {
                    validateOptions.rules[fieldName].email = true;
                }

                if ($input.data('maxlength') != undefined) {
                    validateOptions.rules[fieldName].maxlength = $input.data('maxlength');
                }

                if ($input.data('minlength') != undefined) {
                    validateOptions.rules[fieldName].minlength = $input.data('minlength');
                }

                if($input.data('message')){
                    validateOptions.messages[fieldName] = $input.data('message');
                } else {
                    angular.forEach($input.data(), function(value, key){
                        if(key.search(/message/)== 0){
                            if(!validateOptions.messages[fieldName])
                                validateOptions.messages[fieldName] = {};

                            var messageKey = key.toLowerCase().replace(/^message/,'')
                            validateOptions.messages[fieldName][messageKey] = value;
                        }
                    });
                }
            });


            form.validate(validateOptions);

        }
    }
});

'use strict';

angular.module('SmartAdmin.Forms').directive('smartFueluxWizard', function () {
    return {
        restrict: 'A',
        scope: {
            smartWizardCallback: '&'
        },
        link: function (scope, element, attributes) {

            var wizard = element.wizard();

            var $form = element.find('form');

            wizard.on('actionclicked.fu.wizard', function(e, data){
                if ($form.data('validator')) {
                    if (!$form.valid()) {
                        $form.data('validator').focusInvalid();
                        e.preventDefault();
                    }
                }
            });

            wizard.on('finished.fu.wizard', function (e, data) {
                var formData = {};
                _.each($form.serializeArray(), function(field){
                    formData[field.name] = field.value
                });
                if(typeof scope.smartWizardCallback() === 'function'){
                    scope.smartWizardCallback()(formData)
                }
            });
        }
    }
});
'use strict';

angular.module('SmartAdmin.Forms').directive('smartWizard', function () {
    return {
        restrict: 'A',
        scope: {
            'smartWizardCallback': '&'
        },
        link: function (scope, element, attributes) {

            var stepsCount = $('[data-smart-wizard-tab]').length;

            var currentStep = 1;

            var validSteps = [];

            var $form = element.closest('form');

            var $prev = $('[data-smart-wizard-prev]', element);

            var $next = $('[data-smart-wizard-next]', element);

            function setStep(step) {
                currentStep = step;
                $('[data-smart-wizard-pane=' + step + ']', element).addClass('active').siblings('[data-smart-wizard-pane]').removeClass('active');
                $('[data-smart-wizard-tab=' + step + ']', element).addClass('active').siblings('[data-smart-wizard-tab]').removeClass('active');

                $prev.toggleClass('disabled', step == 1)
            }


            element.on('click', '[data-smart-wizard-tab]', function (e) {
                setStep(parseInt($(this).data('smartWizardTab')));
                e.preventDefault();
            });

            $next.on('click', function (e) {
                if ($form.data('validator')) {
                    if (!$form.valid()) {
                        validSteps = _.without(validSteps, currentStep);
                        $form.data('validator').focusInvalid();
                        return false;
                    } else {
                        validSteps = _.without(validSteps, currentStep);
                        validSteps.push(currentStep);
                        element.find('[data-smart-wizard-tab=' + currentStep + ']')
                            .addClass('complete')
                            .find('.step')
                            .html('<i class="fa fa-check"></i>');
                    }
                }
                if (currentStep < stepsCount) {
                    setStep(currentStep + 1);
                } else {
                    if (validSteps.length < stepsCount) {
                        var steps = _.range(1, stepsCount + 1)

                        _(steps).forEach(function (num) {
                            if (validSteps.indexOf(num) == -1) {
                                console.log(num);
                                setStep(num);
                                return false;
                            }
                        })
                    } else {
                        var data = {};
                        _.each($form.serializeArray(), function(field){
                            data[field.name] = field.value
                        });
                        if(typeof  scope.smartWizardCallback() === 'function'){
                            scope.smartWizardCallback()(data)
                        }
                    }
                }

                e.preventDefault();
            });

            $prev.on('click', function (e) {
                if (!$prev.hasClass('disabled') && currentStep > 0) {
                    setStep(currentStep - 1);
                }
                e.preventDefault();
            });


            setStep(currentStep);

        }
    }
});
'use strict';

angular.module('SmartAdmin.Layout').directive('demoStates', function ($rootScope) {
    return {
        restrict: 'EA',
        replace: true,
        templateUrl: 'app/_common/layout/directives/demo/demo-states.tpl.html',
        scope: true,
        link: function (scope, element, attributes) {
            element.parent().css({
                position: 'relative'
            });

            element.on('click', '#demo-setting', function () {
                element.toggleClass('activate')
            })
        },
        controller: function ($scope) {
            var $root = $('body');

            $scope.$watch('fixedHeader', function (fixedHeader) {
                localStorage.setItem('sm-fixed-header', fixedHeader);
                $root.toggleClass('fixed-header', fixedHeader);
                if (fixedHeader == false) {
                    $scope.fixedRibbon = false;
                    $scope.fixedNavigation = false;
                }
            });


            $scope.$watch('fixedNavigation', function (fixedNavigation) {
                localStorage.setItem('sm-fixed-navigation', fixedNavigation);
                $root.toggleClass('fixed-navigation', fixedNavigation);
                if (fixedNavigation) {
                    $scope.insideContainer = false;
                    $scope.fixedHeader = true;
                } else {
                    $scope.fixedRibbon = false;
                }
            });


            $scope.$watch('fixedRibbon', function (fixedRibbon) {
                localStorage.setItem('sm-fixed-ribbon', fixedRibbon);
                $root.toggleClass('fixed-ribbon', fixedRibbon);
                if (fixedRibbon) {
                    $scope.fixedHeader = true;
                    $scope.fixedNavigation = true;
                    $scope.insideContainer = false;
                }
            });

            $scope.$watch('fixedPageFooter', function (fixedPageFooter) {
                localStorage.setItem('sm-fixed-page-footer', fixedPageFooter);
                $root.toggleClass('fixed-page-footer', fixedPageFooter);
            });

            $scope.$watch('insideContainer', function (insideContainer) {
                localStorage.setItem('sm-inside-container', insideContainer);
                $root.toggleClass('container', insideContainer);
                if (insideContainer) {
                    $scope.fixedRibbon = false;
                    $scope.fixedNavigation = false;
                }
            });

            $scope.$watch('rtl', function (rtl) {
                localStorage.setItem('sm-rtl', rtl);
                $root.toggleClass('smart-rtl', rtl);
            });

            $scope.$watch('menuOnTop', function (menuOnTop) {
                $rootScope.$broadcast('$smartLayoutMenuOnTop', menuOnTop);
                localStorage.setItem('sm-menu-on-top', menuOnTop);
                $root.toggleClass('menu-on-top', menuOnTop);

                if(menuOnTop)$root.removeClass('minified');
            });

            $scope.$watch('colorblindFriendly', function (colorblindFriendly) {
                localStorage.setItem('sm-colorblind-friendly', colorblindFriendly);
                $root.toggleClass('colorblind-friendly', colorblindFriendly);
            });


            $scope.fixedHeader = localStorage.getItem('sm-fixed-header') == 'true';
            $scope.fixedNavigation = localStorage.getItem('sm-fixed-navigation') == 'true';
            $scope.fixedRibbon = localStorage.getItem('sm-fixed-ribbon') == 'true';
            $scope.fixedPageFooter = localStorage.getItem('sm-fixed-page-footer') == 'true';
            $scope.insideContainer = localStorage.getItem('sm-inside-container') == 'true';
            $scope.rtl = localStorage.getItem('sm-rtl') == 'true';
            $scope.menuOnTop = localStorage.getItem('sm-menu-on-top') == 'true' || $root.hasClass('menu-on-top');
            $scope.colorblindFriendly = localStorage.getItem('sm-colorblind-friendly') == 'true';


            $scope.skins = appConfig.skins;


            $scope.smartSkin = localStorage.getItem('sm-skin') ? localStorage.getItem('sm-skin') : appConfig.smartSkin;

            $scope.setSkin = function (skin) {
                $scope.smartSkin = skin.name;
                $root.removeClass(_.pluck($scope.skins, 'name').join(' '));
                $root.addClass(skin.name);
                localStorage.setItem('sm-skin', skin.name);
                $("#logo img").attr('src', skin.logo);
            };


            if($scope.smartSkin != "smart-style-0"){
                $scope.setSkin(_.find($scope.skins, {name: $scope.smartSkin}))
            }


            $scope.factoryReset = function () {
                $.SmartMessageBox({
                    title: "<i class='fa fa-refresh' style='color:green'></i> Clear Local Storage",
                    content: "Would you like to RESET all your saved widgets and clear LocalStorage?1",
                    buttons: '[No][Yes]'
                }, function (ButtonPressed) {
                    if (ButtonPressed == "Yes" && localStorage) {
                        localStorage.clear();
                        location.reload()
                    }
                });
            }
        }
    }
});
"use strict";

(function ($) {

    $.fn.smartCollapseToggle = function () {

        return this.each(function () {

            var $body = $('body');
            var $this = $(this);

            // only if not  'menu-on-top'
            if ($body.hasClass('menu-on-top')) {


            } else {

                $body.hasClass('mobile-view-activated')

                // toggle open
                $this.toggleClass('open');

                // for minified menu collapse only second level
                if ($body.hasClass('minified')) {
                    if ($this.closest('nav ul ul').length) {
                        $this.find('>a .collapse-sign .fa').toggleClass('fa-minus-square-o fa-plus-square-o');
                        $this.find('ul:first').slideToggle(appConfig.menu_speed || 200);
                    }
                } else {
                    // toggle expand item
                    $this.find('>a .collapse-sign .fa').toggleClass('fa-minus-square-o fa-plus-square-o');
                    $this.find('ul:first').slideToggle(appConfig.menu_speed || 200);
                }
            }
        });
    };

    // Function untuk expand tanpa toggle
    $.fn.smartCollapseExpand = function () {
        return this.each(function () {
            var $body = $('body');
            var $this = $(this);

            if (!$body.hasClass('menu-on-top') && !$this.hasClass('open')) {
                $this.addClass('open');

                if ($body.hasClass('minified')) {
                    if ($this.closest('nav ul ul').length) {
                        $this.find('>a .collapse-sign .fa').removeClass('fa-plus-square-o').addClass('fa-minus-square-o');
                        $this.find('ul:first').slideDown(appConfig.menu_speed || 200);
                    }
                } else {
                    $this.find('>a .collapse-sign .fa').removeClass('fa-plus-square-o').addClass('fa-minus-square-o');
                    $this.find('ul:first').slideDown(appConfig.menu_speed || 200);
                }
            }
        });
    };

})(jQuery);

angular.module('SmartAdmin.Layout').directive('smartMenu', function ($state, $rootScope, $timeout) {
    return {
        restrict: 'A',
        link: function (scope, element, attrs) {
            var $body = $('body');

            var $collapsible = element.find('li[data-menu-collapse]');

            // *** SIMPLIFIED: Function untuk expand menu berdasarkan state dengan CoC ***
            var expandMenuForState = function (stateName, stateUrl) {
                // Normalize state name: hapus "Form" suffix untuk mencari base menu
                var baseStateName = stateName;

                // Normalize state name: handle both patterns
                var baseStateName = stateName;

                // Pattern 1: projects + projectsForm → projects
                // Pattern 2: customers + customerForm → customers

                var suffixPatterns = ['form', 'view', 'verify'];

                for (var i = 0; i < suffixPatterns.length; i++) {
                    var suffix = suffixPatterns[i];

                    if (stateName.toLowerCase().endsWith(suffix)) {
                        var beforeSuffix = stateName.substring(0, stateName.length - suffix.length);

                        // Check if it already ends with 's'
                        if (beforeSuffix.toLowerCase().endsWith('s')) {
                            baseStateName = beforeSuffix;
                        } else {
                            // baseStateName = beforeSuffix + 's';

                            // untuk saat ini, pakai saja sebagai as is
                            baseStateName = beforeSuffix;
                        }

                        // Break after first match
                        break;
                    }
                }

                // Cari menu link yang match dengan base state name
                var $matchedLink = null;

                // 1. Coba exact match dengan base state
                element.find('a[data-ui-sref]').each(function () {
                    var uiSref = $(this).attr('data-ui-sref');
                    if (uiSref === baseStateName) {
                        $matchedLink = $(this);
                        return false; // break loop
                    }
                });

                // 2. Jika tidak ketemu, coba exact match dengan state name asli
                if (!$matchedLink) {
                    element.find('a[data-ui-sref]').each(function () {
                        var uiSref = $(this).attr('data-ui-sref');
                        if (uiSref === stateName) {
                            $matchedLink = $(this);
                            return false; // break loop
                        }
                    });
                }

                // Expand parent menu dari link yang cocok
                if ($matchedLink) {
                    // Remove active dari semua menu
                    element.find('li').removeClass('active');

                    var $parentMenuItems = $matchedLink.parents('li[data-menu-collapse]');

                    // Expand semua parent menu
                    $parentMenuItems.each(function () {
                        var $parentLi = $(this);
                        $parentLi.smartCollapseExpand();
                        $parentLi.addClass('active');
                    });

                    // Tambahkan class active ke link item
                    $matchedLink.parent('li').addClass('active');
                }
            };

            var bindEvents = function () {
                $collapsible.each(function (idx, li) {
                    var $li = $(li);
                    $li
                        .on('click', '>a', function (e) {

                            // collapse all open siblings
                            $li.siblings('.open').smartCollapseToggle();

                            // toggle element
                            $li.smartCollapseToggle();

                            // add active marker to collapsed element if it has active childs
                            if (!$li.hasClass('open') && $li.find('li.active').length > 0) {
                                $li.addClass('active')
                            }

                            e.preventDefault();
                        })
                        .find('>a').append('<b class="collapse-sign"><em class="fa fa-plus-square-o"></em></b>');

                    // initialization toggle
                    if ($li.find('li.active').length) {
                        $li.smartCollapseToggle();
                        $li.find('li.active').parents('li').addClass('active');
                    }
                });
            }
            bindEvents();

            // Jalankan expand menu saat directive pertama kali load
            $timeout(function () {
                if ($state.current && $state.current.name) {
                    expandMenuForState($state.current.name, $state.current.url);
                }
            }, 150);


            // click on route link
            element.on('click', 'a[data-ui-sref]', function (e) {
                // collapse all siblings to element parents and remove active markers
                $(this)
                    .parents('li').addClass('active')
                    .each(function () {
                        $(this).siblings('li.open').smartCollapseToggle();
                        $(this).siblings('li').removeClass('active')
                    });

                if ($body.hasClass('mobile-view-activated')) {
                    $rootScope.$broadcast('requestToggleMenu');
                }
            });


            // Listen to state change untuk expand menu yang sesuai
            scope.$on('$stateChangeSuccess', function (event, toState, toParams, fromState) {
                // Tunggu sebentar agar DOM ready
                $timeout(function () {
                    expandMenuForState(toState.name, toState.url);
                }, 100);
            });


            scope.$on('$smartLayoutMenuOnTop', function (event, menuOnTop) {
                if (menuOnTop) {
                    $collapsible.filter('.open').smartCollapseToggle();
                }
            });
        }
    }
});
(function(){
    "use strict";

    angular.module('SmartAdmin.Layout').directive('smartMenuItems', function ($http, $rootScope, $compile) {
    return {
        restrict: 'A',
        compile: function (element, attrs) {
            

            function createItem(item, parent, level){
                var li = $('<li />' ,{'ui-sref-active': "active"})
                var a = $('<a />');
                var i = $('<i />');

                li.append(a);

                if(item.sref)
                    a.attr('ui-sref', item.sref);
                if(item.href)
                    a.attr('href', item.href);
                if(item.icon){
                    i.attr('class', 'fa fa-lg fa-fw fa-'+item.icon);
                    a.append(i);
                }
                if(item.title){
                    a.attr('title', item.title);
                    if(level == 1){ 
                        a.append(' <span class="menu-item-parent">' + item.title + '</span>');
                    } else {
                        a.append(' ' + item.title);

                    }
                }

                if(item.items){
                    var ul = $('<ul />');
                    li.append(ul);
                    li.attr('data-menu-collapse', '');
                    _.forEach(item.items, function(child) {
                        createItem(child, ul, level+1);
                    })
                } 

                parent.append(li); 
            }


            $http.get(attrs.smartMenuItems).then(function(res){
                var ul = $('<ul />', {
                    'smart-menu': ''
                })
                _.forEach(res.data.items, function(item) {
                    createItem(item, ul, 1);
                })
                
                var $scope = $rootScope.$new();
                var html = $('<div>').append(ul).html(); 
                var linkingFunction = $compile(html);
                
                var _element = linkingFunction($scope);

                element.replaceWith(_element);                
            })
        }
    }
});
})();
/**
 * Jarvis Widget Directive
 *
 *    colorbutton="false"
 *    editbutton="false"
      togglebutton="false"
       deletebutton="false"
        fullscreenbutton="false"
        custombutton="false"
        collapsed="true"
          sortable="false"
 *
 *
 */
"use strict";

angular.module('SmartAdmin.Layout').directive('jarvisWidget', function($rootScope){
    return {
        restrict: "A",
        compile: function(element, attributes){
            if(element.data('widget-color'))
                element.addClass('jarviswidget-color-' + element.data('widget-color'));


            element.find('.widget-body').prepend('<div class="jarviswidget-editbox"><input class="form-control" type="text"></div>');

            element.addClass('jarviswidget');
            $rootScope.$emit('jarvisWidgetAdded', element )

        }
    }
});
 "use strict";
 
 angular.module('SmartAdmin.Layout').directive('widgetGrid', function ($rootScope, $compile, $q, $state, $timeout) {

    var jarvisWidgetsDefaults = {
        grid: 'article',
        widgets: '.jarviswidget',
        localStorage: true,
        deleteSettingsKey: '#deletesettingskey-options',
        settingsKeyLabel: 'Reset settings?',
        deletePositionKey: '#deletepositionkey-options',
        positionKeyLabel: 'Reset position?',
        sortable: true,
        buttonsHidden: false,
        // toggle button
        toggleButton: true,
        toggleClass: 'fa fa-minus | fa fa-plus',
        toggleSpeed: 200,
        onToggle: function () {
        },
        // delete btn
        deleteButton: true,
        deleteMsg: 'Warning: This action cannot be undone!',
        deleteClass: 'fa fa-times',
        deleteSpeed: 200,
        onDelete: function () {
        },
        // edit btn
        editButton: true,
        editPlaceholder: '.jarviswidget-editbox',
        editClass: 'fa fa-cog | fa fa-save',
        editSpeed: 200,
        onEdit: function () {
        },
        // color button
        colorButton: true,
        // full screen
        fullscreenButton: true,
        fullscreenClass: 'fa fa-expand | fa fa-compress',
        fullscreenDiff: 3,
        onFullscreen: function () {
        },
        // custom btn
        customButton: false,
        customClass: 'folder-10 | next-10',
        customStart: function () {
            alert('Hello you, this is a custom button...');
        },
        customEnd: function () {
            alert('bye, till next time...');
        },
        // order
        buttonOrder: '%refresh% %custom% %edit% %toggle% %fullscreen% %delete%',
        opacity: 1.0,
        dragHandle: '> header',
        placeholderClass: 'jarviswidget-placeholder',
        indicator: true,
        indicatorTime: 600,
        ajax: true,
        timestampPlaceholder: '.jarviswidget-timestamp',
        timestampFormat: 'Last update: %m%/%d%/%y% %h%:%i%:%s%',
        refreshButton: true,
        refreshButtonClass: 'fa fa-refresh',
        labelError: 'Sorry but there was a error:',
        labelUpdated: 'Last Update:',
        labelRefresh: 'Refresh',
        labelDelete: 'Delete widget:',
        afterLoad: function () {
        },
        rtl: false, // best not to toggle this!
        onChange: function () {

        },
        onSave: function () {

        },
        ajaxnav: true

    }

    var dispatchedWidgetIds = [];
    var setupWaiting = false;

    var debug = 1;

    var setupWidgets = function (element, widgetIds) {

        if (!setupWaiting) {

            if(_.intersection(widgetIds, dispatchedWidgetIds).length != widgetIds.length){

                dispatchedWidgetIds = _.union(widgetIds, dispatchedWidgetIds);

//                    console.log('setupWidgets', debug++);

                element.data('jarvisWidgets') && element.data('jarvisWidgets').destroy();
                element.jarvisWidgets(jarvisWidgetsDefaults);
                initDropdowns(widgetIds);
            }

        } else {
            if (!setupWaiting) {
                setupWaiting = true;
                $timeout(function () {
                    setupWaiting = false;
                    setupWidgets(element, widgetIds)
                }, 200);
            }
        }

    };

    var destroyWidgets = function(element, widgetIds){
        element.data('jarvisWidgets') && element.data('jarvisWidgets').destroy();
        dispatchedWidgetIds = _.xor(dispatchedWidgetIds, widgetIds);
    };

    var initDropdowns = function (widgetIds) {
        angular.forEach(widgetIds, function (wid) {
            $('#' + wid + ' [data-toggle="dropdown"]').each(function () {
                var $parent = $(this).parent();
                // $(this).removeAttr('data-toggle');
                if (!$parent.attr('dropdown')) {
                    $(this).removeAttr('href');
                    $parent.attr('dropdown', '');
                    var compiled = $compile($parent)($parent.scope())
                    $parent.replaceWith(compiled);
                }
            })
        });
    };

    var jarvisWidgetAddedOff,
        $viewContentLoadedOff,
        $stateChangeStartOff;

    return {
        restrict: 'A',
        compile: function(element){

            element.removeAttr('widget-grid data-widget-grid');

            var widgetIds = [];

            $viewContentLoadedOff = $rootScope.$on('$viewContentLoaded', function (event, data) {
                $timeout(function () {
                    setupWidgets(element, widgetIds)
                }, 100);
            });


            $stateChangeStartOff = $rootScope.$on('$stateChangeStart',
                function(event, toState, toParams, fromState, fromParams){
                    jarvisWidgetAddedOff();
                    $viewContentLoadedOff();
                    $stateChangeStartOff();
                    destroyWidgets(element, widgetIds)
                });

            jarvisWidgetAddedOff = $rootScope.$on('jarvisWidgetAdded', function (event, widget) {
                if (widgetIds.indexOf(widget.attr('id')) == -1) {
                    widgetIds.push(widget.attr('id'));
                    $timeout(function () {
                        setupWidgets(element, widgetIds)
                    }, 100);
                }
//                    console.log('jarvisWidgetAdded', widget.attr('id'));
            });

        }
    }
});

'use strict';

angular.module('app.erpUtils', ['angular-jwt']);
angular.module('app.erp', ['ui.router', 'ui.bootstrap', 'angular-jwt', 'app.erpUtils']);

angular.module('app.erp').config(function ($stateProvider) {
    $stateProvider
        .state('app.erp', {
            abstract: true,
            data: {
                title: 'ERP',
            },
        })
        .state('app.erp.utama', {
            url: '/erp',
            data: {
                title: 'Halaman Utama',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/utama.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/utama.html',
                },
            },
        });
});
'use strict';

angular.module('app.erp').config(function ($stateProvider) {
    $stateProvider
        .state('app.erp.finance', {
            url: '/erp/finance',
            data: {
                title: 'Finance',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/_WebPage.html',
                },
            },
        })

        .state('app.erp.financeAddressList', {
            url: '/erp/finance/AddressList',
            data: {
                title: 'Address List',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/AddressListFin.html',
                },
            },
        })

        .state('app.erp.financeAdvanceAgings', {
            url: '/erp/finance/AdvanceAgings',
            data: {
                title: 'Advance Agings',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/AdvanceAgings.html',
                },
            },
        })

        .state('app.erp.financeAdvanceAgingsView', {
            url: '/erp/finance/AdvanceAgingView',
            data: {
                title: 'View: Advance Aging',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/AdvanceAgingsView.html',
                },
            },
        })

        .state('app.erp.financeAdvanceRequestsForm', {
            url: '/erp/finance/AdvanceRequestForm',
            data: {
                title: 'Form: Advance Request',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/AdvanceRequestForm.html',
                },
            },
        })

        .state('app.erp.financeAdvanceRequests', {
            url: '/erp/finance/AdvanceRequests',
            data: {
                title: 'Advance Requests',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/AdvanceRequests.html',
                },
            },
        })

        .state('app.erp.financeAdvanceReasons', {
            url: '/erp/finance/AdvanceReasons',
            data: {
                title: 'Advance Reasons',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/AdvanceReasons.html',
                },
            },
        })

        .state('app.erp.financeAdvanceReasonsForm', {
            url: '/erp/finance/AdvanceReasonForm',
            data: {
                title: 'Form: Advance Reason',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/AdvanceReasonForm.html',
                },
            },
        })

        .state('app.erp.financeApprovalWorkFlowForm', {
            url: '/erp/finance/ApprovalWorkFlowForm',
            data: {
                title: 'Form: Approval WorkFlow',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/ApprovalWorkFlowForm.html',
                },
            },
        })

        .state('app.erp.financeApprovalWorkflows', {
            url: '/erp/finance/ApprovalWorkflows',
            data: {
                title: 'Approval Workflows',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/ApprovalWorkflows.html',
                },
            },
        })

        .state('app.erp.financeBankReconSummary', {
            url: '/erp/finance/BankReconSummary',
            data: {
                title: 'Bank Recon Summary',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/BankReconSummary.html',
                },
            },
        })

        .state('app.erp.financeBankReconSummaryView', {
            url: '/erp/finance/BankReconSummaryView',
            data: {
                title: 'View: Bank Recon Summary',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/BankReconSummaryView.html',
                },
            },
        })

        .state('app.erp.financeBankReconciliation', {
            url: '/erp/finance/BankReconciliation',
            data: {
                title: 'Bank Reconciliation',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/BankReconciliation.html',
                },
            },
        })

        .state('app.erp.financeBudgetPlans', {
            url: '/erp/finance/BudgetPlans',
            data: {
                title: 'Budget Plans',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/BudgetPlans.html',
                },
            },
        })

        .state('app.erp.financeBudgetPlansForm', {
            url: '/erp/finance/BudgetPlanForm',
            data: {
                title: 'Form: Budget Plans',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/BudgetPlanForm.html',
                },
            },
        })

        .state('app.erp.financeBrowseAdvanceReason', {
            url: '/erp/finance/BrowseAdvanceReason',
            data: {
                title: 'Browse Advance Reason',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/BrowseAdvanceReason.html',
                },
            },
        })

        .state('app.erp.financeCashAccountsForm', {
            url: '/erp/finance/CashAccountForm',
            data: {
                title: 'Form: Cash Account',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/CashAccountForm.html',
                },
            },
        })

        .state('app.erp.financeCashAccounts', {
            url: '/erp/finance/CashAccounts',
            data: {
                title: 'Cash Accounts',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/CashAccounts.html',
                },
            },
        })

        .state('app.erp.financeCashPositions', {
            url: '/erp/finance/CashPositions',
            data: {
                title: 'Cash Positions',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/CashPositions.html',
                },
            },
        })

        .state('app.erp.financeCashPositionsForm', {
            url: '/erp/finance/CashPositionForm',
            data: {
                title: 'Form: Cash Position',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/CashPositionsForm.html',
                },
            },
        })

        .state('app.erp.financeCashReconSummary', {
            url: '/erp/finance/CashReconSummary',
            data: {
                title: 'Cash Recon Summary',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/CashReconSummary.html',
                },
            },
        })

        .state('app.erp.financeCashReconSummaryView', {
            url: '/erp/finance/CashReconSummaryView',
            data: {
                title: 'View: Cash Recon Summary',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/CashReconSummaryView.html',
                },
            },
        })

        .state('app.erp.financeCashTransactions', {
            url: '/erp/finance/CashTransactions',
            data: {
                title: 'Cash Transactions',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/CashTransactions.html',
                },
            },
        })

        .state('app.erp.financeChartOfAccountsForm', {
            url: '/erp/finance/ChartOfAccountForm',
            data: {
                title: 'Form: Chart of Account',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/ChartOfAccountForm.html',
                },
            },
        })

        .state('app.erp.financeChartOfAccounts', {
            url: '/erp/finance/ChartOfAccounts',
            data: {
                title: 'Chart of Accounts',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/ChartOfAccounts.html',
                },
            },
        })

        .state('app.erp.financeChartOfAccountsX', {
            url: '/erp/finance/ChartOfAccountsX',
            data: {
                title: 'Chart of Accounts',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/ChartOfAccountsX.html',
                },
            },
        })

        .state('app.erp.financeChequePositions', {
            url: '/erp/finance/ChequePositions',
            data: {
                title: 'Cheque Positions',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/ChequePositions.html',
                },
            },
        })

        .state('app.erp.financeChequePositionsView', {
            url: '/erp/finance/ChequePositionView',
            data: {
                title: 'View: Cheque Position',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/ChequePositionsView.html',
                },
            },
        })

        .state('app.erp.financeClearingOrders', {
            url: '/erp/finance/ClearingOrders',
            data: {
                title: 'Clearing Orders',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/ClearingOrders.html',
                },
            },
        })

        .state('app.erp.financeClearingOrdersForm', {
            url: '/erp/finance/ClearingOrderForm',
            data: {
                title: 'Form: Clearing Order',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/ClearingOrderForm.html',
                },
            },
        })

        .state('app.erp.financeClearingRequests', {
            url: '/erp/finance/ClearingRequests',
            data: {
                title: 'Clearing Requests',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/ClearingRequests.html',
                },
            },
        })

        .state('app.erp.financeClearingRequestsForm', {
            url: '/erp/finance/ClearingRequestForm',
            data: {
                title: 'Form: Clearing Request',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/ClearingRequestsForm.html',
                },
            },
        })

        .state('app.erp.financeCollectDashboard', {
            url: '/erp/finance/CollectDashboard',
            data: {
                title: 'Collect Dashboard',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/CollectDashboard.html',
                },
            },
        })

        .state('app.erp.financeCollectOrders', {
            url: '/erp/finance/CollectOrders',
            data: {
                title: 'Collect Orders',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/CollectOrders.html',
                },
            },
        })

        .state('app.erp.financeCollectOrdersForm', {
            url: '/erp/finance/CollectOrderForm',
            data: {
                title: 'Form: Collect Order',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/CollectOrderForm.html',
                },
            },
        })

        .state('app.erp.financeCollectRequests', {
            url: '/erp/finance/CollectRequests',
            data: {
                title: 'Collect Requests',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/CollectRequests.html',
                },
            },
        })

        .state('app.erp.financeContactList', {
            url: '/erp/finance/ContactList',
            data: {
                title: 'Contact List',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/ContactList.html',
                },
            },
        })

        .state('app.erp.financeCreditNotes', {
            url: '/erp/finance/CreditNotes',
            data: {
                title: 'Credit Notes',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/CreditNotes.html',
                },
            },
        })

        .state('app.erp.financeCreditNotesForm', {
            url: '/erp/finance/CreditNoteForm',
            data: {
                title: 'Form: Credit Note',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/CreditNoteForm.html',
                },
            },
        })

        .state('app.erp.financeCurrencies', {
            url: '/erp/finance/Currencies',
            data: {
                title: 'Currencies',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/Currencies.html',
                },
            },
        })

        .state('app.erp.financeCurrenciesForm', {
            url: '/erp/finance/CurrencyForm',
            data: {
                title: 'Form: Currency',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/CurrencyForm.html',
                },
            },
        })

        .state('app.erp.financeCurrencyRates', {
            url: '/erp/finance/CurrencyRates',
            data: {
                title: 'Currency Rates',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/CurrencyRates.html',
                },
            },
        })

        .state('app.erp.financeCurrencyRatesForm', {
            url: '/erp/finance/CurrencyRateForm',
            data: {
                title: 'Form: Currency Rate',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/CurrencyRatesForm.html',
                },
            },
        })

        .state('app.erp.financeCustomerCategories', {
            url: '/erp/finance/CustomerCategories',
            data: {
                title: 'Customer Categories',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/CustomerCategories.html',
                },
            },
        })

        .state('app.erp.financeCustomerCategoriesForm', {
            url: '/erp/finance/CustomerCategoryForm',
            data: {
                title: 'Form: Customer Category',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/CustomerCategoryForm.html',
                },
            },
        })

        .state('app.erp.financeCustomerReceipts', {
            url: '/erp/finance/CustomerReceipts',
            data: {
                title: 'Customer Receipts',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/CustomerReceipts.html',
                },
            },
        })

        .state('app.erp.financeCustomerReceiptsForm', {
            url: '/erp/finance/CustomerReceiptForm',
            data: {
                title: 'Form: Customer Receipt',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/CustomerReceiptsForm.html',
                },
            },
        })

        .state('app.erp.financeCustomers', {
            url: '/erp/finance/Customers',
            data: {
                title: 'Customers',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/CustomersFin.html',
                },
            },
        })

        .state('app.erp.financeDailyReconSummary', {
            url: '/erp/finance/DailyReconSummary',
            data: {
                title: 'Daily Recon Summary',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/DailyReconSummary.html',
                },
            },
        })

        .state('app.erp.financeDailyReconSummaryView', {
            url: '/erp/finance/DailyReconSummaryView',
            data: {
                title: 'View: Daily Recon Summary',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/DailyReconSummaryView.html',
                },
            },
        })

        .state('app.erp.financeDailyReconciliation', {
            url: '/erp/finance/DailyReconciliation',
            data: {
                title: 'Daily Reconciliation',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/DailyReconciliation.html',
                },
            },
        })

        .state('app.erp.financeDebitNotes', {
            url: '/erp/finance/DebitNotes',
            data: {
                title: 'Debit Notes',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/DebitNotes.html',
                },
            },
        })

        .state('app.erp.financeDebitNotesForm', {
            url: '/erp/finance/DebitNoteForm',
            data: {
                title: 'Form: Debit Note',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/DebitNoteForm.html',
                },
            },
        })

        .state('app.erp.financeDepositTypes', {
            url: '/erp/finance/DepositTypes',
            data: {
                title: 'Deposit Types',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/DepositTypes.html',
                },
            },
        })

        .state('app.erp.financeDepositTypesForm', {
            url: '/erp/finance/DepositTypeForm',
            data: {
                title: 'Form: Deposit Type',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/DepositTypeForm.html',
                },
            },
        })

        .state('app.erp.financeDiscountsForm', {
            url: '/erp/finance/DiscountForm',
            data: {
                title: 'Form: Discount',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/DiscountForm.html',
                },
            },
        })

        .state('app.erp.financeDiscounts', {
            url: '/erp/finance/Discounts',
            data: {
                title: 'Discounts',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/DiscountsFin.html',
                },
            },
        })

        .state('app.erp.financeDisposalMethods', {
            url: '/erp/finance/DisposalMethods',
            data: {
                title: 'Disposal Methods',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/DisposalMethodsFin.html',
                },
            },
        })

        .state('app.erp.financeDisposalMethodsForm', {
            url: '/erp/finance/DisposalMethodForm',
            data: {
                title: 'Form: Disposal Method',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/DisposalMethodsFinForm.html',
                },
            },
        })

        .state('app.erp.financeDisposalProfile', {
            url: '/erp/finance/DisposalProfile',
            data: {
                title: 'Disposal Profile',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/DisposalProfile.html',
                },
            },
        })

        .state('app.erp.financeExpenseForm', {
            url: '/erp/finance/ExpenseForm',
            data: {
                title: 'Form: Expense',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/ExpenseForm.html',
                },
            },
        })

        .state('app.erp.financeFinancialPeriods', {
            url: '/erp/finance/FinancialPeriods',
            data: {
                title: 'Financial Periods',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/FinancialPeriods.html',
                },
            },
        })

        .state('app.erp.financeFinancialPeriodsForm', {
            url: '/erp/finance/FinancialPeriodForm',
            data: {
                title: 'Form: Financial Periods',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/FinancialPeriodForm.html',
                },
            },
        })

        .state('app.erp.financeFinancialReports', {
            url: '/erp/finance/FinancialReports',
            data: {
                title: 'Financial Reports',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/FinancialReports.html',
                },
            },
        })

        .state('app.erp.financeFinancialReportsForm', {
            url: '/erp/finance/FinancialReportForm',
            data: {
                title: 'Form: Financial Report',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/FinancialReportsForm.html',
                },
            },
        })

        .state('app.erp.financeFinancialYearForm', {
            url: '/erp/finance/FinancialYearForm',
            data: {
                title: 'Form: Financial Year',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/FinancialYearForm.html',
                },
            },
        })

        .state('app.erp.financeFollowUpRequests', {
            url: '/erp/finance/FollowUpRequests',
            data: {
                title: 'Follow Up Requests',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/FollowUpRequests.html',
                },
            },
        })

        .state('app.erp.financeFollowUpRequestsForm', {
            url: '/erp/finance/FollowUpRequestForm',
            data: {
                title: 'Form: Follow Up Request',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/FollowUpRequestsForm.html',
                },
            },
        })

        .state('app.erp.financeGeneralLedger', {
            url: '/erp/finance/GeneralLedger',
            data: {
                title: 'General Ledger',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/GeneralLedger.html',
                },
            },
        })

        .state('app.erp.financeGeneralLedgerForm', {
            url: '/erp/finance/GeneralLedgerForm',
            data: {
                title: 'Form: General Ledger',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/GeneralLedgerForm.html',
                },
            },
        })

        .state('app.erp.financeGLJournals', {
            url: '/erp/finance/GLJournals',
            data: {
                title: 'GL Journals',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/GLJournals.html',
                },
            },
        })

        .state('app.erp.financeGLJournalsForm', {
            url: '/erp/finance/GLJournalForm',
            data: {
                title: 'Form: GL Journals',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/GLJournalsForm.html',
                },
            },
        })

        .state('app.erp.financeGroupsForm', {
            url: '/erp/finance/GroupForm',
            data: {
                title: 'Form: Group',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/GroupForm.html',
                },
            },
        })

        .state('app.erp.financeGroups', {
            url: '/erp/finance/Groups',
            data: {
                title: 'Groups',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/Groups.html',
                },
            },
        })

        .state('app.erp.financeInvoiceRequests', {
            url: '/erp/finance/InvoiceRequests',
            data: {
                title: 'Invoice Requests',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/InvoiceRequests.html',
                },
            },
        })

        .state('app.erp.financeItemChargesForm', {
            url: '/erp/finance/ItemChargeForm',
            data: {
                title: 'Form: Item Charge',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/ItemChargeForm.html',
                },
            },
        })

        .state('app.erp.financeItemChargeProfile', {
            url: '/erp/finance/ItemChargeProfile',
            data: {
                title: 'Form: Item Charge',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/ItemChargeProfile.html',
                },
            },
        })

        .state('app.erp.financeItemCharges', {
            url: '/erp/finance/ItemCharges',
            data: {
                title: 'Item Charges',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/ItemCharges.html',
                },
            },
        })

        .state('app.erp.financeMutationsForm', {
            url: '/erp/finance/MutationForm',
            data: {
                title: 'Form: Mutation',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/MutationForm.html',
                },
            },
        })

        .state('app.erp.financeMutations', {
            url: '/erp/finance/Mutations',
            data: {
                title: 'Mutations',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/Mutations.html',
                },
            },
        })

        .state('app.erp.financeOnIssueClearings', {
            url: '/erp/finance/OnIssueClearings',
            data: {
                title: 'On Issue Clearings',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/OnIssueClearings.html',
                },
            },
        })

        .state('app.erp.financeOnIssueClearingsForm', {
            url: '/erp/finance/OnIssueClearingForm',
            data: {
                title: 'Form: On Issue Clearing',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/OnIssueClearingsForm.html',
                },
            },
        })

        .state('app.erp.financePCashReconciliation', {
            url: '/erp/finance/PCashReconciliation',
            data: {
                title: 'P Cash Reconciliation',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/PCashReconciliation.html',
                },
            },
        })

        .state('app.erp.financePaidDeposits', {
            url: '/erp/finance/PaidDeposits',
            data: {
                title: 'Paid Deposits',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/PaidDeposits.html',
                },
            },
        })

        .state('app.erp.financePaidDepositsForm', {
            url: '/erp/finance/PaidDepositForm',
            data: {
                title: 'Form: Paid Deposits',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/PaidDepositsForm.html',
                },
            },
        })

        .state('app.erp.financePayableAgings', {
            url: '/erp/finance/PayableAgings',
            data: {
                title: 'Payable Agings',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/PayableAgings.html',
                },
            },
        })

        .state('app.erp.financePayableAgingsView', {
            url: '/erp/finance/PayableAgingView',
            data: {
                title: 'View: Payable Aging',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/PayableAgingsView.html',
                },
            },
        })

        .state('app.erp.financePayableInvoices', {
            url: '/erp/finance/PayableInvoices',
            data: {
                title: 'Payable Invoices',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/PayableInvoices.html',
                },
            },
        })

        .state('app.erp.financePayableInvoicesForm', {
            url: '/erp/finance/PayableInvoiceForm',
            data: {
                title: 'Form: Payable Invoice',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/PayableInvoicesForm.html',
                },
            },
        })

        .state('app.erp.financePayableReceipts', {
            url: '/erp/finance/PayableReceipts',
            data: {
                title: 'Payable Receipts',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/PayableReceipts.html',
                },
            },
        })

        .state('app.erp.financePayableReceiptsForm', {
            url: '/erp/finance/PayableReceiptForm',
            data: {
                title: 'Form: Payable Receipts',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/PayableReceiptsForm.html',
                },
            },
        })

        .state('app.erp.financePaymentRequests', {
            url: '/erp/finance/PaymentRequests',
            data: {
                title: 'Payment Requests',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/PaymentRequests.html',
                },
            },
        })

        .state('app.erp.financePaymentRequestsForm', {
            url: '/erp/finance/PaymentRequestForm',
            data: {
                title: 'Form: Payment Request',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/PaymentRequestForm.html',
                },
            },
        })

        .state('app.erp.financePendingReceiptStatusUpdate', {
            url: '/erp/finance/PendingReceiptStatusUpdate',
            data: {
                title: 'Pending Receipt Status Update',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/PendingReceiptStatusUpdate.html',
                },
            },
        })

        .state('app.erp.financePendingReceipts', {
            url: '/erp/finance/PendingReceipts',
            data: {
                title: 'Pending Receipts',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/PendingReceipts.html',
                },
            },
        })

        .state('app.erp.financePeriodClosing', {
            url: '/erp/finance/PeriodClosing',
            data: {
                title: 'Period Closing',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/PeriodClosing.html',
                },
            },
        })

        .state('app.erp.financePeriodClosingForm', {
            url: '/erp/finance/PeriodClosingForm',
            data: {
                title: 'Form: Period Closing',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/PeriodClosingForm.html',
                },
            },
        })

        .state('app.erp.financePersonnels', {
            url: '/erp/finance/Personnels',
            data: {
                title: 'Personnels',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/PersonnelsFin.html',
                },
            },
        })

        .state('app.erp.financeRateTypes', {
            url: '/erp/finance/RateTypes',
            data: {
                title: 'Rate Types',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/RateTypes.html',
                },
            },
        })

        .state('app.erp.financeRateTypesForm', {
            url: '/erp/finance/RateTypeForm',
            data: {
                title: 'Form: Rate Type',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/RateTypeForm.html',
                },
            },
        })

        .state('app.erp.financeReceivableAgings', {
            url: '/erp/finance/ReceivableAgings',
            data: {
                title: 'Receivable Agings',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/ReceivableAgings.html',
                },
            },
        })

        .state('app.erp.financeReceivableAgingsView', {
            url: '/erp/finance/ReceivableAgingView',
            data: {
                title: 'View: Receivable Aging',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/ReceivableAgingsView.html',
                },
            },
        })


        .state('app.erp.financeReceivableReceipt', {
            url: '/erp/finance/ReceivableReceipt',
            data: {
                title: 'Receivable Receipt',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/ReceivableReceipt.html',
                },
            },
        })

        .state('app.erp.financeReceivableReceiptForm', {
            url: '/erp/finance/ReceivableReceiptForm',
            data: {
                title: 'Form: Receivable Receipt',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/ReceivableReceiptForm.html',
                },
            },
        })

        .state('app.erp.financeReceivedDeposits', {
            url: '/erp/finance/ReceivedDeposits',
            data: {
                title: 'Received Deposits',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/ReceivedDeposits.html',
                },
            },
        })

        .state('app.erp.financeReceivedDepositsForm', {
            url: '/erp/finance/ReceivedDepositForm',
            data: {
                title: 'Form: Received Deposit',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/ReceivedDepositsForm.html',
                },
            },
        })

        .state('app.erp.financeReportSettings', {
            url: '/erp/finance/ReportSettings',
            data: {
                title: 'Report Settings',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/ReportSettings.html',
                },
            },
        })

        .state('app.erp.financeReportSettingsForm', {
            url: '/erp/finance/ReportSettingForm',
            data: {
                title: 'Form: Report Settings',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/ReportSettingsForm.html',
                },
            },
        })

        .state('app.erp.financeSalesInvoices', {
            url: '/erp/finance/SalesInvoices',
            data: {
                title: 'Sales Invoices',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/SalesInvoices.html',
                },
            },
        })

        .state('app.erp.financeSalesInvoicesForm', {
            url: '/erp/finance/SalesInvoiceForm',
            data: {
                title: 'Form: Sales Invoice',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/SalesInvoiceForm.html',
                },
            },
        })

        .state('app.erp.financeSubAccountsForm', {
            url: '/erp/finance/SubAccountForm',
            data: {
                title: 'Form: Sub Account',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/SubAccountsForm.html',
                },
            },
        })

        .state('app.erp.financeSubAccounts', {
            url: '/erp/finance/SubAccounts',
            data: {
                title: 'Sub Accounts',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/SubAccounts.html',
                },
            },
        })

        .state('app.erp.financeSupplierCategories', {
            url: '/erp/finance/SupplierCategories',
            data: {
                title: 'Supplier Categories',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/SupplierCategories.html',
                },
            },
        })

        .state('app.erp.financeSupplierCategoriesForm', {
            url: '/erp/finance/SupplierCategoryForm',
            data: {
                title: 'Form: Supplier Category',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/SupplierCategoryForm.html',
                },
            },
        })

        .state('app.erp.financeSuppliers', {
            url: '/erp/finance/Suppliers',
            data: {
                title: 'Suppliers',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/Suppliers.html',
                },
            },
        })

        .state('app.erp.financeSurveyRequests', {
            url: '/erp/finance/SurveyRequests',
            data: {
                title: 'Survey Requests',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/SurveyRequests.html',
                },
            },
        })

        .state('app.erp.financeSurveyRequestsForm', {
            url: '/erp/finance/SurveyRequestForm',
            data: {
                title: 'Form: Survey Request',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/SurveyRequestsForm.html',
                },
            },
        })

        .state('app.erp.financeTaxCategories', {
            url: '/erp/finance/TaxCategories',
            data: {
                title: 'Tax Categories',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/TaxCategories.html',
                },
            },
        })

        .state('app.erp.financeTaxCategoriesForm', {
            url: '/erp/finance/TaxCategoryForm',
            data: {
                title: 'Form: Tax Category',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/TaxCategoriesForm.html',
                },
            },
        })

        .state('app.erp.financeTaxInvoiceRecon', {
            url: '/erp/finance/TaxInvoiceRecon',
            data: {
                title: 'Tax Invoice Recon.',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/TaxInvoiceRecon.html',
                },
            },
        })

        .state('app.erp.financeTaxInvoiceReconForm', {
            url: '/erp/finance/TaxInvoiceReconForm',
            data: {
                title: 'Form: Tax Invoice Recon.',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/TaxInvoiceReconForm.html',
                },
            },
        })

        .state('app.erp.financeTaxZonesForm', {
            url: '/erp/finance/TaxZoneForm',
            data: {
                title: 'Form: Tax Zone',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/TaxZonesForm.html',
                },
            },
        })

        .state('app.erp.financeTaxZones', {
            url: '/erp/finance/TaxZones',
            data: {
                title: 'Tax Zones',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/TaxZones.html',
                },
            },
        })

        .state('app.erp.financeTaxes', {
            url: '/erp/finance/Taxes',
            data: {
                title: 'Taxes',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/Taxes.html',
                },
            },
        })

        .state('app.erp.financeTaxesForm', {
            url: '/erp/finance/TaxForm',
            data: {
                title: 'Form: Tax',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/TaxesForm.html',
                },
            },
        })

        .state('app.erp.financeTrialBalance', {
            url: '/erp/finance/TrialBalance',
            data: {
                title: 'Trial Balance',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/TrialBalance.html',
                },
            },
        })

        .state('app.erp.financeTrialBalanceForm', {
            url: '/erp/finance/TrialBalanceForm',
            data: {
                title: 'Form: Trial Balance',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/TrialBalanceForm.html',
                },
            },
        })

        .state('app.erp.financeVATBalance', {
            url: '/erp/finance/VATBalance',
            data: {
                title: 'VAT Balance',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/VATBalance.html',
                },
            },
        })

        .state('app.erp.financeVATBalanceForm', {
            url: '/erp/finance/VATBalanceForm',
            data: {
                title: 'Form: VAT Balance',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/VATBalanceForm.html',
                },
            },
        })

        .state('app.erp.financeVATNrRegistrations', {
            url: '/erp/finance/VATNrRegistrations',
            data: {
                title: 'VAT Nr. Registrations',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/VATNrRegistrations.html',
                },
            },
        })

        .state('app.erp.financeVATNumberRegistrationForm', {
            url: '/erp/finance/VATNumberRegistrationForm',
            data: {
                title: 'Form: VAT Number Registration',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/VATNumberRegistrationForm.html',
                },
            },
        })

        .state('app.erp.financeVATNumbers', {
            url: '/erp/finance/VATNumbers',
            data: {
                title: 'VAT Numbers',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/VATNumbers.html',
                },
            },
        })

        .state('app.erp.financeVATNumbersForm', {
            url: '/erp/finance/VATNumberForm',
            data: {
                title: 'Form: VAT Number',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/VATNumbersForm.html',
                },
            },
        })

        .state('app.erp.financeVATReconciliation', {
            url: '/erp/finance/VATReconciliation',
            data: {
                title: 'VAT Reconciliation',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/VATReconciliation.html',
                },
            },
        })

        .state('app.erp.financeVATReconciliationForm', {
            url: '/erp/finance/VATReconciliationForm',
            data: {
                title: 'Form: VAT Reconciliation',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/VATReconciliationForm.html',
                },
            },
        })

        .state('app.erp.financePickedCollectRequest', {
            url: '/erp/finance/PickedCollectRequest',
            data: {
                title: 'Picked Collect Request',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/PickedCollectRequest.html',
                },
            },
        })

        .state('app.erp.financeVATBalances', {
            url: '/erp/finance/VATBalances',
            data: {
                title: 'VAT Balances',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/VATBalances.html',
                },
            },
        })

        .state('app.erp.financeVATBalanceMovement', {
            url: '/erp/finance/VATBalanceMovement',
            data: {
                title: 'VAT Balance Movement',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/VATBalanceMovement.html',
                },
            },
        })

        .state('app.erp.financeSettlementVerification', {
            url: '/erp/finance/SettlementVerification',
            data: {
                title: 'Settlement Verification',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/SettlementVerification.html',
                },
            },
        })

        .state('app.erp.financeVendorPayments', {
            url: '/erp/finance/VendorPayments',
            data: {
                title: 'Vendor Payments',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/VendorPayments.html',
                },
            },
        })

        .state('app.erp.financeVendorPaymentsForm', {
            url: '/erp/finance/VendorPaymentForm',
            data: {
                title: 'Form: Vendor Payments',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/VendorPaymentsForm.html',
                },
            },
        })

        .state('app.erp.financeWHReconciliation', {
            url: '/erp/finance/WHReconciliation',
            data: {
                title: 'W/H Reconciliation',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/WHReconciliation.html',
                },
            },
        })

        .state('app.erp.financeWHReconciliationForm', {
            url: '/erp/finance/WHReconciliationForm',
            data: {
                title: 'Form: WH Reconciliation',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/WHReconciliationForm.html',
                },
            },
        })

        .state('app.erp.financePaymentMethods', {
            url: '/erp/finance/PaymentMethods',
            data: {
                title: 'Payment Methods',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/PaymentMethods.html',
                },
            },
        })

        .state('app.erp.financePaymentMethodsForm', {
            url: '/erp/finance/PaymentMethodForm',
            data: {
                title: 'Form: Payment Method',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/PaymentMethodsForm.html',
                },
            },
        })

        .state('app.erp.financePaymentTerms', {
            url: '/erp/finance/PaymentTerms',
            data: {
                title: 'Payment Terms',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/PaymentTerms.html',
                },
            },
        })

        .state('app.erp.financePaymentTermsForm', {
            url: '/erp/finance/PaymentTermForm',
            data: {
                title: 'Form: Payment Term',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/PaymentTermForm.html',
                },
            },
        })

        .state('app.erp.financePaymentRequestVerify', {
            url: '/erp/finance/PaymentRequestVerify',
            data: {
                title: 'Verify: Payment Request',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/PaymentRequestVerification.html',
                },
            },
        })

        .state('app.erp.financeChargeCategories', {
            url: '/erp/finance/ChargeCategories',
            data: {
                title: 'Charge Categories',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/ChargeCategories.html',
                },
            },
        })

        .state('app.erp.financeChargeCategoriesForm', {
            url: '/erp/finance/ChargeCategoryForm',
            data: {
                title: 'Form: Charge Category',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/ChargeCategoriesForm.html',
                },
            },
        })

        .state('app.erp.financeDefaultCharges', {
            url: '/erp/finance/DefaultCharges',
            data: {
                title: 'Default Charges',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/DefaultCharges.html',
                },
            },
        })

        .state('app.erp.financeDefaultChargesForm', {
            url: '/erp/finance/DefaultChargeForm',
            data: {
                title: 'Form:Default Charge',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/DefaultChargeForm.html',
                },
            },
        })

        .state('app.erp.financeChequeTypes', {
            url: '/erp/finance/ChequeTypes',
            data: {
                title: 'Cheque Types',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/ChequeTypes.html',
                },
            },
        })

        .state('app.erp.financeChequeTypesForm', {
            url: '/erp/finance/ChequeTypeForm',
            data: {
                title: 'Form: Cheque Type',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/ChequeTypeForm.html',
                },
            },
        })

        .state('app.erp.financeAdvanceCategories', {
            url: '/erp/finance/AdvanceCategories',
            data: {
                title: 'Advance Categories',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/AdvanceCategories.html',
                },
            },
        })

        .state('app.erp.financeAdvanceCategoriesForm', {
            url: '/erp/finance/AdvanceCategoryForm',
            data: {
                title: 'Form: Advance Category',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/AdvanceCategoryForm.html',
                },
            },
        })

        .state('app.erp.financeIBSchemas', {
            url: '/erp/finance/IBSchemas',
            data: {
                title: 'I/B Schemas',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/IBSchemas.html',
                },
            },
        })

        .state('app.erp.financeIBSchemasForm', {
            url: '/erp/finance/IBSchemaForm',
            data: {
                title: 'Form: I/B Schema',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/IBSchemaForm.html',
                },
            },
        })

        .state('app.erp.financePenalties', {
            url: '/erp/finance/Penalties',
            data: {
                title: 'Penalties',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/Penalties.html',
                },
            },
        })

        .state('app.erp.financePenaltiesForm', {
            url: '/erp/finance/PenaltyForm',
            data: {
                title: 'Form: Penalty',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/PenaltyForm.html',
                },
            },
        })

        .state('app.erp.financeDownPayments', {
            url: '/erp/finance/DownPayments',
            data: {
                title: 'Down Payments',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/DownPayments.html',
                },
            },
        })

        .state('app.erp.financeDownPaymentsForm', {
            url: '/erp/finance/DownPaymentForm',
            data: {
                title: 'Form: Down Payment',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/DownPaymentForm.html',
                },
            },
        })

        .state('app.erp.financeReceivableListByAge', {
            url: '/erp/finance/ReceivableListByAge',
            data: {
                title: 'Receivable List By Age',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/ReceivableListByAge.html',
                },
            },
        })

        .state('app.erp.financeReceivableListByAgeView', {
            url: '/erp/finance/ReceivableListByAgeView',
            data: {
                title: 'View: Receivable List By Age',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/ReceivableListByAgeView.html',
                },
            },
        })

        .state('app.erp.financePayableListByAge', {
            url: '/erp/finance/PayableListByAge',
            data: {
                title: 'Payable List By Age',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/PayableListByAge.html',
                },
            },
        })

        .state('app.erp.financePayableListByAgeView', {
            url: '/erp/finance/PayableListByAgeView',
            data: {
                title: 'View: Payable List By Age',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/PayableListByAgeView.html',
                },
            },
        })

        .state('app.erp.financeLedgerPerAccount', {
            url: '/erp/finance/LedgerPerAccount',
            data: {
                title: 'Ledger Per Account',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/LedgerPerAccount.html',
                },
            },
        })

        .state('app.erp.financeLedgerPerAccountForm', {
            url: '/erp/finance/LedgerPerAccountForm',
            data: {
                title: 'Form: Ledger Per Account',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/LedgerPerAccountForm.html',
                },
            },
        })

        .state('app.erp.financeAdvanceRequestSelection', {
            url: '/erp/finance/AdvanceRequestSelection',
            data: {
                title: 'Advance Request Selection',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/AdvanceRequestSelection.html',
                },
            },
        })

        .state('app.erp.financeAdvanceRequestSettlement', {
            url: '/erp/finance/AdvanceRequestSettlement',
            data: {
                title: 'Advance Request Settlement',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/AdvanceRequestSettlement.html',
                },
            },
        })

        .state('app.erp.financeARListForReceiptSelection', {
            url: '/erp/finance/ARListForReceiptSelection',
            data: {
                title: 'AR List For Receipt Selection',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/ARListForReceiptSelection.html',
                },
            },
        })

        .state('app.erp.financeARReceiptSelection', {
            url: '/erp/finance/ARReceiptSelection',
            data: {
                title: 'AR Receipt Selection',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/ARReceiptSelection.html',
                },
            },
        })

        .state('app.erp.financeAdvanceSettlements', {
            url: '/erp/finance/AdvanceSettlements',
            data: {
                title: 'Advance Settlements',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/AdvanceSettlements.html',
                },
            },
        })

        .state('app.erp.financeClearingRecon', {
            url: '/erp/finance/ClearingRecon',
            data: {
                title: 'Clearing Recon',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/ClearingRecon.html',
                },
            },
        })

        .state('app.erp.financeClosingExecution', {
            url: '/erp/finance/ClosingExecution',
            data: {
                title: 'Closing Execution',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/ClosingExecution.html',
                },
            },
        })

        .state('app.erp.financeCollectInvoices', {
            url: '/erp/finance/CollectInvoices',
            data: {
                title: 'Collect Invoices',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/CollectInvoices.html',
                },
            },
        })

        ////
        .state('app.erp.financeCollectOrderSelection', {
            url: '/erp/finance/CollectOrderSelection',
            data: {
                title: 'Collect Order Selection',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/CollectOrderSelection.html',
                },
            },
        })

        .state('app.erp.financeCollectReconciliation', {
            url: '/erp/finance/CollectReconciliation',
            data: {
                title: 'Collect Reconciliation',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/CollectReconciliation.html',
                },
            },
        })

        .state('app.erp.financeCollectRequestAdjustment', {
            url: '/erp/finance/CollectRequestAdjustment',
            data: {
                title: 'Collect Request Adjustment',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/CollectRequestAdjustment.html',
                },
            },
        })

        .state('app.erp.financeCollectRequestFollowUpForm', {
            url: '/erp/finance/CollectRequestFollowUpForm',
            data: {
                title: 'Form: Collect Request Follow Up',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/CollectRequestFollowUpForm.html',
                },
            },
        })

        .state('app.erp.financeCollectRequestForm', {
            url: '/erp/finance/CollectRequestForm',
            data: {
                title: 'Form: Collect Request',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/CollectRequestForm.html',
                },
            },
        })

        .state('app.erp.financeCollectRequestSelection', {
            url: '/erp/finance/CollectRequestSelection',
            data: {
                title: 'Collect Request Selection',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/CollectRequestSelection.html',
                },
            },
        })

        .state('app.erp.financeDeferredRevenues', {
            url: '/erp/finance/DeferredRevenues',
            data: {
                title: 'Deferred Revenues',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/DeferredRevenues.html',
                },
            },
        })

        .state('app.erp.financeDisposeAP', {
            url: '/erp/finance/DisposeAP',
            data: {
                title: 'Collect Request Selection',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/DisposeAP.html',
                },
            },
        })

        .state('app.erp.financeFailCollectForm', {
            url: '/erp/finance/FailCollectForm',
            data: {
                title: 'Form: Fail Collect',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/FailCollectForm.html',
                },
            },
        })

        .state('app.erp.financeAdditionalTaskVerification', {
            url: '/erp/finance/AdditionalTaskVerification',
            data: {
                title: 'Verify: Additional Task',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/AdditionalTaskVerification.html',
                },
            },
        })

        .state('app.erp.financeDepositDisposal', {
            url: '/erp/finance/DepositDisposal',
            data: {
                title: 'Deposit Disposal',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/DepositDisposal.html',
                },
            },
        })

        .state('app.erp.financeFReportSettingForm', {
            url: '/erp/finance/FReportSettingForm',
            data: {
                title: 'Form: Report Settings',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/FReportSettingProfile.html',
                },
            },
        })

        .state('app.erp.financeFReportSettings', {
            url: '/erp/finance/FReportSettings',
            data: {
                title: 'Report Settings',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/FReportSettings.html',
                },
            },
        })

        .state('app.erp.financeUpdateClearDate', {
            url: '/erp/finance/UpdateClearDate',
            data: {
                title: 'Update Clear Date',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/UpdateClearDate.html',
                },
            },
        })

        .state('app.erp.financeWHTaxNumberAssignment', {
            url: '/erp/finance/WHTaxNumberAssignment',
            data: {
                title: 'WH Tax Number Assignment',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/WHTaxNumberAssignment.html',
                },
            },
        })

        .state('app.erp.financeReceivedChequeForm', {
            url: '/erp/finance/ReceivedChequeForm',
            data: {
                title: 'Forrm: Received Cheque',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/ReceivedChequeForm.html',
                },
            },
        })

        .state('app.erp.financeReceivedItemList', {
            url: '/erp/finance/ReceivedItemList',
            data: {
                title: 'Received Item List',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/ReceivedItemList.html',
                },
            },
        })

        .state('app.erp.financeRecurringBillForm', {
            url: '/erp/finance/RecurringBillForm',
            data: {
                title: 'Form: Recurring Bill',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/RecurringBillForm.html',
                },
            },
        })

        .state('app.erp.financeRecurringInvoiceForm', {
            url: '/erp/finance/RecurringInvoiceForm',
            data: {
                title: 'Form: Recurring Invoice',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/RecurringInvoiceForm.html',
                },
            },
        })

        // 

        .state('app.erp.financePickedClearingRequest', {
            url: '/erp/finance/PickedClearingRequest',
            data: {
                title: 'Picked Clearing Request',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/PickedClearingRequest.html',
                },
            },
        })

        .state('app.erp.financePurchaseInvoiceForm', {
            url: '/erp/finance/PurchaseInvoiceForm',
            data: {
                title: 'Form: Purchase Invoice',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/PurchaseInvoiceForm.html',
                },
            },
        })

        .state('app.erp.financePurchaseInvoiceSelection', {
            url: '/erp/finance/PurchaseInvoiceSelection',
            data: {
                title: 'Purchase Invoice Selection',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/PurchaseInvoiceSelection.html',
                },
            },
        })

        .state('app.erp.financePurchasePriceSelection', {
            url: '/erp/finance/PurchasePriceSelection',
            data: {
                title: 'Purchase Price Selection',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/PurchasePriceSelection.html',
                },
            },
        })

        .state('app.erp.financeReceiptForm', {
            url: '/erp/finance/ReceiptForm',
            data: {
                title: 'Form: Receipt',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/ReceiptForm.html',
                },
            },
        })

        .state('app.erp.financePaymentForm', {
            url: '/erp/finance/PaymentForm',
            data: {
                title: 'Form: Payment',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/PaymentForm.html',
                },
            },
        })

        .state('app.erp.financeIBPayables', {
            url: '/erp/finance/IBPayables',
            data: {
                title: 'IB Payables',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/IBPayables.html',
                },
            },
        })

        .state('app.erp.financeIBReceivables', {
            url: '/erp/finance/IBReceivables',
            data: {
                title: 'IB Receivables',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/IBReceivables.html',
                },
            },
        })

        /////

        .state('app.erp.financeInterbranchPayableForm', {
            url: '/erp/finance/InterbranchPayableForm',
            data: {
                title: 'Form: Interbranch Payable',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/InterbranchPayableForm.html',
                },
            },
        })

        .state('app.erp.financeInterbranchReceivableForm', {
            url: '/erp/finance/InterbranchReceivableForm',
            data: {
                title: 'Form: Interbranch Receivable',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/InterbranchReceivableForm.html',
                },
            },
        })

        .state('app.erp.financeInvoiceList', {
            url: '/erp/finance/InvoiceList',
            data: {
                title: 'Invoice List',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/InvoiceList.html',
                },
            },
        })

        .state('app.erp.financeInvoiceReceiptForm', {
            url: '/erp/finance/InvoiceReceiptForm',
            data: {
                title: 'Form: Invoice Receipt',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/InvoiceReceiptForm.html',
                },
            },
        })

        .state('app.erp.financeInvoiceReceiptItemList', {
            url: '/erp/finance/InvoiceReceiptItemList',
            data: {
                title: 'Invoice Receipt Item List',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/InvoiceReceiptItemList.html',
                },
            },
        })

        .state('app.erp.financeInvoiceReqRecon', {
            url: '/erp/finance/InvoiceReqRecon',
            data: {
                title: 'Invoice Request Recon',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/InvoiceReqRecon.html',
                },
            },
        })

        //

        .state('app.erp.financeInvoiceRequestsSelection', {
            url: '/erp/finance/InvoiceRequestsSelection',
            data: {
                title: 'Invoice Requests Selection',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/InvoiceRequestsSelection.html',
                },
            },
        })

        .state('app.erp.financeIssuedChequeForm', {
            url: '/erp/finance/IssuedChequeForm',
            data: {
                title: 'Form: Issued Cheque',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/IssuedChequeForm.html',
                },
            },
        })

        .state('app.erp.financeIssuedCheques', {
            url: '/erp/finance/IssuedCheques',
            data: {
                title: 'Issued Cheques',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/IssuedCheques.html',
                },
            },
        })

        // 

        .state('app.erp.financeJournalProfile', {
            url: '/erp/finance/JournalProfile',
            data: {
                title: 'Journal Profile',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/JournalProfile.html',
                },
            },
        })

        .state('app.erp.financeMutationRecon', {
            url: '/erp/finance/MutationRecon',
            data: {
                title: 'Mutation Recon',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/MutationRecon.html',
                },
            },
        })

        .state('app.erp.financeOrderVerification', {
            url: '/erp/finance/OrderVerification',
            data: {
                title: 'Order Verification',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/OrderVerification.html',
                },
            },
        })

        .state('app.erp.financeCustomerSelection', {
            url: '/erp/finance/CustomerSelection',
            data: {
                title: 'Customer Selection',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/CustomerSelection.html',
                },
            },
        })

        .state('app.erp.financeChargeCategoryProfile', {
            url: '/erp/finance/ChargeCategoryProfile',
            data: {
                title: 'Profile: Charge Category',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/finance.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/ChargeCategoryProfile.html',
                },
            },
        })

        ;
});

'use strict';

angular.module('app.erp').config(function ($stateProvider) {
    $stateProvider
        .state('app.erp.inventory', {
            url: '/erp/inventory',
            data: {
                title: 'Inventory',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/_WebPage.html',
                },
            },
        })

        .state('app.erp.inventoryAssemblyOrdersForm', {
            url: '/erp/inventory/AssemblyOrderForm',
            data: {
                title: 'Form: Assembly Order',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/AssemblyOrdersForm.html',
                },
            },
        })

        .state('app.erp.inventoryAssemblyOrders', {
            url: '/erp/inventory/AssemblyOrders',
            data: {
                title: 'Assembly Orders',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/AssemblyOrders.html',
                },
            },
        })

        .state('app.erp.inventoryAssetDisposalsForm', {
            url: '/erp/inventory/AssetDisposalForm',
            data: {
                title: 'Form: Asset Disposals',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/AssetDisposalsForm.html',
                },
            },
        })

        .state('app.erp.inventoryAssetDisposals', {
            url: '/erp/inventory/AssetDisposals',
            data: {
                title: 'Asset Disposals',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/AssetDisposals.html',
                },
            },
        })

        .state('app.erp.inventoryAssetsForm', {
            url: '/erp/inventory/AssetForm',
            data: {
                title: 'Form: Asset',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/AssetForm.html',
                },
            },
        })

        .state('app.erp.inventoryAssets', {
            url: '/erp/inventory/Assets',
            data: {
                title: 'Assets',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/Assets.html',
                },
            },
        })

        .state('app.erp.inventoryBranchAllocation', {
            url: '/erp/inventory/BranchAllocation',
            data: {
                title: 'Branch Allocation',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/BranchAllocation.html',
                },
            },
        })

        .state('app.erp.inventoryBrandsForm', {
            url: '/erp/inventory/BrandForm?code',
            data: {
                title: 'Form: Brand',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/BrandForm.html',
                },
            },
        })

        .state('app.erp.inventoryBrands', {
            url: '/erp/inventory/Brands',
            data: {
                title: 'Brands',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/Brands.html',
                },
            },
        })

        .state('app.erp.inventoryCategoriesX', {
            url: '/erp/inventory/CategoriesX',
            data: {
                title: 'Categories - X',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/CategoriesX.html',
                },
            },
        })

        .state('app.erp.inventoryCategories', {
            url: '/erp/inventory/Categories',
            data: {
                title: 'Categories',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/Categories.html',
                },
            },
        })

        .state('app.erp.inventoryCategoriesForm', {
            url: '/erp/inventory/CategoryForm?code',
            data: {
                title: 'Form: Category',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/CategoryForm.html',
                },
            },
        })

        .state('app.erp.inventoryComparisonPanel', {
            url: '/erp/inventory/ComparisonPanel',
            data: {
                title: 'Comparison Panel',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/ComparisonPanel.html',
                },
            },
        })

        .state('app.erp.inventoryContractPosition', {
            url: '/erp/inventory/ContractPosition',
            data: {
                title: 'Contract Position',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/ContractPosition.html',
                },
            },
        })

        .state('app.erp.inventoryCostGroupsForm', {
            url: '/erp/inventory/CostGroupForm?code',
            data: {
                title: 'Form: Cost Group',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/CostGroupForm.html',
                },
            },
        })

        .state('app.erp.inventoryCostGroups', {
            url: '/erp/inventory/CostGroups',
            data: {
                title: 'Cost Groups',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/CostGroups.html',
                },
            },
        })

        .state('app.erp.inventoryDisassemblyOrders', {
            url: '/erp/inventory/DisassemblyOrders',
            data: {
                title: 'Disassembly Orders',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/DisassemblyOrders.html',
                },
            },
        })

        .state('app.erp.inventoryDisassemblyOrdersForm', {
            url: '/erp/inventory/DisassemblyOrderForm',
            data: {
                title: 'Form: Disassembly Orders',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/DisassemblyOrdersForm.html',
                },
            },
        })

        .state('app.erp.inventoryDisposalMethods', {
            url: '/erp/inventory/DisposalMethods',
            data: {
                title: 'Disposal Methods',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/DisposalMethods.html',
                },
            },
        })

        .state('app.erp.inventoryDisposalMethodsForm', {
            url: '/erp/inventory/DisposalMethodForm?code',
            data: {
                title: 'Form: Disposal Methods',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/DisposalMethodsForm.html',
                },
            },
        })

        .state('app.erp.inventoryDropshipPositions', {
            url: '/erp/inventory/DropshipPositions',
            data: {
                title: 'Dropship Positions',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/DropshipPositions.html',
                },
            },
        })

        .state('app.erp.inventoryInventoryAdjustments', {
            url: '/erp/inventory/InventoryAdjustments',
            data: {
                title: 'Inventory Adjustments',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/InventoryAdjustments.html',
                },
            },
        })

        .state('app.erp.inventoryInventoryAdjustmentsForm', {
            url: '/erp/inventory/InventoryAdjustmentForm',
            data: {
                title: 'Form: Inventory Adjustments',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/InventoryAdjustmentsForm.html',
                },
            },
        })

        .state('app.erp.inventoryInventoryCounts', {
            url: '/erp/inventory/InventoryCounts',
            data: {
                title: 'Inventory Counts',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/InventoryCounts.html',
                },
            },
        })

        .state('app.erp.inventoryInventoryCountsForm', {
            url: '/erp/inventory/InventoryCountForm',
            data: {
                title: 'Form: Inventory Counts',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/InventoryCountsForm.html',
                },
            },
        })

        .state('app.erp.inventoryInventoryIsolations', {
            url: '/erp/inventory/InventoryIsolations',
            data: {
                title: 'Inventory Isolations',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/InventoryIsolations.html',
                },
            },
        })

        .state('app.erp.inventoryInventoryIsolationsForm', {
            url: '/erp/inventory/InventoryIsolationForm',
            data: {
                title: 'Form: Inventory Isolations',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/InventoryIsolationsForm.html',
                },
            },
        })

        .state('app.erp.inventoryInventoryItemsForm', {
            url: '/erp/inventory/InventoryItemForm?code',
            data: {
                title: 'Form: Inventory Item',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/InventoryItemForm.html',
                },
            },
        })

        .state('app.erp.inventoryInventoryItems', {
            url: '/erp/inventory/InventoryItems',
            data: {
                title: 'Inventory Items',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/InventoryItems.html',
                },
            },
        })

        .state('app.erp.inventoryInventoryLeaseForm', {
            url: '/erp/inventory/InventoryLeaseForm',
            data: {
                title: 'Form: Inventory Lease',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/InventoryLeaseForm.html',
                },
            },
        })

        .state('app.erp.inventoryInventoryLease', {
            url: '/erp/inventory/InventoryLease',
            data: {
                title: 'Inventory Lease',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/InventoryLease.html',
                },
            },
        })

        .state('app.erp.inventoryInventoryRequests', {
            url: '/erp/inventory/InventoryRequests',
            data: {
                title: 'Inventory Requests',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/InventoryRequests.html',
                },
            },
        })

        .state('app.erp.inventoryInventoryRequestsForm', {
            url: '/erp/inventory/InventoryRequestForm',
            data: {
                title: 'Form: Inventory Requests',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/InventoryRequestsForm.html',
                },
            },
        })

        .state('app.erp.inventoryIssueForm', {
            url: '/erp/inventory/IssueForm',
            data: {
                title: 'Form: Issue',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/IssueForm.html',
                },
            },
        })

        .state('app.erp.inventoryItemCosts', {
            url: '/erp/inventory/ItemCosts',
            data: {
                title: 'Item Costs',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/ItemCosts.html',
                },
            },
        })

        .state('app.erp.inventoryItemCostsForm', {
            url: '/erp/inventory/ItemCostForm',
            data: {
                title: 'Form: Item Costs',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/ItemCostsForm.html',
                },
            },
        })

        .state('app.erp.inventoryManufacturersForm', {
            url: '/erp/inventory/ManufacturerForm?code',
            data: {
                title: 'Form: Manufacture',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/ManufacturerForm.html',
                },
            },
        })

        .state('app.erp.inventoryManufacturers', {
            url: '/erp/inventory/Manufacturers',
            data: {
                title: 'Manufacturers',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/Manufacturers.html',
                },
            },
        })

        .state('app.erp.inventoryMinimumStocks', {
            url: '/erp/inventory/MinimumStocks',
            data: {
                title: 'Minimum Stocks',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/MinimumStocks.html',
                },
            },
        })

        .state('app.erp.inventoryOutgoingOrders', {
            url: '/erp/inventory/OutgoingOrders',
            data: {
                title: 'Outgoing Orders',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/OutgoingOrders.html',
                },
            },
        })

        .state('app.erp.inventoryOutgoingOrdersForm', {
            url: '/erp/inventory/OutgoingOrderForm',
            data: {
                title: 'Form: Outgoing Order',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/OutgoingOrdersForm.html',
                },
            },
        })

        .state('app.erp.inventoryProfilesForm', {
            url: '/erp/inventory/ProfileForm?code',
            data: {
                title: 'Form: Profile',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/ProfileForm.html',
                },
            },
        })

        .state('app.erp.inventoryProfiles', {
            url: '/erp/inventory/Profiles',
            data: {
                title: 'Profiles',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/Profiles.html',
                },
            },
        })

        .state('app.erp.inventoryReplenishment', {
            url: '/erp/inventory/Replenishment',
            data: {
                title: 'Replenishment',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/Replenishment.html',
                },
            },
        })

        .state('app.erp.inventoryReservePositions', {
            url: '/erp/inventory/ReservePositions',
            data: {
                title: 'Reserve Positions',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/ReservePositions.html',
                },
            },
        })

        .state('app.erp.inventoryStockPositions', {
            url: '/erp/inventory/StockPositions',
            data: {
                title: 'Stock Positions',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/StockPositions.html',
                },
            },
        })

        .state('app.erp.inventoryTaxPositions', {
            url: '/erp/inventory/TaxPositions',
            data: {
                title: 'Tax Positions',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/TaxPositions.html',
                },
            },
        })

        .state('app.erp.inventoryTaxReplenishment', {
            url: '/erp/inventory/TaxReplenishment',
            data: {
                title: 'Tax Replenishment',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/TaxReplenishment.html',
                },
            },
        })

        .state('app.erp.inventoryTransferForm', {
            url: '/erp/inventory/TransferForm',
            data: {
                title: 'Form: Transfer',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/TransferForm.html',
                },
            },
        })

        .state('app.erp.inventoryTransferRequests', {
            url: '/erp/inventory/TransferRequests',
            data: {
                title: 'Transfer Requests',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/TransferRequests.html',
                },
            },
        })

        .state('app.erp.inventoryTransferRequestsForm', {
            url: '/erp/inventory/TransferRequestForm',
            data: {
                title: 'Form: Transfer Requests',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/TransferRequestsForm.html',
                },
            },
        })

        .state('app.erp.inventoryUoms', {
            url: '/erp/inventory/Uoms',
            data: {
                title: 'Uoms',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/Uoms.html',
                },
            },
        })

        .state('app.erp.inventoryUomsForm', {
            url: '/erp/inventory/UomForm?code',
            data: {
                title: 'Form: Uom',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/UomForm.html',
                },
            },
        })

        .state('app.erp.inventoryWarehousesForm', {
            url: '/erp/inventory/WarehouseForm?code',
            data: {
                title: 'Form: Warehouse',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/WarehouseForm.html',
                },
            },
        })

        .state('app.erp.inventoryWarehouses', {
            url: '/erp/inventory/Warehouses',
            data: {
                title: 'Warehouses',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/Warehouses.html',
                },
            },
        })

        .state('app.erp.inventoryWarehouseSelection', {
            url: '/erp/inventory/WarehouseSelection',
            data: {
                title: 'Warehouse Selection',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/WarehouseSelection.html',
                },
            },
        })

        .state('app.erp.inventoryIsolationVerification', {
            url: '/erp/inventory/IsolationVerification',
            data: {
                title: 'Isolation Verification',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/IsolationVerification.html',
                },
            },
        })

        .state('app.erp.inventoryInventoryReceiptVerification', {
            url: '/erp/inventory/InventoryReceiptVerification',
            data: {
                title: 'Inventory Receipt Verification',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/InventoryReceiptVerification.html',
                },
            },
        })

        .state('app.erp.inventoryInventoryIssueVerification', {
            url: '/erp/inventory/InventoryIssueVerification',
            data: {
                title: 'Inventory Issue Verification',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/InventoryIssueVerification.html',
                },
            },
        })

        .state('app.erp.inventoryDeliveredClosedDoSelection', {
            url: '/erp/inventory/DeliveredClosedDoSelection',
            data: {
                title: 'Delivered Closed DO Selection',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/DeliveredClosedDOSelection.html',
                },
            },
        })

        .state('app.erp.inventoryCountVerification', {
            url: '/erp/inventory/CountVerification',
            data: {
                title: 'Count Verification',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/CountVerification.html',
                },
            },
        })

        .state('app.erp.inventoryAssetTypes', {
            url: '/erp/inventory/AssetTypes',
            data: {
                title: 'Asset Types',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/AssetTypes.html',
                },
            },
        })

        .state('app.erp.inventoryTransferCloseForm', {
            url: '/erp/inventory/TransferCloseForm',
            data: {
                title: 'Form: Transfer Close',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/TransferCloseForm.html',
                },
            },
        })

        .state('app.erp.inventoryIsolationForm', {
            url: '/erp/inventory/IsolationForm',
            data: {
                title: 'Form: Isolation',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/IsolationForm.html',
                },
            },
        })

        .state('app.erp.inventoryInventoryLeaseReturn', {
            url: '/erp/inventory/InventoryLeaseReturn',
            data: {
                title: 'Inventory Lease Return',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/InventoryLeaseReturn.html',
                },
            },
        })

        .state('app.erp.inventoryInventoryLeaseExtension', {
            url: '/erp/inventory/InventoryLeaseExtension',
            data: {
                title: 'Inventory Lease Extension',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/InventoryLeaseExtension.html',
                },
            },
        })

        .state('app.erp.inventoryDeliveryRequestForm', {
            url: '/erp/inventory/DeliveryRequestForm',
            data: {
                title: 'Form: Delivery Request',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/DeliveryRequestForm.html',
                },
            },
        })

        .state('app.erp.inventoryCountSheet', {
            url: '/erp/inventory/CountSheet',
            data: {
                title: 'Count Sheet',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/CountSheet.html',
                },
            },
        })

        .state('app.erp.inventoryAssetTypeForm', {
            url: '/erp/inventory/AssetTypeForm',
            data: {
                title: 'Form: Asset Type',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/AssetTypeForm.html',
                },
            },
        })

        .state('app.erp.inventoryAssetDisposalMethodForm', {
            url: '/erp/inventory/AssetDisposalMethodForm',
            data: {
                title: 'Form: Asset Disposal Method',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/AssetDisposalMethodForm.html',
                },
            },
        })

        .state('app.erp.inventoryCountForm', {
            url: '/erp/inventory/CountForm',
            data: {
                title: 'Form: Count',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/CountForm.html',
                },
            },
        })

        .state('app.erp.inventoryAssembleForm', {
            url: '/erp/inventory/AssembleForm',
            data: {
                title: 'Form: Assemble',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/AssembleForm.html',
                },
            },
        })

        .state('app.erp.inventoryAdjustmentForm', {
            url: '/erp/inventory/AdjustmentForm',
            data: {
                title: 'Form: Adjustment',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/inventory.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/AdjustmentForm.html',
                },
            },
        })

        ;
});

'use strict';

angular.module('app.erp').config(function ($stateProvider) {
    $stateProvider
        .state('app.erp.masterData', {
            url: '/erp/masterData',
            data: {
                title: 'Master Data',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/masterData/_WebPage.html',
                },
            },
        })

        .state('app.erp.masterData_Settings', {
            url: '/erp/masterData/Settings',
            data: {
                title: 'Settings',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/masterData/Settings.html',
                },
            },
        })
        .state('app.erp.masterData_SuperAdminSystem', {
            url: '/erp/masterData/SuperAdminSystem',
            data: {
                title: 'Super Admin System',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/masterData/SuperAdminSystem.html',
                },
            },
        })

        .state('app.erp.masterDataChartOfAccountsForm', {
            url: '/erp/masterData/ChartOfAccountForm',
            data: {
                title: 'Form: Chart of Account',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/ChartOfAccountForm.html',
                },
            },
        })

        .state('app.erp.masterDataChartOfAccounts', {
            url: '/erp/masterData/ChartOfAccounts',
            data: {
                title: 'CoA: Chart of Accounts',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/ChartOfAccounts.html',
                },
            },
        })

        .state('app.erp.masterDataChartOfAccountsX', {
            url: '/erp/masterData/ChartOfAccountsX',
            data: {
                title: 'CoA: Chart of Accounts - X',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/ChartOfAccountsX.html',
                },
            },
        })

        .state('app.erp.masterDataWarehousesForm', {
            url: '/erp/masterData/WarehouseForm?code',
            data: {
                title: 'Form: Warehouse',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/WarehouseForm.html',
                },
            },
        })

        .state('app.erp.masterDataWarehouses', {
            url: '/erp/masterData/Warehouses',
            data: {
                title: 'Warehouses',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/Warehouses.html',
                },
            },
        })

        .state('app.erp.masterDataDepartments', {
            url: '/erp/masterData/Departments',
            data: {
                title: 'Department',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/hr/Department.html',
                },
            },
        })

        .state('app.erp.masterData_UserSystem', {
            url: '/erp/masterData/UserSystem',
            data: {
                title: 'User System',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/masterData/UserSystem.html',
                },
            },
        })
        .state('app.erp.masterData_UserSystemForm', {
            url: '/erp/masterData/UserSystemForm',
            data: {
                title: 'Form: User System',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/masterData/UserSystemForm.html',
                },
            },
        })
        .state('app.erp.masterData_Role', {
            url: '/erp/masterData/Role',
            data: {
                title: 'Role',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/masterData/Role.html',
                },
            },
        })
        .state('app.erp.masterData_RoleForm', {
            url: '/erp/masterData/RoleForm',
            data: {
                title: 'Form: Role',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/masterData/RoleForm.html',
                },
            },
        })
        .state('app.erp.masterData_MenuModule', {
            url: '/erp/masterData/MenuModule',
            data: {
                title: 'Menu / Module',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/masterData/MenuModule.html',
                },
            },
        })
        .state('app.erp.masterData_CalenderSystem', {
            url: '/erp/masterData/CalenderSystem',
            data: {
                title: 'Calender System',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/masterData/CalenderSystem.html',
                },
            },
        })
        .state('app.erp.masterData_MasterHoliday', {
            url: '/erp/masterData/MasterHoliday',
            data: {
                title: 'Master Holiday',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/masterData/MasterHoliday.html',
                },
            },
        })
        .state('app.erp.masterData_Tax', {
            url: '/erp/masterData/Tax',
            data: {
                title: 'Tax',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/masterData/Tax.html',
                },
            },
        })
        .state('app.erp.masterData_TOPGroup', {
            url: '/erp/masterData/TOPGroup',
            data: {
                title: 'TOP Group',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/masterData/TOPGroup.html',
                },
            },
        })
        .state('app.erp.masterData_Branch', {
            url: '/erp/masterData/Branch',
            data: {
                title: 'Branch',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/masterData/Branch.html',
                },
            },
        })
        .state('app.erp.masterData_SalesZone', {
            url: '/erp/masterData/SalesZone',
            data: {
                title: 'Sales Zone',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/masterData/SalesZone.html',
                },
            },
        })
        .state('app.erp.masterData_SalesZoneForm', {
            url: '/erp/masterData/SalesZoneForm',
            data: {
                title: 'Form: Sales Zone',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/masterData/SalesZoneForm.html',
                },
            },
        })
        .state('app.erp.masterData_DeliveryZone', {
            url: '/erp/masterData/DeliveryZone',
            data: {
                title: 'Delivery Zone',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/masterData/DeliveryZone.html',
                },
            },
        })
        .state('app.erp.masterData_DeliveryZoneForm', {
            url: '/erp/masterData/DeliveryZoneForm',
            data: {
                title: 'Form: Delivery Zone',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/masterData/DeliveryZoneForm.html',
                },
            },
        })
        .state('app.erp.masterDataCollectZone', {
            url: '/erp/masterData/CollectZone',
            data: {
                title: 'Collect Zone',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/masterData/CollectZone.html',
                },
            },
        })
        .state('app.erp.masterDataCollectZoneForm', {
            url: '/erp/masterData/CollectZoneForm',
            data: {
                title: 'Form: Collect Zone',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/masterData/CollectZoneForm.html',
                },
            },
        })
        .state('app.erp.masterData_ContactPersonPicAndPosition', {
            url: '/erp/masterData/ContactPersonPicAndPosition',
            data: {
                title: 'Contact person pic dan position',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/masterData/ContactPersonPicAndPosition.html',
                },
            },
        })
        .state('app.erp.masterData_CustomerGrade', {
            url: '/erp/masterData/CustomerGrade',
            data: {
                title: 'Customer Grade',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/masterData/CustomerGrade.html',
                },
            },
        })
        .state('app.erp.masterData_CustomerGradeForm', {
            url: '/erp/masterData/masterData_CustomerGradeForm',
            data: {
                title: 'Form: Customer Grade',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/masterData/CustomerGradeForm.html',
                },
            },
        })
        .state('app.erp.masterData_UniverseBrand', {
            url: '/erp/masterData/UniverseBrand',
            data: {
                title: 'Universe Brand',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/masterData/UniverseBrand.html',
                },
            },
        })
        .state('app.erp.masterData_OwnershipProject', {
            url: '/erp/masterData/OwnershipProject',
            data: {
                title: 'Ownership Project',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/masterData/OwnershipProject.html',
                },
            },
        })
        .state('app.erp.masterData_OwnershipProjectForm', {
            url: '/erp/masterData/OwnershipProjectForm',
            data: {
                title: 'Form: Ownership Project',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/masterData/OwnershipProjectForm.html',
                },
            },
        })

        .state('app.erp.masterDataProfilesForm', {
            url: '/erp/masterData/ProfileForm?code',
            data: {
                title: 'Form: Profile',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/ProfileForm.html',
                },
            },
        })

        .state('app.erp.masterDataProfiles', {
            url: '/erp/masterData/Profiles',
            data: {
                title: 'Profiles',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/Profiles.html',
                },
            },
        })

        .state('app.erp.masterDataYearCalendar', {
            url: '/erp/masterData/YearCalendar',
            data: {
                title: 'Year Calendar',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/hr/YearCalendar.html',
                },
            },
        })

        .state('app.erp.masterDataPosition', {
            url: '/erp/masterData/Position',
            data: {
                title: 'Position',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/hr/Position.html',
                },
            },
        })
        .state('app.erp.masterDataEmployee', {
            url: '/erp/masterData/Employee',
            data: {
                title: 'Employee',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/hr/HREmployee.html',
                },
            },
        })

        .state('app.erp.masterDataInventoryItemsForm', {
            url: '/erp/masterData/InventoryItemForm?code',
            data: {
                title: 'Form: Inventory Item',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/InventoryItemForm.html',
                },
            },
        })

        .state('app.erp.masterDataInventoryItems', {
            url: '/erp/masterData/InventoryItems',
            data: {
                title: 'Inventory Items',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/InventoryItems.html',
                },
            },
        })

        .state('app.erp.masterDataUoms', {
            url: '/erp/masterData/Uoms',
            data: {
                title: 'Uoms',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/Uoms.html',
                },
            },
        })

        .state('app.erp.masterDataUomsForm', {
            url: '/erp/masterData/UomForm?code',
            data: {
                title: 'Form: Uom',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/UomForm.html',
                },
            },
        })

        .state('app.erp.masterDataBrandsForm', {
            url: '/erp/masterData/BrandForm?code',
            data: {
                title: 'Form: Brand',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/BrandForm.html',
                },
            },
        })

        .state('app.erp.masterDataBrands', {
            url: '/erp/masterData/Brands',
            data: {
                title: 'Brands',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/Brands.html',
                },
            },
        })

        .state('app.erp.masterDataDickyBaru', {
            url: '/erp/masterData/DickyBaru?code',
            data: {
                title: 'Form: Dicky Baru',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/masterData/DickyBaru.html',
                },
            },
        })

        .state('app.erp.masterDataCategoriesX', {
            url: '/erp/masterData/CategoriesX',
            data: {
                title: 'Categories - X',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/CategoriesX.html',
                },
            },
        })

        .state('app.erp.masterDataCategories', {
            url: '/erp/masterData/Categories',
            data: {
                title: 'Categories',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/Categories.html',
                },
            },
        })

        .state('app.erp.masterDataCategoriesForm', {
            url: '/erp/masterData/CategoryForm?code',
            data: {
                title: 'Form: Category',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/inventory/CategoryForm.html',
                },
            },
        })

        .state('app.erp.masterDataPaymentTerms', {
            url: '/erp/masterData/PaymentTerms',
            data: {
                title: 'Payment Terms',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/PaymentTerms.html',
                },
            },
        })

        .state('app.erp.masterDataPaymentTermsForm', {
            url: '/erp/masterData/PaymentTermForm',
            data: {
                title: 'Form: Payment Term',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/PaymentTermForm.html',
                },
            },
        })

        .state('app.erp.masterDataTaxes', {
            url: '/erp/masterData/Taxes',
            data: {
                title: 'Taxes',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/Taxes.html',
                },
            },
        })

        .state('app.erp.masterDataTaxesForm', {
            url: '/erp/masterData/TaxForm',
            data: {
                title: 'Form: Tax',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/finance/TaxesForm.html',
                },
            },
        })

        .state('app.erp.masterDataPromoForm', {
            url: '/erp/masterData/PromoForm',
            data: {
                title: 'Form: Promo',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/masterData.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/masterData/a1.html',
                },
            },
        })

        ;
});

'use strict';

angular.module('app.erp').config(function ($stateProvider) {
    $stateProvider
        .state('app.erp.purchase', {
            url: '/erp/purchase',
            data: {
                title: 'Purchase',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/purchase.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/purchase/_WebPage.html',
                },
            },
        })

        .state('app.erp.purchaseApprovalWorkFlowForm', {
            url: '/erp/purchase/ApprovalWorkFlowForm',
            data: {
                title: 'Form: Approval WorkFlow',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/purchase.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/purchase/ApprovalWorkFlowForm.html',
                },
            },
        })

        .state('app.erp.purchaseApprovalWorkflows', {
            url: '/erp/purchase/ApprovalWorkflows',
            data: {
                title: 'Approval Workflows',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/purchase.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/purchase/ApprovalWorkflows.html',
                },
            },
        })

        .state('app.erp.purchaseInterbranchOrders', {
            url: '/erp/purchase/InterbranchOrders',
            data: {
                title: 'Interbranch Orders',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/purchase.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/purchase/InterbranchOrdersPur.html',
                },
            },
        })

        .state('app.erp.purchaseInterbranchOrdersForm', {
            url: '/erp/purchase/InterbranchOrderForm',
            data: {
                title: 'Form: Interbranch Orders',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/purchase.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/purchase/InterbranchOrdersPurForm.html',
                },
            },
        })

        .state('app.erp.purchaseOutstandingOrders', {
            url: '/erp/purchase/OutstandingOrders',
            data: {
                title: 'Outstanding Orders',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/purchase.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/purchase/OutstandingOrdersPur.html',
                },
            },
        })

        .state('app.erp.purchaseOutstandingRequests', {
            url: '/erp/purchase/OutstandingRequests',
            data: {
                title: 'Outstanding Requests',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/purchase.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/purchase/OutstandingRequests.html',
                },
            },
        })

        .state('app.erp.purchasePendingGoods', {
            url: '/erp/purchase/PendingGoods',
            data: {
                title: 'Pending Goods',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/purchase.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/purchase/PendingGoods.html',
                },
            },
        })

        .state('app.erp.purchasePRPORecon', {
            url: '/erp/purchase/PRPORecon',
            data: {
                title: 'PR/PO Recon.',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/purchase.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/purchase/PRPORecon.html',
                },
            },
        })

        .state('app.erp.purchasePurchaseContractsForm', {
            url: '/erp/purchase/PurchaseContractForm',
            data: {
                title: 'Form: Purchase Contract',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/purchase.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/purchase/PurchaseContractForm.html',
                },
            },
        })

        .state('app.erp.purchasePurchaseContracts', {
            url: '/erp/purchase/PurchaseContracts',
            data: {
                title: 'Purchase Contracts',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/purchase.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/purchase/PurchaseContracts.html',
                },
            },
        })

        .state('app.erp.purchasePurchaseDiscounts', {
            url: '/erp/purchase/PurchaseDiscounts',
            data: {
                title: 'Purchase Discounts',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/purchase.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/purchase/PurchaseDiscounts.html',
                },
            },
        })

        .state('app.erp.purchasePurchaseDiscountsForm', {
            url: '/erp/purchase/PurchaseDiscountForm',
            data: {
                title: 'Form: Purchase Discounts',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/purchase.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/purchase/PurchaseDiscountsForm.html',
                },
            },
        })

        .state('app.erp.purchasePurchaseOrdersForm', {
            url: '/erp/purchase/PurchaseOrderForm',
            data: {
                title: 'Form: Purchase Order',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/purchase.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/purchase/PurchaseOrderForm.html',
                },
            },
        })

        .state('app.erp.purchasePurchaseOrders', {
            url: '/erp/purchase/PurchaseOrders',
            data: {
                title: 'Purchase Orders',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/purchase.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/purchase/PurchaseOrders.html',
                },
            },
        })

        .state('app.erp.purchasePurchasePrices', {
            url: '/erp/purchase/PurchasePrices',
            data: {
                title: 'Purchase Prices',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/purchase.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/purchase/PurchasePrices.html',
                },
            },
        })

        .state('app.erp.purchasePurchaseReceiptsForm', {
            url: '/erp/purchase/PurchaseReceiptForm',
            data: {
                title: 'Form: Purchase Receipt',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/purchase.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/purchase/PurchaseReceiptForm.html',
                },
            },
        })

        .state('app.erp.purchasePurchaseReceipts', {
            url: '/erp/purchase/PurchaseReceipts',
            data: {
                title: 'Purchase Receipts',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/purchase.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/purchase/PurchaseReceipts.html',
                },
            },
        })

        .state('app.erp.purchasePurchaseRequestsForm', {
            url: '/erp/purchase/PurchaseRequestForm',
            data: {
                title: 'Form: Purchase Request',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/purchase.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/purchase/PurchaseRequestForm.html',
                },
            },
        })

        .state('app.erp.purchasePurchaseRequests', {
            url: '/erp/purchase/PurchaseRequests',
            data: {
                title: 'Purchase Requests',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/purchase.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/purchase/PurchaseRequests.html',
                },
            },
        })

        .state('app.erp.purchasePurchaseReturnsForm', {
            url: '/erp/purchase/PurchaseReturnForm',
            data: {
                title: 'Form: Purchase Return',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/purchase.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/purchase/PurchaseReturnForm.html',
                },
            },
        })

        .state('app.erp.purchasePurchaseReturns', {
            url: '/erp/purchase/PurchaseReturns',
            data: {
                title: 'Purchase Returns',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/purchase.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/purchase/PurchaseReturns.html',
                },
            },
        })

        .state('app.erp.purchaseReceiptRevision', {
            url: '/erp/purchase/ReceiptRevision',
            data: {
                title: 'Receipt Revision',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/purchase.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/purchase/ReceiptRevision.html',
                },
            },
        })

        .state('app.erp.purchasePurchaseRequestItemSelection', {
            url: '/erp/purchase/PurchaseRequestItemSelection',
            data: {
                title: 'Purchase Request Item Selection',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/purchase.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/purchase/PurchaseRequestItemSelection.html',
                },
            },
        })

        .state('app.erp.purchasePOItemSelection', {
            url: '/erp/purchase/POItemSelection',
            data: {
                title: 'PO Item Selection',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/purchase.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/purchase/POItemSelection.html',
                },
            },
        })

        .state('app.erp.purchasePReturnVerification', {
            url: '/erp/purchase/PReturnVerification',
            data: {
                title: 'P Return Verification',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/purchase.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/purchase/PReturnVerification.html',
                },
            },
        })

        .state('app.erp.purchasePReceiptItemSelection', {
            url: '/erp/purchase/PReceiptItemSelection',
            data: {
                title: 'P Receipt Item Selection',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/purchase.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/purchase/PReceiptItemSelection.html',
                },
            },
        })

        .state('app.erp.purchaseNonPRDemand', {
            url: '/erp/purchase/NonPRDemand',
            data: {
                title: 'Non PR Demand',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/purchase.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/purchase/NonPRDemand.html',
                },
            },
        })

        .state('app.erp.purchasePRToPO', {
            url: '/erp/purchase/PRToPO',
            data: {
                title: 'PR To PO',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/purchase.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/purchase/PRToPO.html',
                },
            },
        })

        .state('app.erp.purchasePRClosingForm', {
            url: '/erp/purchase/PRClosingForm',
            data: {
                title: 'Form: PR Closing',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/purchase.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/purchase/PRClosingForm.html',
                },
            },
        })

        .state('app.erp.purchasePOClosingForm', {
            url: '/erp/purchase/POClosingForm',
            data: {
                title: 'Form: PO Closing',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/purchase.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/purchase/POClosingForm.html',
                },
            },
        })

        .state('app.erp.purchaseCancelPurchaseForm', {
            url: '/erp/purchase/CancelPurchaseForm',
            data: {
                title: 'Form: Cancel Purchase',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/purchase.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/purchase/CancelPurchaseForm.html',
                },
            },
        })

        .state('app.erp.purchaseDiscountForm', {
            url: '/erp/purchase/DiscountForm',
            data: {
                title: 'Form: Discount',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/purchase.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/purchase/DiscountForm.html',
                },
            },
        })

        ;
});

'use strict';

angular.module('app.erp').config(function ($stateProvider) {
    $stateProvider
        .state('app.erp.sales', {
            url: '/erp/sales',
            data: {
                title: 'Sales',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/_WebPage.html',
                },
            },
        })

        .state('app.erp.salesAddressList', {
            url: '/erp/sales/AddressList',
            data: {
                title: 'Address List',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/AddressList.html',
                },
            },
        })

        .state('app.erp.salesAddressListForm', {
            url: '/erp/sales/AddressListForm',
            data: {
                title: 'Form: Address List',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/AddressListForm.html',
                },
            },
        })

        .state('app.erp.salesApprovalWorkFlowForm', {
            url: '/erp/sales/ApprovalWorkFlowForm',
            data: {
                title: 'Form: Approval WorkFlow',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/ApprovalWorkFlowForm.html',
                },
            },
        })

        .state('app.erp.salesApprovalWorkflows', {
            url: '/erp/sales/ApprovalWorkflows',
            data: {
                title: 'Approval Workflows',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/ApprovalWorkflows.html',
                },
            },
        })

        .state('app.erp.salesCloseOrders', {
            url: '/erp/sales/CloseOrders',
            data: {
                title: 'Close Orders',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/CloseOrders.html',
                },
            },
        })

        .state('app.erp.salesContractsForm', {
            url: '/erp/sales/ContractForm',
            data: {
                title: 'Form: Contract',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/ContractForm.html',
                },
            },
        })

        .state('app.erp.salesContracts', {
            url: '/erp/sales/Contracts',
            data: {
                title: 'Contracts',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/Contracts.html',
                },
            },
        })

        .state('app.erp.salesCreditLimitForm', {
            url: '/erp/sales/CreditLimitForm',
            data: {
                title: 'Form: Credit Limit',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/CreditLimitForm.html',
                },
            },
        })

        .state('app.erp.salesCreditLimitRequests', {
            url: '/erp/sales/CreditLimitRequests',
            data: {
                title: 'Credit Limit Requests',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/CreditLimitRequests.html',
                },
            },
        })

        .state('app.erp.salesCustomerPricing', {
            url: '/erp/sales/CustomerPricing',
            data: {
                title: 'Customer Pricing',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/CustomerPricing.html',
                },
            },
        })

        .state('app.erp.salesCustomerRequests', {
            url: '/erp/sales/CustomerRequests',
            data: {
                title: 'Customer Requests',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/CustomerRequests.html',
                },
            },
        })

        .state('app.erp.salesCustomerRequestsForm', {
            url: '/erp/sales/CustomerRequestForm',
            data: {
                title: 'Form: Customer Requests',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/CustomerRequestsForm.html',
                },
            },
        })

        .state('app.erp.salesCustomers', {
            url: '/erp/sales/Customers',
            data: {
                title: 'Customers',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/Customers.html',
                },
            },
        })

        .state('app.erp.salesCustomersForm', {
            url: '/erp/sales/CustomerForm',
            data: {
                title: 'Customers',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/CustomersForm.html',
                },
            },
        })

        .state('app.erp.salesDiscountForm', {
            url: '/erp/sales/DiscountForm',
            data: {
                title: 'Form: Discount',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/DiscountForm.html',
                },
            },
        })

        .state('app.erp.salesDiscounts', {
            url: '/erp/sales/Discounts',
            data: {
                title: 'Discounts',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/Discounts.html',
                },
            },
        })

        .state('app.erp.salesDropshipShipments', {
            url: '/erp/sales/DropshipShipments',
            data: {
                title: 'Dropship Shipments',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/DropshipShipments.html',
                },
            },
        })

        .state('app.erp.salesInterbranchOrders', {
            url: '/erp/sales/InterbranchOrders',
            data: {
                title: 'Interbranch Orders',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/InterbranchOrders.html',
                },
            },
        })

        .state('app.erp.salesNewCustomerForm', {
            url: '/erp/sales/NewCustomerForm',
            data: {
                title: 'Form: New Customer',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/NewCustomerForm.html',
                },
            },
        })

        .state('app.erp.salesOnDemandItems', {
            url: '/erp/sales/OnDemandItems',
            data: {
                title: 'On Demand Items',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/OnDemandItems.html',
                },
            },
        })

        .state('app.erp.salesOutstandingItems', {
            url: '/erp/sales/OutstandingItems',
            data: {
                title: 'Outstanding Items',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/OutstandingItems.html',
                },
            },
        })

        .state('app.erp.salesOutstandingOrders', {
            url: '/erp/sales/OutstandingOrders',
            data: {
                title: 'Outstanding Orders',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/OutstandingOrders.html',
                },
            },
        })

        .state('app.erp.salesPersonnels', {
            url: '/erp/sales/Personnels',
            data: {
                title: 'Personnels',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/Personnels.html',
                },
            },
        })

        .state('app.erp.salesPriceAvailability', {
            url: '/erp/sales/PriceAvailability',
            data: {
                title: 'Price Availability',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/PriceAvailability.html',
                },
            },
        })

        .state('app.erp.salesPriceGroupsForm', {
            url: '/erp/sales/PriceGroupForm',
            data: {
                title: 'Form: Price Group',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/PriceGroupForm.html',
                },
            },
        })

        .state('app.erp.salesPriceGroups', {
            url: '/erp/sales/PriceGroups',
            data: {
                title: 'Price Groups',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/PriceGroups.html',
                },
            },
        })

        .state('app.erp.salesPricingSchemaForm', {
            url: '/erp/sales/PricingSchemaForm',
            data: {
                title: 'Form: Pricing Schema',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/PricingSchemaForm.html',
                },
            },
        })

        .state('app.erp.salesPricingSchema', {
            url: '/erp/sales/PricingSchema',
            data: {
                title: 'Pricing Schema',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/PricingSchema.html',
                },
            },
        })

        .state('app.erp.salesProjectDashboard', {
            url: '/erp/sales/ProjectDashboard',
            data: {
                title: 'Project Dashboard',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/ProjectDashboard.html',
                },
            },
        })

        .state('app.erp.salesProjectsForm', {
            url: '/erp/sales/ProjectForm',
            data: {
                title: 'Form: Project',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/ProjectForm.html',
                },
            },
        })

        .state('app.erp.salesProjects02', {
            url: '/erp/sales/Projects02',
            data: {
                title: 'Projects 02',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/Projects02.html',
                },
            },
        })

        .state('app.erp.salesProjects', {
            url: '/erp/sales/Projects',
            data: {
                title: 'Projects',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/Projects.html',
                },
            },
        })

        .state('app.erp.salesRevisions', {
            url: '/erp/sales/Revisions',
            data: {
                title: 'Revisions',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/Revisions.html',
                },
            },
        })

        .state('app.erp.salesSalesOrdersForm', {
            url: '/erp/sales/SalesOrderForm',
            data: {
                title: 'Form: Sales Order',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/SalesOrderForm.html',
                },
            },
        })

        .state('app.erp.salesSalesOrders', {
            url: '/erp/sales/SalesOrders',
            data: {
                title: 'Sales Orders',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/SalesOrders.html',
                },
            },
        })

        .state('app.erp.salesSalesOrdersTemplate', {
            url: '/erp/sales/SalesOrdersTemplate',
            data: {
                title: 'Sales Orders - Template',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/SalesOrdersTemplate.html',
                },
            },
        })

        .state('app.erp.salesSalesPrices', {
            url: '/erp/sales/SalesPrices',
            data: {
                title: 'Sales Prices',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/SalesPrices.html',
                },
            },
        })

        .state('app.erp.salesSalesQuotationsForm', {
            url: '/erp/sales/SalesQuotationForm',
            data: {
                title: 'Form: Sales Quotation',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/SalesQuotationForm.html',
                },
            },
        })

        .state('app.erp.salesSalesQuotations', {
            url: '/erp/sales/SalesQuotations',
            data: {
                title: 'Sales Quotations',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/SalesQuotations.html',
                },
            },
        })

        .state('app.erp.salesSalesReturnsForm', {
            url: '/erp/sales/SalesReturnForm',
            data: {
                title: 'Form: Sales Return',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/SalesReturnForm.html',
                },
            },
        })

        .state('app.erp.salesSalesReturns', {
            url: '/erp/sales/SalesReturns',
            data: {
                title: 'Sales Returns',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/SalesReturns.html',
                },
            },
        })

        .state('app.erp.salesSupplierForm', {
            url: '/erp/sales/SupplierForm',
            data: {
                title: 'Form: Supplier',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/SupplierForm.html',
                },
            },
        })

        .state('app.erp.salesVendors', {
            url: '/erp/sales/Vendors',
            data: {
                title: 'Vendors',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/Vendors.html',
                },
            },
        })

        .state('app.erp.salesOrderType', {
            url: '/erp/sales/OrderType',
            data: {
                title: 'Sales Order Type',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/SalesOrderType.html',
                },
            },
        })

        .state('app.erp.salesOrderTypeForm', {
            url: '/erp/sales/OrderTypeForm',
            data: {
                title: 'Form: Sales Order Type',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/SalesOrderTypeForm.html',
                },
            },
        })

        .state('app.erp.salesReleaseBlock', {
            url: '/erp/sales/ReleaseBlock',
            data: {
                title: 'Release Block',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/ReleaseBlock.html',
                },
            },
        })

        .state('app.erp.salesCreditLine', {
            url: '/erp/sales/CreditLine',
            data: {
                title: 'Credit Line',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/CreditLine.html',
                },
            },
        })

        .state('app.erp.salesCreditLineForm', {
            url: '/erp/sales/CreditLineForm',
            data: {
                title: 'Form: Credit Line',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/CreditLineForm.html',
                },
            },
        })

        .state('app.erp.salesTopChangeRequest', {
            url: '/erp/sales/TopChangeRequest',
            data: {
                title: 'TOP Change Request',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/TOPChangeRequest.html',
                },
            },
        })

        .state('app.erp.salesTopChangeRequestForm', {
            url: '/erp/sales/TopChangeRequestForm',
            data: {
                title: 'Form: TOP Change Request',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/TOPChangeRequestForm.html',
                },
            },
        })

        .state('app.erp.salesCustomerHold', {
            url: '/erp/sales/CustomerHold',
            data: {
                title: 'Customer Hold',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/CustomerHold.html',
                },
            },
        })

        .state('app.erp.salesSalesPromo', {
            url: '/erp/sales/SalesPromo',
            data: {
                title: 'Sales Promo',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/SalesPromo.html',
                },
            },
        })

        .state('app.erp.salesSalesPromoForm', {
            url: '/erp/sales/SalesPromoForm',
            data: {
                title: 'Form: Sales Promo',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/SalesPromoForm.html',
                },
            },
        })

        .state('app.erp.salesVerifySalesOrders', {
            url: '/erp/sales/VerifySalesOrders',
            data: {
                title: 'Verify Sales Orders',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/VerifySalesOrders.html',
                },
            },
        })

        .state('app.erp.salesReopenOrders', {
            url: '/erp/sales/ReopenOrders',
            data: {
                title: 'Reopen Orders',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/ReopenOrders.html',
                },
            },
        })

        .state('app.erp.salesReopenOrdersForm', {
            url: '/erp/sales/ReopenOrderForm',
            data: {
                title: 'Form: Reopen Orders',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/ReopenOrdersForm.html',
                },
            },
        })

        .state('app.erp.salesCloseRequestMonitoring', {
            url: '/erp/sales/CloseRequestMonitoring',
            data: {
                title: 'Close Request Monitoring',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/CloseRequestMonitoring.html',
                },
            },
        })

        .state('app.erp.salesCloseRequestMonitoringForm', {
            url: '/erp/sales/CloseRequestMonitoringForm',
            data: {
                title: 'Form: Close Request Monitoring',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/CloseRequestMonitoringForm.html',
                },
            },
        })

        .state('app.erp.salesSwapReservation', {
            url: '/erp/sales/SwapReservation',
            data: {
                title: 'Swap Reservation',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/SwapReservation.html',
                },
            },
        })

        .state('app.erp.salesReservedItems', {
            url: '/erp/sales/ReservedItems',
            data: {
                title: 'Reserved Items',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/ReservedItems.html',
                },
            },
        })

        .state('app.erp.salesDocumentTree', {
            url: '/erp/sales/DocumentTree',
            data: {
                title: 'Document Tree',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/DocumentTree.html',
                },
            },
        })

        .state('app.erp.salesDeliveredAndClosedDOSelection', {
            url: '/erp/sales/DeliveredAndClosedDOSelection',
            data: {
                title: 'Delivered and Closed DO Selection',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/DeliveredAndClosedDOSelection.html',
                },
            },
        })

        .state('app.erp.salesCancelPurchase', {
            url: '/erp/sales/CancelPurchase',
            data: {
                title: 'Cancel Purchase',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/CancelPurchase.html',
                },
            },
        })

        .state('app.erp.salesSOReopenForm', {
            url: '/erp/sales/SOReopenForm',
            data: {
                title: 'Form: SO Reopen Form',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/SOReopenForm.html',
                },
            },
        })

        .state('app.erp.salesSOClosingForm', {
            url: '/erp/sales/SOClosingForm',
            data: {
                title: 'Form: SO Closing Form',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/SOClosingForm.html',
                },
            },
        })

        .state('app.erp.salesReleaseBlockedSO', {
            url: '/erp/sales/ReleaseBlockedSO',
            data: {
                title: 'Release Blocked SO',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/ReleaseBlockedSO.html',
                },
            },
        })

        .state('app.erp.salesExtendSORequest', {
            url: '/erp/sales/ExtendSORequest',
            data: {
                title: 'Extend SO Request',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/ExtendSORequest.html',
                },
            },
        })

        .state('app.erp.salesExtendSOItemReservation', {
            url: '/erp/sales/ExtendSOItemReservation',
            data: {
                title: 'Extend SO Item Reservation',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/ExtendSOItemReservation.html',
                },
            },
        })

        .state('app.erp.salesDeliveryRequestForm', {
            url: '/erp/sales/DeliveryRequestForm',
            data: {
                title: 'Form: Delivery Request',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/DeliveryRequestForm.html',
                },
            },
        })

        .state('app.erp.salesCancelShipmentForm', {
            url: '/erp/sales/CancelShipmentForm',
            data: {
                title: 'Form: Cancel Shipment Form',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/CancelShipmentForm.html',
                },
            },
        })

        .state('app.erp.salesCancelPurchaseForm', {
            url: '/erp/sales/CancelPurchaseForm',
            data: {
                title: 'Form: Cancel Purchase Form',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/sales.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/sales/CancelPurchaseForm.html',
                },
            },
        })

        ;
});

'use strict';

angular.module('app.erp').config(function ($stateProvider) {
    $stateProvider
        .state('app.erp.shipment', {
            url: '/erp/shipment',
            data: {
                title: 'Shipment',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/_WebPage.html',
                },
            },
        })

        .state('app.erp.shipmentCancelShipments', {
            url: '/erp/shipment/CancelShipments',
            data: {
                title: 'Cancel Shipments',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/CancelShipments.html',
                },
            },
        })

        .state('app.erp.shipmentCancelShipmentsForm', {
            url: '/erp/shipment/CancelShipmentForm',
            data: {
                title: 'Form: Cancel Shipments',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/CancelShipmentForm.html',
                },
            },
        })

        .state('app.erp.shipmentCarrierTypesForm', {
            url: '/erp/shipment/CarrierTypeForm',
            data: {
                title: 'Form: Carrier Type',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/CarrierTypeForm.html',
                },
            },
        })

        .state('app.erp.shipmentCarrierTypes', {
            url: '/erp/shipment/CarrierTypes',
            data: {
                title: 'Carrier Types',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/CarrierTypes.html',
                },
            },
        })

        .state('app.erp.shipmentCarriers', {
            url: '/erp/shipment/Carriers',
            data: {
                title: 'Carriers',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/Carriers.html',
                },
            },
        })

        .state('app.erp.shipmentCarriersForm', {
            url: '/erp/shipment/CarrierForm',
            data: {
                title: 'Form: Carrier',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/CarrierForm.html',
                },
            },
        })

        .state('app.erp.shipmentDOReconciliation', {
            url: '/erp/shipment/DOReconciliation',
            data: {
                title: 'DO Reconciliation',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/DOReconciliation.html',
                },
            },
        })

        .state('app.erp.shipmentDOReconciliationForm', {
            url: '/erp/shipment/DOReconciliationForm',
            data: {
                title: 'Form: DO Reconciliation',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/DOReconciliationForm.html',
                },
            },
        })

        .state('app.erp.shipmentDeliveryMemos', {
            url: '/erp/shipment/DeliveryMemos',
            data: {
                title: 'Delivery Memos',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/DeliveryMemos.html',
                },
            },
        })

        .state('app.erp.shipmentDeliveryOrderVerification', {
            url: '/erp/shipment/DeliveryOrderVerification',
            data: {
                title: 'Delivery Order Verification',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/DeliveryOrderVerification.html',
                },
            },
        })

        .state('app.erp.shipmentDeliveryOrders', {
            url: '/erp/shipment/DeliveryOrders',
            data: {
                title: 'Delivery Orders',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/DeliveryOrders.html',
                },
            },
        })

        .state('app.erp.shipmentDeliveryOrdersForm', {
            url: '/erp/shipment/DeliveryOrderForm',
            data: {
                title: 'Form: Delivery Orders',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/DeliveryOrdersForm.html',
                },
            },
        })

        .state('app.erp.shipmentDeliveryRequests', {
            url: '/erp/shipment/DeliveryRequests',
            data: {
                title: 'Delivery Requests',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/DeliveryRequests.html',
                },
            },
        })

        .state('app.erp.shipmentDeliveryRequestsForm', {
            url: '/erp/shipment/DeliveryRequestForm',
            data: {
                title: 'Form: Delivery Requests',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/DeliveryRequestForm.html',
                },
            },
        })

        .state('app.erp.shipmentDoToManifest', {
            url: '/erp/shipment/DoToManifest',
            data: {
                title: 'DO to Manifest',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/DOToManifest.html',
                },
            },
        })

        .state('app.erp.shipmentLogisticOrders', {
            url: '/erp/shipment/LogisticOrders',
            data: {
                title: 'Logistic Orders',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/LogisticOrders.html',
                },
            },
        })

        .state('app.erp.shipmentLogisticOrdersForm', {
            url: '/erp/shipment/LogisticOrderForm',
            data: {
                title: 'Form: Logistic Orders',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/LogisticOrderForm.html',
                },
            },
        })

        .state('app.erp.shipmentLogisticRequests', {
            url: '/erp/shipment/LogisticRequests',
            data: {
                title: 'Logistic Requests',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/LogisticRequests.html',
                },
            },
        })

        .state('app.erp.shipmentLogisticRequestsForm', {
            url: '/erp/shipment/LogisticRequestForm',
            data: {
                title: 'Form: Logistic Requests',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/LogisticRequestsForm.html',
                },
            },
        })

        .state('app.erp.shipmentManifestPublishForm', {
            url: '/erp/shipment/ManifestPublishForm',
            data: {
                title: 'Form: Manifest Publish',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/ManifestPublishForm.html',
                },
            },
        })

        .state('app.erp.shipmentManifests', {
            url: '/erp/shipment/Manifests',
            data: {
                title: 'Manifests',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/Manifests.html',
                },
            },
        })

        .state('app.erp.shipmentManifestsForm', {
            url: '/erp/shipment/ManifestForm',
            data: {
                title: 'Form: Manifests',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/ManifestForm.html',
                },
            },
        })

        .state('app.erp.shipmentPackingVerification', {
            url: '/erp/shipment/PackingVerification',
            data: {
                title: 'Packing Verification',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/PackingVerification.html',
                },
            },
        })

        .state('app.erp.shipmentPickerPersonnels', {
            url: '/erp/shipment/PickerPersonnels',
            data: {
                title: 'Picker Personnels',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/PickerPersonnels.html',
                },
            },
        })

        .state('app.erp.shipmentPickingOrder', {
            url: '/erp/shipment/PickingOrder',
            data: {
                title: 'Picking Order',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/PickingOrder.html',
                },
            },
        })

        .state('app.erp.shipmentPickupOrdersForm', {
            url: '/erp/shipment/PickupOrderForm',
            data: {
                title: 'Form: Pickup Order',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/PickupOrderForm.html',
                },
            },
        })

        .state('app.erp.shipmentPickupOrders', {
            url: '/erp/shipment/PickupOrders',
            data: {
                title: 'Pickup Orders',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/PickupOrders.html',
                },
            },
        })

        .state('app.erp.shipmentProofOfDeliveries', {
            url: '/erp/shipment/ProofOfDeliveries',
            data: {
                title: 'Proof Of Deliveries',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/ProofOfDeliveries.html',
                },
            },
        })

        .state('app.erp.shipmentProofOfDeliveriesForm', {
            url: '/erp/shipment/ProofOfDeliveryForm',
            data: {
                title: 'Form: Proof Of Deliveries',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/ProofOfDeliveriesForm.html',
                },
            },
        })

        .state('app.erp.shipmentRouteItemVerification', {
            url: '/erp/shipment/RouteItemVerification',
            data: {
                title: 'Route Item Verification',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/RouteItemVerification.html',
                },
            },
        })

        .state('app.erp.shipmentSalesReturns', {
            url: '/erp/shipment/SalesReturns',
            data: {
                title: 'Sales Returns',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/SalesReturnsSH.html',
                },
            },
        })

        .state('app.erp.shipmentSalesReturnsForm', {
            url: '/erp/shipment/SalesReturnForm',
            data: {
                title: 'Form: Sales Returns',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/SalesReturnsSHForm.html',
                },
            },
        })

        .state('app.erp.shipmentShipmentRequests', {
            url: '/erp/shipment/ShipmentRequests',
            data: {
                title: 'Shipment Requests',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/ShipmentRequests.html',
                },
            },
        })

        .state('app.erp.shipmentShipmentRequestsForm', {
            url: '/erp/shipment/ShipmentRequestForm',
            data: {
                title: 'Shipment Requests',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/ShipmentRequestForm.html',
                },
            },
        })

        .state('app.erp.shipmentShipmentRouting', {
            url: '/erp/shipment/ShipmentRouting',
            data: {
                title: 'Shipment Routing',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/ShipmentRouting.html',
                },
            },
        })

        .state('app.erp.shipmentShipmentRoutingForm', {
            url: '/erp/shipment/ShipmentRoutingForm',
            data: {
                title: 'Shipment Routing',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/ShipmentRoutingForm.html',
                },
            },
        })

        .state('app.erp.shipmentApprovalWorkflows', {
            url: '/erp/shipment/ApprovalWorkflows',
            data: {
                title: 'Approval Workflows',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/ApprovalWorkflows.html',
                },
            },
        })

        .state('app.erp.shipmentPickedOutstandingItem', {
            url: '/erp/shipment/PickedOutstandingItem',
            data: {
                title: 'Picked Outstanding Item',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/PickedOutstandingItem.html',
                },
            },
        })

        .state('app.erp.shipmentInternalPickupMemos', {
            url: '/erp/shipment/InternalPickupMemos',
            data: {
                title: 'Internal Pickup Memos',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/InternalPickupMemos.html',
                },
            },
        })

        .state('app.erp.shipmentPickedRoutes', {
            url: '/erp/shipment/PickedRoutes',
            data: {
                title: 'Picked Routes',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/PickedRoutes.html',
                },
            },
        })

        .state('app.erp.shipmentUpdatePickupPicked', {
            url: '/erp/shipment/UpdatePickupPicked',
            data: {
                title: 'Update Pickup Picked',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/UpdatePickupPicked.html',
                },
            },
        })

        .state('app.erp.shipmentSplitRouteForm', {
            url: '/erp/shipment/SplitRouteForm',
            data: {
                title: 'Form: Split Route',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/SplitRouteForm.html',
                },
            },
        })

        .state('app.erp.shipmentRouteForm', {
            url: '/erp/shipment/RouteForm',
            data: {
                title: 'Form: Route',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/RouteForm.html',
                },
            },
        })

        .state('app.erp.shipmentRouteDelayForm', {
            url: '/erp/shipment/RouteDelayForm',
            data: {
                title: 'Form: Route Delay',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/RouteDelayForm.html',
                },
            },
        })

        .state('app.erp.shipmentPODVerification', {
            url: '/erp/shipment/PODVerification',
            data: {
                title: 'POD Verification',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/PODVerification.html',
                },
            },
        })

        .state('app.erp.shipmentPickupVerification', {
            url: '/erp/shipment/PickupVerification',
            data: {
                title: 'Pickup Verification',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/PickupVerification.html',
                },
            },
        })

        .state('app.erp.shipmentPickupRequestForm', {
            url: '/erp/shipment/PickupRequestForm',
            data: {
                title: 'Form: Pickup Request',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/PickupRequestForm.html',
                },
            },
        })

        .state('app.erp.shipmentPackingForm', {
            url: '/erp/shipment/PackingForm',
            data: {
                title: 'Form: Packing',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/PackingForm.html',
                },
            },
        })

        .state('app.erp.shipmentManifestRevision', {
            url: '/erp/shipment/ManifestRevision',
            data: {
                title: 'Manifest Revision',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/ManifestRevision.html',
                },
            },
        })

        .state('app.erp.shipmentLogisticRequestSelection', {
            url: '/erp/shipment/LogisticRequestSelection',
            data: {
                title: 'Logistic Request Selection',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/LogisticRequestSelection.html',
                },
            },
        })

        .state('app.erp.shipmentExtPickupMemos', {
            url: '/erp/shipment/ExtPickupMemos',
            data: {
                title: 'Ext Pickup Memos',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/ExtPickupMemos.html',
                },
            },
        })

        .state('app.erp.shipmentDeliveryMemoForm', {
            url: '/erp/shipment/DeliveryMemoForm',
            data: {
                title: 'Form: Delivery Memo',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/DeliveryMemoForm.html',
                },
            },
        })

        .state('app.erp.shipmentDeliveryMemoVerification', {
            url: '/erp/shipment/DeliveryMemoVerification',
            data: {
                title: 'Delivery Memo Verification',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/DeliveryMemoVerification.html',
                },
            },
        })

        .state('app.erp.shipmentAddToManifest', {
            url: '/erp/shipment/AddToManifest',
            data: {
                title: 'Add to Manifest',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/AddToManifest.html',
                },
            },
        })

        .state('app.erp.shipmentAddRouteToManifest', {
            url: '/erp/shipment/AddRouteToManifest',
            data: {
                title: 'Add Route to Manifest',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/AddRouteToManifest.html',
                },
            },
        })

        .state('app.erp.shipmentPickingOrderVerification', {
            url: '/erp/shipment/PickingOrderVerification',
            data: {
                title: 'Verify: Picking Order',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/PickingOrderVerification.html',
                },
            },
        })

        .state('app.erp.shipmentSalesReturnsSH', {
            url: '/erp/shipment/SalesReturnsSH',
            data: {
                title: 'Sales Returns',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/SalesReturnsSH.html',
                },
            },
        })

        .state('app.erp.shipmentPickingForm', {
            url: '/erp/shipment/PickingForm',
            data: {
                title: 'Form: Picking',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/PickingForm.html',
                },
            },
        })

        .state('app.erp.shipmentRouteAddressUpdate', {
            url: '/erp/shipment/RouteAddressUpdate',
            data: {
                title: 'Update: Route Address',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/RouteAddressUpdate.html',
                },
            },
        })

        .state('app.erp.shipmentKirimanBarangOpen', {
            url: '/erp/shipment/KirimanBarangOpen',
            data: {
                title: 'KirimanBarang - Open',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/KirimanBarangOpen.html',
                },
            },
        })

        .state('app.erp.shipmentKirimanBarangCL', {
            url: '/erp/shipment/KirimanBarangCL',
            data: {
                title: 'KirimanBarang - CL',
            },
            views: {
                'erpMenu@app': {
                    templateUrl: 'app-erp/_menu/shipment.html',
                },
                'content@app': {
                    templateUrl: 'app-erp/views/packages/shipment/KirimanBarangCL.html',
                },
            },
        })

        ;
});

'use strict';

angular.module('app.erpUtils').factory('ERP_Signature', [
    '$location',
    function ($location) {
        var data = {};

        data.Signature = '2026.01.21_18.35 Framework - PAS';
        //data.Signature = '2026.01.21_18.29 Framework - TI';
        //data.Signature = '2026.01.21_17.04 Framework - TIP';
        //data.Signature = '2026.01.21_17.05 Framework - JLD';

        return data;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('Global_Data_ERP', [
    '$location',
    '$state',
    'ERP_Signature',
    'Utility_ERP',
    'OurStorage',
    'AuthenticationService',
    function ($location, $state, ERP_Signature, Utility_ERP, OurStorage, AuthenticationService) {
        var global_Functions = {};

        global_Functions.Generate = function (parameter_rootScope) {
            parameter_rootScope.ERP_Signature = ERP_Signature.Signature;
            parameter_rootScope.GlobalMessage = '';

            // sebagai tempat untuk "Passsing Data" antara PopUp dan "Parent Caller"
            parameter_rootScope.PopUp_DataSelection = [];
            parameter_rootScope.PopUp_DataSelectionPR = [];
            parameter_rootScope.PopUp_DataSelectionBrowseCharges = [];
            parameter_rootScope.PopUp_DataSelectionBrowseRequests = [];

            try {
                let appSetting = OurStorage.getItem('appSettings');
                parameter_rootScope.appSettings = JSON.parse(appSetting) || {};

                let x = OurStorage.getItem();
                parameter_rootScope.ERP = JSON.parse(x) || {};

                if (!parameter_rootScope.ERP.currentUser) parameter_rootScope.ERP.currentUser = '';
                if (!parameter_rootScope.ERP.userERP) parameter_rootScope.ERP.userERP = { Name: '' };
            } catch (e) { }

            parameter_rootScope.ValidString = function (str) {
                return Utility_ERP.ValidString(str);
            };

            parameter_rootScope.Not_ValidString = function (str) {
                return Utility_ERP.Not_ValidString(str);
            };

            parameter_rootScope.EmployeeSiteAccess = async function (parameter_scope) {
                await Utility_ERP.EmployeeSiteAccess(parameter_scope);
            };

            parameter_rootScope.EmployeeLocationAccess = async function (parameter_scope, selectedBranch = null) {
                await Utility_ERP.EmployeeLocationAccess(parameter_rootScope, parameter_scope, selectedBranch);
            };

            parameter_rootScope.EmployeeWarehouseAccess = async function (parameter_scope, selectedWarehouse = null) {
                await Utility_ERP.EmployeeWarehouseAccess(parameter_rootScope, parameter_scope, selectedWarehouse);
            };

            parameter_rootScope.getData_Personel = async function (val) {
                return await Utility_ERP.Personel_Dropdown(val);
            };

            parameter_rootScope.getData_User = async function (val) {
                return await Utility_ERP.Dropdown_User(val);
            };

            parameter_rootScope.getData_Customer = async function (val, parameter_scope) {
                return await Utility_ERP.Dropdown_Customer2(val, parameter_scope);
            };

            parameter_rootScope.getData_Supplier = async function (val) {
                return await Utility_ERP.Dropdown_Supplier(val);
            };

            parameter_rootScope.getData_InventoryItem = async function (val) {
                return await Utility_ERP.Dropdown_InventoryItem(val);
            };

            parameter_rootScope.getData_InventoryItemCOA = async function (val) {
                return await ChartofAccount_Service.Dropdown_InventoryItem(val);
            };

            parameter_rootScope.Proces_CheckBox_Kiri = function (parameter_scope) {
                return Utility_ERP.Proces_CheckBox_Kiri(parameter_scope);
            };

            parameter_rootScope.console_log = function (str) {
                return console.log(str);
            };

            parameter_rootScope.isNullish = function (input) {
                return (
                    input === null ||
                    input === undefined ||
                    input === '' ||
                    input === 'null' ||
                    input === 'undefined' ||
                    input === 'NaN'
                );
            }

            parameter_rootScope.Not_Null = function (input) {
                return !parameter_rootScope.isNullish(input);
            }

            parameter_rootScope.SanitizeNumeric = function (input) {
                if (parameter_rootScope.isNullish(input)) {
                    return 0;
                }

                const num = Number(input);
                return isNaN(num) ? 0 : num;
            };

            parameter_rootScope.SanitizeString = function (input) {
                if (parameter_rootScope.isNullish(input)) {
                    return '';
                }

                return String(input);
            };

            parameter_rootScope.SanitizeBoolean = function (input) {
                // Handle nullish values
                if (parameter_rootScope.isNullish(input)) {
                    return false;
                }

                // Handle string representations of boolean values
                if (typeof input === 'string') {
                    const lowerInput = input.toLowerCase().trim();
                    if (lowerInput === 'true' || lowerInput === '1') {
                        return true;
                    }
                    if (lowerInput === 'false' || lowerInput === '0') {
                        return false;
                    }
                }

                // Handle numbers (0 = false, anything else = true)
                if (typeof input === 'number') {
                    return input !== 0;
                }

                // For everything else, use JavaScript's built-in boolean conversion
                return Boolean(input);
            };

            parameter_rootScope.SanitizeDate = function (input) {
                if (parameter_rootScope.isNullish(input)) {
                    return '';
                }

                // If input is already a valid moment object, format it
                if (moment.isMoment(input)) {
                    return input.format('YYYY-MM-DD');
                }

                // Try to parse the input as a date
                const momentDate = moment(input);

                // If it's a valid date, return formatted string
                if (momentDate.isValid()) {
                    return momentDate.format('YYYY-MM-DD');
                }

                // If parsing failed, return empty string
                return '';
            };

            parameter_rootScope.SanitizeInput = function (data, header_Template, detail_Template = null, itemsName = 'xyz') {
                function sanitizeObjectWithTypes(obj, template) {
                    if (!obj || !template) return;

                    Object.keys(template).forEach(function (fieldName) {
                        if (obj.hasOwnProperty(fieldName)) {
                            const templateValue = template[fieldName];

                            // Infer type from template default value
                            if (typeof templateValue === 'number') {
                                obj[fieldName] = parameter_rootScope.SanitizeNumeric(obj[fieldName]);
                            } else if (typeof templateValue === 'string') {
                                obj[fieldName] = parameter_rootScope.SanitizeString(obj[fieldName]);
                            } else if (typeof templateValue === 'boolean') {
                                obj[fieldName] = parameter_rootScope.SanitizeBoolean(obj[fieldName]);
                            }
                            // Other types are left unchanged
                        }
                    });
                }

                if (data.dataInput && header_Template) {
                    sanitizeObjectWithTypes(data.dataInput, header_Template);
                }

                if (data.details && data.details[itemsName] && detail_Template) {
                    data.details[itemsName].forEach(function (item) {
                        sanitizeObjectWithTypes(item, detail_Template);
                    });
                }
            }

            parameter_rootScope.getDateOnly = function (str) {
                let result = '';
                try {
                    result = moment(str, 'YYYY-MM-DD').format('DD/MM/YYYY');
                } catch (error) {
                    result = str;
                }

                return result;
            };

            parameter_rootScope.setCriteriaList = function (request, filters) {
                Utility_ERP.setCriteriaList(request, filters);
            };

            parameter_rootScope.functionDelay = function (ms) {
                return new Promise((resolve) => setTimeout(resolve, ms));
            };

            parameter_rootScope.Timeout_Save = () => {
                return 500;
            };

            parameter_rootScope.SaveFilterState = function (key, scope) {
                OurStorage.setItem(`_Filter_${key}`, JSON.stringify(scope.filters));

                // Special case
                try {
                    OurStorage.setItem(`_Filter_${key}_searchKeyword`, JSON.stringify(scope['dt']['searchKeyword']));
                } catch (err) { }
            };

            /*
                Filter mempunyai pola seperti berikut:
                    $scope.filters = {
                        KeyFilter: { PropertyName: 'somethingName', Operator: '=', Value: somethingValue },
                        ...
                    };

                KeyFilter:
                    o pada akhir, ada "nilai khusus":
                        # "_dd": DropDown List
                        # "_date": bertipe date
                    o nilai date pada akhir, mempunyai tujuan khusus
                        # misalnya 

                        $scope.filters = {
                            NamaKey_date: { PropertyName: 'abc', Operator: '=', Value: 'xyz' },
                            ...
                        };

                        # otomatis akan diberikan nilai ke field $scope.selectedNamaKey

                Case study:
                    o Text
                        # simple Text biasa
                        # cara pakai:
                            o ng-model="filters.NamaFilter.Value"

                    o Text
                        # Text dengan tujuan pencarian "mirip"
                        # Operator: like, nilai menggunakan %, contoh value: '%xyz%'}
                        # cara pakai:
                            o pakai 2 varialbel
                                # selectedNama
                                # filters.NamaFilter
                            o pada View
                                # ng-model="selectedNama"
                            o pada Controller, lakukan secara Manual:
                                # assignment antara selectedNama dengan filters.NamaFilter
                                # handle karakter %
                                    o baik saat menambahkan karakter %
                                    o maupun saat menghilangkan karakter %

                    o CheckBox
                        # nilai Boolean
                        # ada 2, yaitu:
                            1. Checkbox yang langsung sebagai Filter
                                # cara pakai:
                                    o sama seperti Text - simple Text biasa

                            2. Checkbox ditujukan sebagai "Alias"
                                # cara pakai:
                                    o pakai 2 varialbel
                                        # selectedNama
                                        # filters.NamaFilter
                                    o pada View
                                        # ng-model="selectedNama"

                    o Date
                        # cara pakai:
                            o pakai 2 varialbel
                                # selectedNama
                                # filters.Nama_date {pakai akhiran "_date"}
                            o pada View
                                # ng-model="selectedNama"
                            o pada Controller, lakukan secara Manual:
                                # pada showData()
                                # $scope.filters.Nama_date.Value = $rootScope.Date_to_DB($scope.selectedNama);

                    o Parameter Url:
                        # kombinasi dengan Parameter dari Url
                        # cara pakai:
                            o panggil dulu function $rootScope.LoadFilterState()
                            o function Override_some_Filters()
                                # buat baru
                                # panggil setelah pemanggilan LoadFilterState();

                    o Bukan bagian Filter,
                      tetapi nilai disimpan pada Filter
            */
            parameter_rootScope.LoadFilterState = function (key, scope) {
                scope.LoadFilterState_ = false;

                let filters = OurStorage.getItem(`_Filter_${key}`);

                if (filters) {
                    scope.LoadFilterState_ = true;

                    scope.filters = { ...scope.filters, ...JSON.parse(filters) };

                    Object.entries(scope.filters).map((filterItem) => {
                        var key = filterItem[0];
                        var val = filterItem[1].Value;

                        if (key.endsWith('_dd')) {
                            key = key.replace('_dd', '');
                            key = 'selected' + key;

                            // reset if necessary
                            if (val && typeof val === 'string' && val.indexOf('(') >= 0) val = '';

                            scope[key] = val;
                        }
                        else if (key.endsWith('_date')) {
                            key = key.replace('_date', '');
                            key = 'selected' + key;

                            scope[key] = parameter_rootScope.Date_to_UI(val);
                        }
                    });
                }

                // Special case
                try {
                    let searchKeyword = OurStorage.getItem(`_Filter_${key}_searchKeyword`);

                    if (searchKeyword) {
                        scope['searchKeyword'] = JSON.parse(searchKeyword);
                    }
                } catch (err) { }
            };

            parameter_rootScope.hilangkanSpasi = function (str) {
                let result = str;

                try {
                    result = str.trim();
                } catch (e) { }

                return result;
            };

            parameter_rootScope.logout = function () {
                AuthenticationService.ClearSessions();
                $location.path('/login');
            };

            parameter_rootScope.CodeNameSeparator = function (code, name, separator = ' - ') {
                if (code && name) return code + separator + name;

                if (code) return code;

                return '';
            };

            parameter_rootScope.Date_to_UI = function (val) {
                let result = '';

                if (Utility_ERP.ValidString(val)) result = moment(new Date(val)).format('DD/MM/YYYY');
                return result;
            };

            parameter_rootScope.Date_to_DB = function (val, defaultValue = null) {
                let result = defaultValue;

                if (val) result = moment(val, 'DD/MM/YYYY').format('YYYY-MM-DD');
                return result;
            };

            parameter_rootScope.getParamValue = function (obj, name, defaultValue = null) {
                let result = defaultValue;

                if (!obj.hasOwnProperty(name)) return result;

                result = decodeURIComponent(obj[name]);

                if (result === undefined || result === 'undefined') result = defaultValue;

                return result;
            };

            //TODO: Access Controll
            parameter_rootScope.CheckAccess = function (moduleName, accessType) {
                // accessType: 'Read', 'Create', 'Update', 'Delete', 'Print', 'Approve'
                if (parameter_rootScope.ERP.currentUser === '') return false;
                if (parameter_rootScope.ERP.currentUser.IsAdmin) return true;
                if (!parameter_rootScope.ERP.currentUser.Roles) return false;
            };

            parameter_rootScope.Simple_Encode = function (str) {
                let result = str;

                if (parameter_rootScope.isNullish(str)) return result;

                // special case: karena di passing via URL, maka '/' di ganti '---'
                result = str.replaceAll('/', '---'); // decodeURIComponent(str);

                return result;
            };

            parameter_rootScope.Simple_Decode = function (str) {
                let result = str;

                if (parameter_rootScope.isNullish(str)) return result;

                // special case: karena di passing via URL, maka '/' di ganti '---'
                result = str.replaceAll('---', '/');

                return result;
            };

            parameter_rootScope.debugScope = function (scope) {
                let scopeData = {};

                for (var key in scope) {
                    if (key.charAt(0) !== '$' && typeof scope[key] !== 'function') {
                        scopeData[key] = scope[key];
                    }
                }

                return scopeData;
            };

            parameter_rootScope.SetDefaultDropdownList = function (arr, code, model, modelField) {
                if (arr.length > 0) {
                    model[modelField] = arr[0][code];
                }
            };

            parameter_rootScope.SanitizeStringArr = function (arr, fieldName) {
                arr.forEach(function (item) {
                    if (item.hasOwnProperty(fieldName)) {
                        item[fieldName] = parameter_rootScope.SanitizeString(item[fieldName]);
                    }
                });
            };

            parameter_rootScope.SanitizeStringAB = function (A, B) {
                let result = A;

                if (parameter_rootScope.isNullish(A)) {
                    result = B;
                }

                return result;
            };

            parameter_rootScope.SanitizeInput_ItemDate = function (arr, fieldName) {
                arr.forEach(function (item) {
                    if (item.hasOwnProperty(fieldName)) {
                        item[fieldName] = parameter_rootScope.Date_to_DB(item[fieldName]);
                    }
                });
            };

            parameter_rootScope.allData_toJson = false;
            parameter_rootScope.allData_toJson2 = {};

            parameter_rootScope.Toggle_debugScope = function () {
                var scope = angular.element(event.target).scope();
                parameter_rootScope.allData_toJson = !parameter_rootScope.allData_toJson;

                parameter_rootScope.allData_toJson2 = {};
                if (!parameter_rootScope.allData_toJson) return;

                parameter_rootScope.allData_toJson2 = parameter_rootScope.debugScope(scope);
            };

            window.ERP_BackEnd_Version = async function () {
                return await Utility_ERP.BackEnd_Version();
            };

            parameter_rootScope.LandingPage_for_User = function () {
                return Utility_ERP.LandingPage_for_User();
            };

            parameter_rootScope.sdr_GoBack = function (toState = '') {
                var currentState = $state.current.name;
                var pageState = currentState.replace('Form', '');

                if ($state.get(pageState)) {
                    $state.go(pageState);
                } else {
                    $state.go(toState);
                }
            };

            parameter_rootScope.sdr_GoToForm = function (toParams = {}) {
                var currentState = $state.current.name;
                var formState = currentState + 'Form';
                $state.go(formState, toParams);
            };
        };

        return global_Functions;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('OurStorage', [
    '$location',
    function ($location) {
        var ourStorage = {};

        ourStorage.getPrefix = function () {
            let pathSegments = window.location.pathname.split('/');
            let appPath = pathSegments[1]; // Gets 'newdev', 'new', 'xpdev', or 'xp'

            if (!appPath) appPath = 'localmachine';

            return appPath + '_';
        };

        ourStorage.setItem = function (key, value) {
            localStorage.setItem(ourStorage.getPrefix() + key, value);
        };

        ourStorage.getItem = function (key = '') {
            return localStorage.getItem(ourStorage.getPrefix() + key);
        };

        ourStorage.removeItem = function (key) {
            localStorage.removeItem(ourStorage.getPrefix() + key);
        };

        ourStorage.clear = function () {
            let prefix = ourStorage.getPrefix();

            Object.keys(localStorage).forEach(function (key) {
                if (key.startsWith(prefix)) {
                    localStorage.removeItem(key);
                }
            });
        };

        return ourStorage;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('Utility_ERP', [
    'OurStorage',
    'BackEndService',
    'Employee_Service',
    'BusinessRelation_Service',
    'Inventory_Service',
    'PriceGroups_Service',
    function (OurStorage, BackEndService, Employee_Service, BusinessRelation_Service, Inventory_Service, PriceGroups_Service) {
        var utility = {};

        utility.getData_Currency = async function () {
            var request = {
                modelName: 'XSmCurrency',
                fieldNames: ['Code', 'Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: true }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        utility.getData_PaymentTerm = async function () {
            var request = {
                modelName: 'XSmPaymentTerm',
                fieldNames: ['Code', 'Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: true }],
                sortList: ['Description asc, OrderID asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        utility.getData_PaymentMethod = async function () {
            var request = {
                modelName: 'XSmPaymentMethod',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: true }],
                sortList: ['Name asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        utility.getData_AddressType = async function () {
            var request = {
                modelName: 'XSmAddressType',
                fieldNames: ['Code', 'Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: true }],
                sortList: ['OrderID asc, Description asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        utility.getData_DeliveryMethod = async function () {
            var request = {
                modelName: 'XSmDeliveryMethod',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: true }],
                sortList: ['OrderID asc, Name asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        utility.getData_DueDateTerm = async function () {
            var request = {
                modelName: 'XSmDueDateTerm',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: true }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        utility.getData_DocumentStatus = async function (documentType) {
            var request = {
                modelName: 'XSmDocumentStatus',
                fieldNames: ['StatusId', 'DisplayName', 'IsArchive', 'SortID', 'ShowInForm'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [
                    {
                        PropertyName: 'DocumentType',
                        Operator: '=',
                        Value: documentType,
                    },
                    {
                        PropertyName: 'ShowInFilterList',
                        Operator: '=',
                        Value: true,
                    },
                ],
                sortList: ['SortID asc, DisplayName asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        utility.getData_DocumentStatus_Form = async function (documentType, showInForm) {
            var request = {
                modelName: 'XSmDocumentStatus',
                fieldNames: ['StatusId', 'DisplayName', 'IsArchive', 'SortID'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [
                    {
                        PropertyName: 'DocumentType',
                        Operator: '=',
                        Value: documentType,
                    },
                    {
                        PropertyName: 'ShowInForm',
                        Operator: '=',
                        Value: showInForm,
                    },
                ],
                sortList: ['SortID asc, DisplayName asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        utility.getData_Brand = async function () {
            var request = {
                modelName: 'XInvBrand',
                fieldNames: ['Code', 'Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: true }],
                sortList: ['Description asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        utility.getData_User = async function () {
            var request = {
                modelName: 'XSmUsers',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: true }],
                sortList: ['Name asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        utility.Value_OperatorIN = function (arr, columnName = '', wrapElement = `'`) {
            // inisialisasi
            let result = ''; //`('')`'';

            try {
                // lakukan Concate terhadap Code: menggunakan pola tertentu

                let items = '';
                let separator = '';
                arr.forEach((element) => {
                    items += separator + wrapElement + `${element[columnName]}` + wrapElement;
                    separator = ',';
                });

                if (items) result = `(${items})`;
            } catch (error) { }

            return result;
        };

        utility.Value_OperatorIN_ = function (arr, columnName = '', wrapElement = `'`) {
            let result = utility.Value_OperatorIN(arr, columnName, wrapElement);

            if (!result) result = `('not valid value')`;

            return result;
        }

        utility.Value_OperatorIN_x = function (arr, columnName = '', wrapElement = `'`) {
            let result = utility.Value_OperatorIN(arr, columnName, wrapElement);

            if (!result) result = `(-12345)`;

            return result;
        }

        utility.Value_OperatorIN2 = function (arr, wrapElement = `'`) {
            // inisialisasi
            let result = ''; //`('')`'';

            try {
                // lakukan Concate terhadap Code: menggunakan pola tertentu

                let items = '';
                let separator = '';
                arr.forEach((element) => {
                    items += separator + wrapElement + `${element}` + wrapElement;
                    separator = ',';
                });

                if (items) result = `(${items})`;
            } catch (error) { }

            return result;
        };

        utility.ValidString = function (x) {
            // "Special Case"
            if (x === 0) return true;

            return x != '' && x !== undefined && x !== null && x !== 'undefined' && x !== 'null';
        };

        utility.Not_ValidString = function (x) {
            return !utility.ValidString(x);
        };

        utility.ProcessColumns = function (table, columns) {
            for (let i = 0; i < columns.length; i++) {
                table.columns.push({
                    Title: columns[i][0],
                    DbField: columns[i][1], //LabelField
                    SortField: columns[i][2], //LabelValue
                    Format: columns[i][3],
                });
            }
        };

        utility.ProcessColumnsX = function (table, columns) {
            table.columns = [];
            for (let i = 0; i < columns.length; i++) {
                table.columns.push({
                    Title: columns[i][0],
                    DbField: columns[i][1],
                    SortField: columns[i][2],
                    Format: columns[i][3],
                });
            }
        };

        utility.ProcessColumnsY = function (table, columns) {
            for (let i = 0; i < columns.length; i++) {
                table.columns.push({
                    Title: columns[i][0],
                    DbField: columns[i][1], //LabelField
                    SortField: columns[i][2], //LabelValue
                    Format: columns[i][3],
                    Show: columns[i][4],
                });
            }
        };

        utility.Dropdown_User = async function (val) {
            return await Employee_Service.User_Dropdown(val);
        };

        utility.Dropdown_Customer = async function (val, locationCode = '', locationOperator = '=') {
            return await BusinessRelation_Service.Customer_Dropdown(val, locationCode, locationOperator);
        };

        utility.Personel_Dropdown = async function (val, locationCode = '', locationOperator = '=') {
            return await BusinessRelation_Service.Personel_Dropdown(val, locationCode, locationOperator);
        };

        utility.Dropdown_Supplier = async function (val, locationCode = '', locationOperator = '=') {
            return await BusinessRelation_Service.Supplier_Dropdown(val, locationCode, locationOperator);
        };

        utility.Dropdown_PriceGroup = async function () {
            return await PriceGroups_Service.Dropdown();
        };

        utility.Dropdown_Customer2 = async function (val, parameter_scope) {
            let _selectedBranch = parameter_scope.selectedBranch;
            let _operator = '=';

            if (utility.Not_ValidString(_selectedBranch)) {
                _selectedBranch = utility.Value_OperatorIN(parameter_scope.data_EmployeeLocationAccess, 'Code');
                _operator = 'in';
            }

            return await utility.Dropdown_Customer(val, _selectedBranch, _operator);
        };

        utility.Dropdown_InventoryItem = async function (val) {
            return await Inventory_Service.Dropdown_InventoryItem(val);
        };

        utility.getData_Tax = async function () {
            var request = {
                modelName: 'XTXTax',
                fieldNames: ['Code', 'Description', 'CurrentTaxRatePercentage'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'TaxType', Operator: '=', Value: 'VAT' }],
                sortList: ['CurrentTaxRatePercentage asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        utility.LocationAccess = async function () {
            return await Employee_Service.LocationAccess();
        };

        utility.WarehouseByLocation = async function () {
            return await Employee_Service.WarehouseByLocation();
        };

        utility.EmployeeSiteAccess = async function (parameter_scope) {
            try {
                parameter_scope.data_Site = [
                    { Code: 'Tangerang', Name: 'Tangerang' },
                    { Code: 'Bogor', Name: 'Bogor' },
                    { Code: 'Tegal', Name: 'Tegal' },
                    { Code: 'Curug', Name: 'Curug' },
                    { Code: 'Bandung', Name: 'Bandung' },
                ];

                parameter_scope.complete_Site = true;
            } catch (error) { }
        };

        utility.EmployeeLocationAccess = async function (parameter_rootScope, parameter_scope, selectedBranch = null) {
            let data = OurStorage.getItem(`_EmployeeLocationAccess`);

            let response = {};

            if (utility.ValidString(data)) {
                response = JSON.parse(data);
            } else {
                response = await Employee_Service.LocationAccess();

                OurStorage.setItem(`_EmployeeLocationAccess`, JSON.stringify(response));
            }

            try {
                parameter_scope.data_EmployeeLocationAccess = response.Data;

                if (parameter_rootScope.isNullish(selectedBranch)) {
                    let x = parameter_scope.data_EmployeeLocationAccess.filter((e) => {
                        return e.Code == response.DefaultBranch;
                    });
                    if (x.length > 0) {
                        parameter_scope.selectedBranch = response.DefaultBranch;
                    } else {
                        parameter_scope.selectedBranch = parameter_scope.data_EmployeeLocationAccess[0].Code;
                    }
                } else {
                    parameter_scope.selectedBranch = selectedBranch;
                }

                parameter_scope.model.LocationCode = parameter_scope.selectedBranch;
            } catch (error) { }
        };

        utility.EmployeeWarehouseAccess = async function (parameter_rootScope, parameter_scope, selectedWarehouse = null) {
            let data = OurStorage.getItem(`_WarehouseByLocation`);

            let response = {};

            if (utility.ValidString(data)) {
                response = JSON.parse(data);
            } else {
                response = await Employee_Service.WarehouseByLocation();

                OurStorage.setItem(`_WarehouseByLocation`, JSON.stringify(response));
            }

            try {
                parameter_scope.data_EmployeeWarehouseAccess = response.Data;

                let data = parameter_scope.data_EmployeeWarehouseAccess;

                parameter_scope.data_Warehouse_perBranch = [...new Map(data.map((item) => [item['Code'], item])).values()].sort((x, y) => x.Code.localeCompare(y.Code));

                if (selectedWarehouse == null) {
                    if (parameter_scope.data_Warehouse_perBranch.length > 0) {
                        parameter_scope.selectedWarehouse = parameter_scope.data_Warehouse_perBranch[0].Code;
                    }
                } else {
                    parameter_scope.selectedWarehouse = selectedWarehouse;
                }
            } catch (ex) { }
        };

        utility.Proces_CheckBox_Kiri = async function (parameter_scope) {
            parameter_scope.selectAllRows = false;

            parameter_scope.selectAllRows_Change = async function () {
                parameter_scope.dt.data.forEach(async function (row) {
                    row['rowSelected'] = parameter_scope.selectAllRows;
                });
            };

            parameter_scope.ProcessRow = async function (index) {
                let allCheck = true;

                parameter_scope.dt.data.forEach(async function (row) {
                    if (!row['rowSelected']) {
                        allCheck = false;

                        //break;
                        return;
                    }
                });

                parameter_scope.selectAllRows = allCheck;
            };
        };

        utility.getData_Bank = async function () {
            var request = {
                modelName: 'XERPBank',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                sortList: ['Number asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        utility.setCriteriaList = function (request, filters) {
            let criteriaList = [];

            Object.entries(filters).map((filterItem) => {
                if (filterItem[1].Value !== '' && filterItem[1].Value !== null) criteriaList.push(filterItem[1]);
            });

            request['criteriaList'] = criteriaList;
        };

        utility.getData_CoverGiroEvent = async function () {
            var request = {
                modelName: 'XCoverGiroEventStatic',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        utility.getData_LeadSource = async function () {
            var request = {
                modelName: 'XLeadSource',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: true }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        utility.getData_OrderSource = async function () {
            var request = {
                modelName: 'XOrderSource',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: true }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        utility.getData_SourceType = async function () {
            var request = {
                modelName: 'XSalesOrderSourceType',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: true }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        utility.getData_ExpeditionPayment = async function () {
            var request = {
                modelName: 'XExpeditionPaymentMethodStatic',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        utility.getData_PickingProfile = async function () {
            var request = {
                modelName: 'XPickingProfileStatic',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        utility.getData_CR_Grade = async function () {
            var request = {
                modelName: 'XCreditGradeStatic',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        utility.Still_Processing = function (scope, flag) {
            scope['still_processing'] = flag;

            if (flag) {
                $('#idLoading').show();
            } else {
                $('#idLoading').hide();
            }
        };

        utility.getSelectedData = function (arr, fieldName = 'Code', fieldName2 = 'rowSelected') {
            let selectedData = [];

            for (let i = 0; i < arr.length; i++) {
                if (arr[i][fieldName2]) {
                    selectedData.push(arr[i][fieldName]);
                }
            }

            return selectedData;
        };

        utility.BackEnd_Version = async function () {
            let request = {
                actionController: 'OtherController',
                actionName: 'Signature',
                actionParam: '',
            };

            return await BackEndService.RequestAction(request);
        };

        utility.LandingPage_for_User = function () {
            return "/erp/sales/SalesOrders";
        };

        utility.sdr_BuildFlatTreeData = function (param_scope, kolom_id, kolom_parent_id, kolom_code, kolom_desc) {
            if (!param_scope.dt.data || param_scope.dt.data.length === 0) {
                param_scope.dt.treeData = [];
                return;
            }

            var flatData = angular.copy(param_scope.dt.data);
            var lookup = {};
            var roots = [];
            var errors = [];

            // Step 1: Buat lookup berdasarkan AccountId
            flatData.forEach(function (item) {
                item.children = [];
                item.level = 0;
                item.hasError = false;
                lookup[item[kolom_id]] = item;
            });

            // Step 2: Fungsi untuk detect circular reference
            var detectCircular = function (itemId, visitedIds) {
                if (!visitedIds) visitedIds = [];

                if (visitedIds.indexOf(itemId) !== -1) {
                    return true; // Circular detected!
                }

                var item = lookup[itemId];
                if (!item || !item[kolom_parent_id] || item[kolom_parent_id] === 0) {
                    return false; // No circular
                }

                visitedIds.push(itemId);
                return detectCircular(item[kolom_parent_id], visitedIds);
            };

            // Step 3: Build parent-child relationship dengan circular detection
            flatData.forEach(function (item) {
                if (item[kolom_parent_id] && item[kolom_parent_id] !== 0) {
                    // Check circular reference
                    if (detectCircular(item[kolom_id])) {
                        console.error('Circular reference detected:', item[kolom_code], item[kolom_desc]);
                        errors.push({
                            type: 'circular',
                            item: item,
                            message: 'Circular reference detected for account: ' + item[kolom_code]
                        });
                        item.hasError = true;
                        // Treat as root level
                        roots.push(item);
                        return;
                    }

                    // Check if parent exists
                    if (lookup[item[kolom_parent_id]]) {
                        var parent = lookup[item[kolom_parent_id]];
                        parent.children.push(item);

                        // Calculate level safely with max depth limit
                        var level = 0;
                        var currentParent = parent;
                        var maxDepth = 20; // Prevent infinite loop

                        while (currentParent && level < maxDepth) {
                            level++;
                            currentParent = currentParent.ParentId && currentParent.ParentId !== 0
                                ? lookup[currentParent.ParentId]
                                : null;
                        }

                        if (level >= maxDepth) {
                            console.warn('Max depth reached for:', item[kolom_code]);
                            item.hasError = true;
                            errors.push({
                                type: 'max_depth',
                                item: item,
                                message: 'Max depth exceeded for account: ' + item[kolom_code]
                            });
                        }

                        item.level = level;
                    } else {
                        // Parent not found, treat as root
                        console.warn('Parent not found for:', item[kolom_code], 'ParentId:', item[kolom_parent_id]);
                        errors.push({
                            type: 'orphan',
                            item: item,
                            message: 'Parent not found for account: ' + item[kolom_code] + ' (ParentId: ' + item[kolom_parent_id] + ')'
                        });
                        item.hasError = true;
                        roots.push(item);
                    }
                } else {
                    // Item ini adalah root level
                    roots.push(item);
                }
            });

            // Step 3: Sort children by code
            var sortChildren = function (node) {
                if (node.children && node.children.length > 0) {
                    node.children.sort(function (a, b) {
                        if (a[kolom_code]) {
                            return a[kolom_code].localeCompare(b[kolom_code]);
                        }

                        return '';
                    });
                    node.children.forEach(sortChildren);
                }
            };

            // Sort roots by code
            roots.sort(function (a, b) {
                if (a[kolom_code]) {
                    return a[kolom_code].localeCompare(b[kolom_code]);
                }

                return '';
            });

            // Sort all children recursively
            roots.forEach(sortChildren);

            // Step 4: Flatten tree menjadi array dengan urutan hierarki
            var result = [];
            var flattenTree = function (nodes) {
                nodes.forEach(function (node) {
                    result.push(node);
                    if (node.children && node.children.length > 0) {
                        flattenTree(node.children);
                    }
                });
            };

            flattenTree(roots);

            // Step 5: Update display numbers
            result.forEach(function (item, index) {
                item.displayNumber = ((param_scope.dt.currentPage - 1) * param_scope.dt.pageLength) + index + 1;
            });

            // Show errors if any
            if (errors.length > 0) {
                console.warn('Tree building completed with', errors.length, 'error(s):');
                errors.forEach(function (err) {
                    console.warn('-', err.type + ':', err.message);
                });

                // Optionally show user notification
                param_scope.treeErrors = errors;
            } else {
                param_scope.treeErrors = null;
            }

            return result;
        };

        utility.SaveDataStore = async function (data) {
            let request = {
                actionController: 'OtherController',
                actionName: 'SaveDataStore',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        utility.GeDataStore = async function (code) {
            let request = {
                modelName: 'XData_Store',
                criteriaList: [{ PropertyName: 'Kunci', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };


        return utility;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('AuthenticationService', [
    '$http',
    '$q',
    '$rootScope',
    '$location',
    'jwtHelper',
    'OurStorage',
    function ($http, $q, $rootScope, $location, jwtHelper, OurStorage) {
        var service = {};
        var authAPIUrl = '';

        service.app_settings = function () {
            let pathSegments = window.location.pathname.split('/');
            let appPath = pathSegments[1];

            let configPath = appPath ? `/${appPath}/app-settings.json` : '/app-settings.json';

            $http.get(configPath).then(function (response) {
                $rootScope.appSettings = response.data;
                authAPIUrl = $rootScope.appSettings.Endpoint + '/Auth';
            });
        }

        if ($location.path() === '/login') {
            // jika berada di halaman login, ambil appSettings.json
            //     # walaupun masih Login Active -- pada Tab lainnya
            //     # tujuannya untuk mendapatkan content file app-settings.json yang terbaru
            // Note:
            //     # jika Landing pada Page Login ini, tidak usah otomatis panggil Logout
            //     # Tab lainnya tidak usah otomatis ter-Logout
            //     # Logout hanya dilakukan
            //           o jika User click Menu Logout
            //           o jika User click button Login pada Page Login

            service.app_settings();
        }

        service.Check_UserDomain = function (UserName, DomainName) {
            let deferred = $q.defer();
            let apiUrl = authAPIUrl + '/UserNameAuth';

            let config = {
                method: 'POST',
                url: apiUrl,
                timeout: 3600 * 1000,
                data: JSON.stringify({
                    UserName: UserName,
                    DomainName: DomainName,
                    applicationId: $rootScope.appSettings.ApplicationId,
                }),
                headers: {
                    'Content-Type': 'application/json',
                },
            };

            return $http(config).then(
                function (response) {
                    response.success = true;

                    // promise is fulfilled
                    deferred.resolve(response);

                    // promise is returned
                    return deferred.promise;
                },
                function (response) {
                    response.success = false;

                    // rejects the promise
                    //deferred.reject(response);

                    // di sini gunakan resolve() dan bukan reject()
                    // karena indikator Gagal proses Check_User() sudah ditaruh pada response.success = false
                    // --> tidak usah catch pada Promise ini
                    deferred.resolve(response);

                    // promise is returned
                    return deferred.promise;
                }
            );
        };

        service.Check_User = function (username, password, organizationId) {
            let deferred = $q.defer();
            let apiUrl = authAPIUrl;

            let config = {
                method: 'POST',
                url: apiUrl,
                timeout: 3600 * 1000,
                data: JSON.stringify({
                    username: username,
                    password: password,
                    OrganizationId: organizationId,

                    applicationId: $rootScope.appSettings.ApplicationId,
                }),
                headers: {
                    'Content-Type': 'application/json',
                },
            };

            return $http(config).then(
                function (response) {
                    response.success = true;

                    service.SetAuthSessions(response.data);

                    // promise is fulfilled
                    deferred.resolve(response);

                    // promise is returned
                    return deferred.promise;
                },
                function (response) {
                    response.success = false;

                    // rejects the promise
                    //deferred.reject(response);

                    // di sini gunakan resolve() dan bukan reject()
                    // karena indikator Gagal proses Check_User() sudah ditaruh pada response.success = false
                    // --> tidak usah catch pada Promise ini
                    deferred.resolve(response);

                    // promise is returned
                    return deferred.promise;
                }
            );
        };

        service.ChangePassword = function (password, newPassword) {
            let deferred = $q.defer();
            let changePasswordModel = {};
            changePasswordModel.Password = password;
            changePasswordModel.NewPassword = newPassword;

            let apiUrl = authAPIUrl + '/api/main/ChangePassword';

            let config = {
                method: 'POST',
                url: apiUrl,
                timeout: 3600 * 1000,
                data: JSON.stringify(changePasswordModel),
                headers: {
                    'Content-Type': 'application/json',
                },
            };

            return $http(config).then(
                function (response) {
                    response.success = true;

                    // promise is fulfilled
                    deferred.resolve(response);

                    // promise is returned
                    return deferred.promise;
                },
                function (response) {
                    response.success = false;

                    // rejects the promise
                    //deferred.reject(response);

                    // di sini gunakan resolve() dan bukan reject()
                    // karena indikator Gagal proses Check_User() sudah ditaruh pada response.success = false
                    // --> tidak usah catch pada Promise ini
                    deferred.resolve(response);

                    // promise is returned
                    return deferred.promise;
                }
            );
        };

        service.Logout = function () {
            let apiUrl = '';

            try {
                if (!$rootScope.ERP.currentUser.token) return;
            } catch (error) {
                return;
            }

            try {
                apiUrl = $rootScope.appSettings.Endpoint + '/Main';
            } catch (error) { }

            if (apiUrl.includes('undefined')) return;
            if (apiUrl.includes('null')) return;

            if ($rootScope.Not_ValidString(apiUrl)) return;

            let deferred = $q.defer();
            apiUrl += '/Logout';

            let config = {
                method: 'POST',
                url: apiUrl,
                timeout: 3600 * 1000,
                data: '',
                headers: {
                    'Content-Type': 'application/json',
                },
            };

            return $http(config).then(
                function (response) {
                    response.success = true;
                    // promise is fulfilled
                    deferred.resolve(response);

                    // promise is returned
                    return deferred.promise;
                },
                function (response) {
                    response.success = false;

                    // rejects the promise
                    //deferred.reject(response);

                    // di sini gunakan resolve() dan bukan reject()
                    // karena indikator Gagal proses Check_User() sudah ditaruh pada response.success = false
                    // --> tidak usah catch pada Promise ini
                    deferred.resolve(response);

                    // promise is returned
                    return deferred.promise;
                }
            );
        };

        service.SetAuthSessions = function (token) {
            let deferred = $q.defer();

            let userInfo = jwtHelper.decodeToken(token);

            $rootScope.ERP = {
                currentUser: userInfo,
                currentScopes: userInfo.Scope.split(','),
            };

            $rootScope.ERP.currentUser.token = token;

            $http.defaults.headers.common['Authorization'] = 'Bearer ' + token;

            OurStorage.setItem('appSettings', JSON.stringify($rootScope.appSettings));
            OurStorage.setItem('', JSON.stringify($rootScope.ERP));

            let apiUrl = $rootScope.appSettings.Endpoint + '/Main' + '/GetSingle';

            let config = {
                method: 'POST',
                url: apiUrl,
                timeout: 3600 * 1000,
                data: JSON.stringify({
                    modelName: 'XSmUsers',
                    criteriaList: [
                        {
                            PropertyName: 'UserName',
                            Operator: '=',
                            Value: $rootScope.ERP.currentUser.UserName,
                        },
                    ],
                }),
                headers: {
                    'Content-Type': 'application/json',
                },
            };

            return $http(config).then(
                function (response) {
                    response.success = true;

                    $rootScope.ERP.userERP = response.data;

                    OurStorage.setItem('', JSON.stringify($rootScope.ERP));

                    // promise is fulfilled
                    deferred.resolve(response);

                    // promise is returned
                    return deferred.promise;
                },
                function (response) {
                    response.success = false;

                    // rejects the promise
                    //deferred.reject(response);

                    // di sini gunakan resolve() dan bukan reject()
                    // karena indikator Gagal proses Check_User() sudah ditaruh pada response.success = false
                    // --> tidak usah catch pada Promise ini
                    deferred.resolve(response);

                    // promise is returned
                    return deferred.promise;
                }
            );
        };

        service.ValidateCurrentAccessScope = function (accessScopes) {
            let found = false;
            angular.forEach(accessScopes, function (permission, index) {
                if ($rootScope.ERP.currentScopes.indexOf(permission) >= 0) {
                    found = true;
                    return;
                }
            });

            return found;
        };

        service.ClearSessions = function () {
            service.Logout();

            $rootScope.ERP = {};
            OurStorage.clear();

            // reset
            $http.defaults.headers.common.Authorization = 'Basic ';

            // load ulang, sehingga Page menjadi ready untuk proses Login berikutnya
            service.app_settings();
        };


        if (OurStorage.getItem('logout')) {
            service.ClearSessions();
        }

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('BackEndService', [
    '$http',
    '$q',
    '$rootScope',
    function ($http, $q, $rootScope) {
        var service = {};

        service.RequestAction = function (jsonData) {
            let deferred = $q.defer();
            let apiUrl = service.APIUrl() + '/action';

            let config = {
                method: 'POST',
                url: apiUrl,
                timeout: 3600 * 1000,
                data: JSON.stringify(jsonData),
                headers: {
                    'Content-Type': 'application/json',
                },
            };

            return $http(config).then(
                function (response) {
                    response.success = true;

                    // promise is fulfilled
                    deferred.resolve(response);

                    // promise is returned
                    return deferred.promise;
                },
                function (response) {
                    response.success = false;

                    // rejects the promise
                    //deferred.reject(response);

                    // di sini gunakan resolve() dan bukan reject()
                    // karena indikator Gagal proses Check_User() sudah ditaruh pada response.success = false
                    // --> tidak usah catch pada Promise ini
                    deferred.resolve(response);

                    // promise is returned
                    return deferred.promise;
                }
            );
        };

        service.RequestActionWithFile = function (jsonData, attachmentFile) {
            let deferred = $q.defer();
            let apiUrl = service.APIUrl() + '/actionwithfile';

            let config = {
                method: 'POST',
                url: apiUrl,
                timeout: 3600 * 1000,
                headers: {
                    'Content-Type': undefined,
                },
                transformRequest: function (data) {
                    var formData = new FormData();

                    formData.append('jsonData', JSON.stringify(jsonData));
                    formData.append('file', attachmentFile);

                    return formData;
                },
                data: {
                    model: jsonData,
                    files: attachmentFile,
                },
            };

            return $http(config).then(
                function (response) {
                    response.success = true;

                    // promise is fulfilled
                    deferred.resolve(response);

                    // promise is returned
                    return deferred.promise;
                },
                function (response) {
                    response.success = false;

                    // rejects the promise
                    //deferred.reject(response);

                    // di sini gunakan resolve() dan bukan reject()
                    // karena indikator Gagal proses Check_User() sudah ditaruh pada response.success = false
                    // --> tidak usah catch pada Promise ini
                    deferred.resolve(response);

                    // promise is returned
                    return deferred.promise;
                }
            );
        };

        service.ImportData = function (jsonData, attachmentFile) {
            let deferred = $q.defer();
            let apiUrl = service.APIUrl() + '/importdata';

            let config = {
                method: 'POST',
                url: apiUrl,
                timeout: 3600 * 1000,
                headers: {
                    'Content-Type': undefined,
                },
                transformRequest: function (data) {
                    var formData = new FormData();

                    formData.append('jsonData', JSON.stringify(jsonData));
                    formData.append('file', attachmentFile);

                    return formData;
                },
                data: {
                    model: jsonData,
                    files: attachmentFile,
                },
            };

            return $http(config).then(
                function (response) {
                    response.success = true;

                    // promise is fulfilled
                    deferred.resolve(response);

                    // promise is returned
                    return deferred.promise;
                },
                function (response) {
                    response.success = false;

                    // rejects the promise
                    //deferred.reject(response);

                    // di sini gunakan resolve() dan bukan reject()
                    // karena indikator Gagal proses Check_User() sudah ditaruh pada response.success = false
                    // --> tidak usah catch pada Promise ini
                    deferred.resolve(response);

                    // promise is returned
                    return deferred.promise;
                }
            );
        };

        service.RequestDataList = function (jsonData) {
            let deferred = $q.defer();
            let apiUrl = service.APIUrl() + '/getlist';

            let config = {
                method: 'POST',
                url: apiUrl,
                timeout: 3600 * 1000,
                data: JSON.stringify(jsonData),
                headers: {
                    'Content-Type': 'application/json',
                },
            };

            return $http(config).then(
                function (response) {
                    response.success = true;

                    // promise is fulfilled
                    deferred.resolve(response);

                    // promise is returned
                    return deferred.promise;
                },
                function (response) {
                    response.success = false;

                    // rejects the promise
                    //deferred.reject(response);

                    // di sini gunakan resolve() dan bukan reject()
                    // karena indikator Gagal proses Check_User() sudah ditaruh pada response.success = false
                    // --> tidak usah catch pada Promise ini
                    deferred.resolve(response);

                    // promise is returned
                    return deferred.promise;
                }
            );
        };

        service.RequestDataList_X = function (jsonData) {
            let deferred = $q.defer();
            let apiUrl = service.APIUrl() + '/getlistX';

            let config = {
                method: 'POST',
                url: apiUrl,
                timeout: 3600 * 1000,
                data: JSON.stringify(jsonData),
                headers: {
                    'Content-Type': 'application/json',
                },
            };

            return $http(config).then(
                function (response) {
                    response.success = true;

                    // promise is fulfilled
                    deferred.resolve(response);

                    // promise is returned
                    return deferred.promise;
                },
                function (response) {
                    response.success = false;

                    // rejects the promise
                    //deferred.reject(response);

                    // di sini gunakan resolve() dan bukan reject()
                    // karena indikator Gagal proses Check_User() sudah ditaruh pada response.success = false
                    // --> tidak usah catch pada Promise ini
                    deferred.resolve(response);

                    // promise is returned
                    return deferred.promise;
                }
            );
        };

        service.RequestReport = function (jsonData) {
            let deferred = $q.defer();
            let apiUrl = service.APIUrl() + '/getreport';

            let config = {
                method: 'POST',
                url: apiUrl,
                timeout: 3600 * 1000,
                data: JSON.stringify(jsonData),
                responseType: 'blob',
                headers: {
                    'Content-Type': 'application/json',
                },
            };

            return $http(config).then(
                function (response) {
                    response.success = true;

                    var blob = response.data;
                    var contentType = response.headers('content-type');
                    var fileURL = URL.createObjectURL(blob);
                    window.open(fileURL);

                    // promise is fulfilled
                    deferred.resolve(response);

                    // promise is returned
                    return deferred.promise;
                },
                function (response) {
                    response.success = false;

                    // rejects the promise
                    //deferred.reject(response);

                    // di sini gunakan resolve() dan bukan reject()
                    // karena indikator Gagal proses Check_User() sudah ditaruh pada response.success = false
                    // --> tidak usah catch pada Promise ini
                    deferred.resolve(response);

                    // promise is returned
                    return deferred.promise;
                }
            );
        };

        service.GetDataListHttpPromise = function (jsonData) {
            let apiUrl = service.APIUrl() + '/getlist';

            let config = {
                method: 'POST',
                url: apiUrl,
                timeout: 3600 * 1000,
                data: JSON.stringify(jsonData),
                headers: {
                    'Content-Type': 'application/json',
                },
            };

            let myPromise = $http(config);

            return myPromise;
        };

        service.RequestDataSingle = function (jsonData) {
            let deferred = $q.defer();
            let apiUrl = service.APIUrl() + '/GetSingle';

            let config = {
                method: 'POST',
                url: apiUrl,
                timeout: 3600 * 1000,
                data: JSON.stringify(jsonData),
                headers: {
                    'Content-Type': 'application/json',
                },
            };

            return $http(config).then(
                function (response) {
                    response.success = true;

                    // promise is fulfilled
                    deferred.resolve(response);

                    // promise is returned
                    return deferred.promise;
                },
                function (response) {
                    response.success = false;

                    // rejects the promise
                    //deferred.reject(response);

                    // di sini gunakan resolve() dan bukan reject()
                    // karena indikator Gagal proses Check_User() sudah ditaruh pada response.success = false
                    // --> tidak usah catch pada Promise ini
                    deferred.resolve(response);

                    // promise is returned
                    return deferred.promise;
                }
            );
        };

        service.APIUrl = function () {
            let url = '';

            try {
                url = $rootScope.appSettings.Endpoint + '/Main';
            } catch (ex) { }

            return url;
        };

        service.Log_Activity = function (jsonData = '') {
            var apiUrl = service.APIUrl() + '/Activity';

            if (jsonData == null) jsonData = '';

            var myPromise = $http({
                method: 'POST',
                url: apiUrl,
                timeout: 3600 * 1000,
                data: JSON.stringify(jsonData),
                headers: {
                    'Content-Type': 'application/json',
                },
            });

            myPromise.then(
                function (response) {
                    // do nothing
                },
                function (response) {
                    // do nothing
                }
            );
        };

        return service;
    },
]);

'use strict';
angular.module('app.erpUtils').factory('DTService', [
    'BackEndService',
    function (BackEndService) {
        var service = {};

        service.GenerateDTInstance = function (modelName, defaultSortField, defaultSortDirection, filterObject, defaultSearchKeyword, pageLength = 10, afterRequestData = null, searchKeyword = '') {
            var dt = {};
            dt.loading = false;
            dt.dataModel = modelName;
            dt.pageLength = pageLength;
            dt.currentPage = 1;
            dt.totalPages = 0;
            dt.totalRows = 0;
            dt.pages = [];
            dt.data = [];
            dt.searchKeyword = searchKeyword;
            dt.activeSortField = defaultSortField;
            dt.activeSortDirection = defaultSortDirection;
            dt.columns = [];
            dt.filters = filterObject;

            dt.loadData = async function () {
                var request = {
                    modelName: dt.dataModel,
                    maximumResult: dt.pageLength,
                    fieldNames: ['*'],

                    sortList: [dt.activeSortField + ' ' + dt.activeSortDirection],
                    pageNumber: dt.currentPage,
                };

                dt.applyFilters(request);

                dt.loading = true;

                // reset
                dt.data = [];
                //dt.totalRows = 0;
                //dt.totalPages = 0;

                let response = await BackEndService.RequestDataList(request);
                dt.loading = false;

                if (response.success) {
                    // request data success
                    dt.data = response.data.Data;
                    dt.totalRows = response.data.TotalRows;
                    if (dt.totalRows < dt.pageLength) dt.totalPages = 1;
                    else dt.totalPages = Math.ceil(dt.totalRows / dt.pageLength);
                } else {
                    // request data failed
                    // show Error: sudah dihandle oleh SmartAdmin - function notifyError() menggunakan $.bigBox()
                }

                if (afterRequestData) {
                    afterRequestData();
                }

                BackEndService.Log_Activity();
            };

            dt.sort = async function ($event, fieldName) {
                // reset class
                $('.asc').attr('class', '');
                $('.desc').attr('class', '');
                if (fieldName == dt.activeSortField) {
                    if (dt.activeSortDirection == 'asc') dt.activeSortDirection = 'desc';
                    else dt.activeSortDirection = 'asc';
                } else {
                    dt.activeSortField = fieldName;
                    dt.activeSortDirection == 'asc';
                }

                $event.currentTarget.className = dt.activeSortDirection;
                await dt.loadData();
            };

            dt.nextPage = async function () {
                if (dt.currentPage === dt.totalPages) return;

                dt.currentPage++;
                await dt.loadData();
            };
            dt.previousPage = async function () {
                if (dt.currentPage === 1) return;

                dt.currentPage--;
                await dt.loadData();
            };
            dt.setPage = async function (pageNumber) {
                if (dt.currentPage === pageNumber) return;

                dt.currentPage = pageNumber;
                await dt.loadData();
            };

            dt.getCriteriaList = function (request) {
                var criteriaList = [];

                if (dt.searchKeyword != '') {
                    var searchCriteria = {
                        PropertyName: defaultSearchKeyword,
                        Operator: 'like',
                        Value: '%' + dt.searchKeyword + '%',
                    };
                    criteriaList.push(searchCriteria);
                }
                Object.entries(dt.filters).map((filterItem) => {
                    if (filterItem[1].Value !== '' && filterItem[1].Value !== null) criteriaList.push(filterItem[1]);
                });

                request['criteriaList'] = criteriaList;
            };

            dt.applyFilters = function (request) {
                if (defaultSearchKeyword.includes(',')) {
                    dt.getSQLCriteria(request);
                } else {
                    dt.getCriteriaList(request);
                }
            };

            dt.getSQLCriteria = function (request, skipIfBlank = true) {
                if (dt.searchKeyword == '' && skipIfBlank) {
                    dt.getCriteriaList(request);
                    return;
                }

                let fields = defaultSearchKeyword.replaceAll(' ', '').split(',');

                let sql = '';
                let sql1 = '';
                let sql2 = '';
                let separator = '';
                let operator = 'like';
                let value = '';

                fields.forEach((field) => {
                    value = '%' + dt.searchKeyword + '%';
                    sql1 += `${separator} ${field} ${operator} '${value}'`;

                    separator = ' or ';
                });

                if (sql1 != '') {
                    sql1 = `( ${sql1} )`;
                }

                let field = '';
                separator = '';

                Object.entries(dt.filters).map((filterItem) => {
                    if (filterItem[1].Value !== '' && filterItem[1].Value !== null) {
                        field = filterItem[1].PropertyName;
                        operator = filterItem[1].Operator;

                        if (operator == 'in') {
                            value = filterItem[1].Value;
                        } else {
                            value = `'${filterItem[1].Value}'`;
                        }

                        sql2 += `${separator} ${field} ${operator} ${value}`;

                        separator = ' and ';
                    }
                });

                sql = sql1;

                separator = '';
                if (sql != '') {
                    separator = ' and ';
                }

                if (sql2) {
                    sql += separator + sql2;
                }

                if (sql != '') {
                    request['SQLCriteria'] = sql;
                }
            };

            return dt;
        };

        service.ModalGenerateDTInstance = function (modelName, defaultSortField, defaultSortDirection, filterObject, defaultSearchKeyword, pageLength = 5) {
            var dt = {};
            dt.loading = false;
            dt.dataModel = modelName;
            dt.pageLength = pageLength;
            dt.currentPage = 1;
            dt.totalPages = 0;
            dt.totalRows = 0;
            dt.pages = [];
            dt.data = [];
            dt.searchKeyword = '';
            dt.activeSortField = defaultSortField;
            dt.activeSortDirection = defaultSortDirection;
            dt.columns = [];
            dt.filters = filterObject;

            dt.loadData = async function () {
                var request = {
                    modelName: dt.dataModel,
                    maximumResult: dt.pageLength,
                    fieldNames: ['*'],
                    criteriaList: dt.getCriteriaList(),
                    sortList: [dt.activeSortField + ' ' + dt.activeSortDirection],
                    pageNumber: dt.currentPage,
                };

                dt.loading = true;

                let response = await BackEndService.RequestDataList(request);
                dt.loading = false;

                if (response.success) {
                    // request data success
                    dt.data = [];
                    dt.data = response.data.data;
                    dt.totalRows = response.data.totalRows;
                    if (dt.totalRows < dt.pageLength) dt.totalPages = 1;
                    else dt.totalPages = Math.ceil(dt.totalRows / dt.pageLength);
                } else {
                    // request data failed
                    // show Error: sudah dihandle oleh SmartAdmin - function notifyError() menggunakan $.bigBox()
                }
            };

            dt.sort = function ($event, fieldName) {
                // reset class
                $('.asc').attr('class', '');
                $('.desc').attr('class', '');
                if (fieldName == dt.activeSortField) {
                    if (dt.activeSortDirection == 'asc') dt.activeSortDirection = 'desc';
                    else dt.activeSortDirection = 'asc';
                } else {
                    dt.activeSortField = fieldName;
                    dt.activeSortDirection == 'asc';
                }

                $event.currentTarget.className = dt.activeSortDirection;
                dt.loadData();
            };

            dt.nextPage = function () {
                if (dt.currentPage === dt.totalPages) return;

                dt.currentPage++;
                dt.loadData();
            };
            dt.previousPage = function () {
                if (dt.currentPage === 1) return;

                dt.currentPage--;
                dt.loadData();
            };
            dt.setPage = function (pageNumber) {
                if (dt.currentPage === pageNumber) return;

                dt.currentPage = pageNumber;
                dt.loadData();
            };

            dt.getCriteriaList = function () {
                var criteriaList = [];

                if (dt.searchKeyword != '') {
                    var searchCriteria = {
                        PropertyName: defaultSearchKeyword,
                        Operator: 'like',
                        Value: '%' + dt.searchKeyword + '%',
                    };
                    criteriaList.push(searchCriteria);
                }
                Object.entries(dt.filters).map((filterItem) => {
                    if (filterItem[1].Value !== '' && filterItem[1].Value !== null) criteriaList.push(filterItem[1]);
                });

                return criteriaList;
            };

            return dt;
        };

        return service;
    },
]);

angular.module('app.erpUtils').controller('LoginXCtrl', function ($scope, $rootScope, $location, AuthenticationService) {
    $scope.inputLogin = '';
    $scope.inputPassword = '';
    $rootScope.GlobalMessage = '';

    $scope.login = async function () {
        let passwd = $scope.inputPassword;
        if (passwd == '') {
            messageValidasi('Password tidak boleh kosong');
            return;
        }

        AuthenticationService.ClearSessions();

        var [userName, domain] = $scope.inputLogin.split('@');

        domain = 'Organization_Domain';

        let response = await AuthenticationService.Check_UserDomain(userName, domain);

        // not ok, exit immediately
        if (!response.success) {
            $rootScope.GlobalMessage = response.data;

            return;
        }

        response = await AuthenticationService.Check_User(userName, passwd, response.data.OrganizationId);

        // not ok, exit immediately
        if (!response.success) {
            $rootScope.GlobalMessage = response.data;

            return;
        }

        // clear
        $rootScope.GlobalMessage = '';

        // redirect
        $location.path($rootScope.LandingPage_for_User());
    };

    function messageValidasi(content) {
        $rootScope.GlobalMessage = content;

        $.bigBox({
            title: 'Error: Message',
            content: content,
            color: '#C46A69',
            icon: 'fa fa-warning shake animated',
            number: '',
            timeout: 4000,
        });
    }
});

angular.module('app.erp').controller('DepartmentCtrl', function ($rootScope, $scope, Utility_ERP, Department_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = Department_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Name', 'Name', 'Name', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['', 'Active', 'Active', 'Boolean', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('UOM', $scope);
    };

    async function Override_some_Filters() { }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('UOM', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});

angular.module('app.erp').controller('HREmployeeCtrl', function ($rootScope, $scope, Utility_ERP, HREmployee_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = HREmployee_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Name', 'Name', 'Name', 'Text', true],
            ['Department', 'DepartmentName', 'DepartmentName', 'Text', true],
            ['Work Location', 'WorkLocationName', 'WorkLocationName', 'Text', true],
            ['Position', 'JobPositionName', 'JobPositionName', 'Text', true],
            ['Grade', 'JobGradeName', 'JobGradeName', 'Text', true],
            ['Level', 'JobLevelName', 'JobLevelName', 'Text', true],
            ['Status', 'EmploymentStatusName', 'EmploymentStatusName', 'Text', true],
            ['Joined Date', 'JoinedDate', 'JoinedDate', 'Date', true],
            ['Active', 'Active', 'Active', 'Boolean', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('UOM', $scope);
    };

    async function Override_some_Filters() { }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('UOM', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});

angular.module('app.erp').controller('PositionCtrl', function ($rootScope, $scope, Utility_ERP, Position_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = Position_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Id', 'Id', 'Id', 'Text', true],
            ['Name', 'Name', 'Name', 'Text', true],
            ['', 'Active', 'Active', 'Boolean', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('UOM', $scope);
    };

    async function Override_some_Filters() { }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('UOM', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});

angular.module('app.erp').controller('YearCalendarCtrl', function ($rootScope, $scope, Utility_ERP, YearCalendar_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = YearCalendar_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Subject', 'Subject', 'Subject', 'Text', true],
            ['From', 'DateFrom', 'DateFrom', 'Date', true],
            ['Until', 'DateUntill', 'DateUntill', 'Date', true],
            ['Is Holiday', 'IsHoliday', 'IsHoliday', 'Boolean', true],
            ['Active', 'Active', 'Active', 'Boolean', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('UOM', $scope);
    };

    async function Override_some_Filters() { }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('UOM', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});

angular.module('app.erp').controller('BranchCtrl', function ($rootScope, $scope, Utility_ERP, Branch_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Active' },
        { Value: false, Text: 'Inactive' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Status', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = Branch_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Branch Code', 'Code', 'Code', 'Text', true],
            ['Branch Name', 'Name', 'Name', 'Text', true],
            ['Sub Account', 'SubAccount', 'SubAccount', 'Text', true],
            ['Status', 'Status', 'Status', 'Status', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.SaveFilterState('Branch', $scope);

        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);
    };

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('Branch', $scope);

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('BranchFormCtrl', function ($rootScope, $scope, Utility_ERP, Branch_Service, Personels_Service) {
    $scope.getData_Personels = async function (val) {
        return await Personels_Service.Dropdown(val, 'SO');
    };
});




angular.module('app.erp').controller('BrandsMDCtrl', function ($rootScope, $scope, Utility_ERP, Brands_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = Brands_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['', 'Active', 'Active', 'Boolean', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('Brand', $scope);
    };

    

    async function Override_some_Filters() { }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('Brand', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});

// ini file Controller.js

// ini file Controller.js

angular.module('app.erp').controller('CategoriesMDCtrl', function ($rootScope, $scope, Utility_ERP, Categories_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
        Parent: { PropertyName: 'ParentCode', Operator: '=', Value: null },
    };

    $scope.selectedParent = '';

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = Categories_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['Parent', 'ParentCode', 'ParentCode', 'ParentName', true],
            ['Level Type', 'LevelType', 'LevelType', 'Text', true],
            ['Item Type', 'ItemType', 'ItemType', 'Number', true],
            ['', 'Active', 'Active', 'Boolean', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $scope.filters['selectedParent'] = $scope.selectedParent;

        $rootScope.SaveFilterState('Category', $scope);

        delete $scope.filters['selectedParent'];

        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);
    };

    

    $scope.getData_Parent = function (val) {
        return Categories_Service.Dropdown_Category2(val);
    };

    async function Override_some_Filters() {
        if ($scope.LoadFilterState_) {
            $scope.selectedParent = $scope.filters['selectedParent'];
            delete $scope.filters['selectedParent'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('Category', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});



// ini file Controller.js

// ini file Controller.js

angular.module('app.erp').controller('CollectZoneCtrl', function ($rootScope, $scope, Utility_ERP, CollectZone_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.statusOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Active' },
        { Value: false, Text: 'Inactive' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Status: { PropertyName: 'Status', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = CollectZone_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Collect Zone Code', 'Code', 'Code', 'Text', true],
            ['Collect Zone Name', 'Name', 'Name', 'Text', true],
            ['Status', 'Status', 'Status', 'Status', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.SaveFilterState('CollectZone', $scope);

        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);
    };

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('CollectZone', $scope);

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('CollectZoneFormCtrl', function ($rootScope, $scope, Utility_ERP, CollectZone_Service, Personels_Service) {
    $scope.getData_Personels = async function (val) {
        return await Personels_Service.Dropdown(val, 'SO');
    };
});


// ini file Controller.js

// ini file Controller.js

angular.module('app.erp').controller('CustomerGradeListCtrl', function ($rootScope, $scope, Utility_ERP, CustomerGrade_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 10;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.statusOptions = [
        { Value: null, Text: 'All' },
        { Value: 'Active', Text: 'Active' },
        { Value: 'Inactive', Text: 'Inactive' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        CodeName: { PropertyName: 'CustomerGradeCode', Operator: 'contains', Value: '' },
        Status: { PropertyName: 'Status', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = CustomerGrade_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Customer Grade Code', 'CustomerGradeCode', 'CustomerGradeCode', 'Text', true],
            ['Customer Grade Name', 'CustomerGradeName', 'CustomerGradeName', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['Status', 'Status', 'Status', 'Status', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.SaveFilterState('CustomerGradeList', $scope);

        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);
    };

    async function Override_some_Filters() { }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('CustomerGradeList', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('CustomerGradeFormCtrl', function ($rootScope, $scope, $state, Utility_ERP, CustomerGradeForm_Service) {
    
    // Initialize variables
    $scope.Is_Writeable = true;
    $scope.Is_Create = true;
    $scope.form = { submitted: false };
    $scope.allData_toJson = false;
    
    // Initialize model
    $scope.model = {
        Code: '',
        Name: '',
        Description: '',
        Active: true
    };

    // Initialize function
    $scope.init = function() {
        var params = $state.params;
        
        if (params && params.id) {
            $scope.Is_Create = false;
            $scope.loadData(params.id);
        }
    };

    // Load existing data
    $scope.loadData = function(id) {
        $('#idLoading').show();
        
        CustomerGradeForm_Service.getById(id).then(function(response) {
            if (response.data.success) {
                $scope.model = response.data.data;
            } else {
                Utility_ERP.showAlert('Error', response.data.message, 'error');
            }
            $('#idLoading').hide();
        }, function(error) {
            Utility_ERP.showAlert('Error', 'Failed to load data', 'error');
            $('#idLoading').hide();
        });
    };

    // Save data
    $scope.saveData = function() {
        $scope.form.submitted = true;

        // Validation
        if (!$scope.model.Name || $scope.model.Name.trim() === '') {
            Utility_ERP.showAlert('Validation Error', 'Name is required', 'warning');
            return;
        }

        if ($scope.Is_Create && (!$scope.model.Code || $scope.model.Code.trim() === '')) {
            Utility_ERP.showAlert('Validation Error', 'Code is required', 'warning');
            return;
        }

        $('#idLoading').show();

        var savePromise = $scope.Is_Create ? 
            CustomerGradeForm_Service.create($scope.model) : 
            CustomerGradeForm_Service.update($scope.model);

        savePromise.then(function(response) {
            if (response.data.success) {
                Utility_ERP.showAlert('Success', 'Customer Grade saved successfully', 'success');
                $scope.sdr_GoBack();
            } else {
                Utility_ERP.showAlert('Error', response.data.message, 'error');
            }
            $('#idLoading').hide();
        }, function(error) {
            Utility_ERP.showAlert('Error', 'Failed to save Customer Grade', 'error');
            $('#idLoading').hide();
        });
    };

    // Cancel form
    $scope.cancelForm = function() {
        $scope.sdr_GoBack();
    };

    // Go back
    $scope.sdr_GoBack = function() {
        $state.go('app.erp.masterdata.customergradelist');
    };

    // Toggle debug scope
    $scope.Toggle_debugScope = function() {
        $scope.allData_toJson = !$scope.allData_toJson;
        if ($scope.allData_toJson) {
            $scope.allData_toJson2 = {
                model: $scope.model,
                Is_Create: $scope.Is_Create,
                Is_Writeable: $scope.Is_Writeable
            };
        }
    };

    // Initialize on load
    $scope.init();
});
angular.module('app.erp').controller('DeliveryZoneCtrl', function ($rootScope, $scope, Utility_ERP, DeliveryZone_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.statusOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Active' },
        { Value: false, Text: 'Inactive' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Status: { PropertyName: 'Status', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = DeliveryZone_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Delivery Zone Code', 'Code', 'Code', 'Text', true],
            ['Delivery Zone Name', 'Name', 'Name', 'Text', true],
            ['Status', 'Status', 'Status', 'Status', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.SaveFilterState('DeliveryZone', $scope);

        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);
    };

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('DeliveryZone', $scope);

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('DeliveryZoneFormCtrl', function ($rootScope, $scope, Utility_ERP, CollectZone_Service, Personels_Service) {
    $scope.getData_Personels = async function (val) {
        return await Personels_Service.Dropdown(val, 'SO');
    };
});


angular.module('app.erp').controller('DepartmentCtrl', function ($rootScope, $scope, Utility_ERP, Department_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Active' },
        { Value: false, Text: 'Inactive' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Status', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = Department_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Department Code', 'Code', 'Code', 'Text', true],
            ['Department Name', 'Name', 'Name', 'Text', true],
            ['Sub Account', 'SubAccount', 'SubAccount', 'Text', true],
            ['Status', 'Status', 'Status', 'Status', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.SaveFilterState('Department', $scope);

        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);
    };

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('Department', $scope);

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('DepartmentFormCtrl', function ($rootScope, $scope, Utility_ERP, Department_Service, Personels_Service) {
    $scope.getData_Personels = async function (val) {
        return await Personels_Service.Dropdown(val, 'SO');
    };
});


// ini file Controller.js

// ini file Controller.js

// ini file Controller.js

// ini file Controller.js

angular.module('app.erp').controller('OwnershipListCtrl', function ($rootScope, $scope, Utility_ERP, Ownership_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 10;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.statusOptions = [
        { Value: null, Text: 'All' },
        { Value: 'Active', Text: 'Active' },
        { Value: 'Inactive', Text: 'Inactive' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        IdName: { PropertyName: 'OwnershipID', Operator: 'contains', Value: '' },
        Status: { PropertyName: 'Status', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = Ownership_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Ownership ID', 'OwnershipID', 'OwnershipID', 'Text', true],
            ['Ownership Name', 'OwnershipName', 'OwnershipName', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['Status', 'Status', 'Status', 'Status', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.SaveFilterState('OwnershipList', $scope);

        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);
    };

    async function Override_some_Filters() { }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('OwnershipList', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('OwnershipProjectFormCtrl', function ($rootScope, $scope, Utility_ERP, Uoms_Service) {


});
angular.module('app.erp').controller('JobPositionCtrl', function ($rootScope, $scope, Utility_ERP, JobPosition_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Active' },
        { Value: false, Text: 'Inactive' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Status', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = JobPosition_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Job Position Code', 'Code', 'Code', 'Text', true],
            ['Job Position Name', 'Name', 'Name', 'Text', true],
            ['Position Level', 'PositionLevel', 'PositionLevel', 'Text', true],
            ['Sub Account', 'SubAccount', 'SubAccount', 'Text', true],
            ['Status', 'Status', 'Status', 'Status', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.SaveFilterState('JobPosition', $scope);

        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);
    };

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('JobPosition', $scope);

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('JobPositionFormCtrl', function ($rootScope, $scope, Utility_ERP, Position_Service, Personels_Service) {
    $scope.getData_Personels = async function (val) {
        return await Personels_Service.Dropdown(val, 'SO');
    };
});




angular.module('app.erp').controller('ProfilesMDCtrl', function ($rootScope, $scope, Utility_ERP, Profiles_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = Profiles_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Description', 'Name', 'Name', 'Text', true],
            ['', 'Active', 'Active', 'Boolean', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('Profile', $scope);
    };

    

    async function Override_some_Filters() { }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('Profile', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});

angular.module('app.erp').controller('RoleListCtrl', function ($rootScope, $scope, Utility_ERP, RoleList_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 10;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.statusOptions = [
        { Value: null, Text: 'All' },
        { Value: 'Active', Text: 'Active' },
        { Value: 'Inactive', Text: 'Inactive' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        RoleName: { PropertyName: 'RoleName', Operator: 'contains', Value: '' },
        Status: { PropertyName: 'Status', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = RoleList_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Role Name', 'RoleName', 'RoleName', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['Menu Access', 'MenuAccess', 'MenuAccess', 'Text', true],
            ['Function', 'Function', 'Function', 'Text', true],
            ['Status', 'Status', 'Status', 'Status', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.SaveFilterState('RoleList', $scope);

        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);
    };

    async function Override_some_Filters() { }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('RoleList', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('RoleAccessFormCtrl', function ($rootScope, $scope, $state, Utility_ERP, RoleAccessForm_Service) {

    // Initialize variables
    $scope.Is_Writeable = true;
    $scope.Is_Create = true;
    $scope.form = { submitted: false };
    $scope.allData_toJson = false;

    // Initialize model
    $scope.model = {
        RoleName: '',
        RoleStatus: 'Active',
        Description: '',
        Permissions: []
    };

    // Data for modules
    $scope.data_Modules = [
        {
            id: 'sales',
            name: 'Sales',
            hasChildren: true,
            expanded: false,
            permissions: {
                read: false,
                create: false,
                edit: false,
                delete: false,
                approval: false
            },
            children: [
                {
                    id: 'sales-order',
                    name: 'Sales Order',
                    permissions: {
                        read: false,
                        create: false,
                        edit: false,
                        delete: false,
                        approval: false
                    }
                },
                {
                    id: 'sales-invoice',
                    name: 'Sales Invoice',
                    permissions: {
                        read: false,
                        create: false,
                        edit: false,
                        delete: false,
                        approval: false
                    }
                },
                {
                    id: 'sales-quotation',
                    name: 'Sales Quotation',
                    permissions: {
                        read: false,
                        create: false,
                        edit: false,
                        delete: false,
                        approval: false
                    }
                }
            ]
        },
        {
            id: 'purchase',
            name: 'Purchase',
            hasChildren: true,
            expanded: false,
            permissions: {
                read: false,
                create: false,
                edit: false,
                delete: false,
                approval: false
            },
            children: [
                {
                    id: 'purchase-order',
                    name: 'Purchase Order',
                    permissions: {
                        read: false,
                        create: false,
                        edit: false,
                        delete: false,
                        approval: false
                    }
                },
                {
                    id: 'purchase-request',
                    name: 'Purchase Request',
                    permissions: {
                        read: false,
                        create: false,
                        edit: false,
                        delete: false,
                        approval: false
                    }
                }
            ]
        },
        {
            id: 'inventory',
            name: 'Inventory',
            hasChildren: true,
            expanded: false,
            permissions: {
                read: false,
                create: false,
                edit: false,
                delete: false,
                approval: false
            },
            children: [
                {
                    id: 'stock-movement',
                    name: 'Stock Movement',
                    permissions: {
                        read: false,
                        create: false,
                        edit: false,
                        delete: false,
                        approval: false
                    }
                },
                {
                    id: 'stock-adjustment',
                    name: 'Stock Adjustment',
                    permissions: {
                        read: false,
                        create: false,
                        edit: false,
                        delete: false,
                        approval: false
                    }
                }
            ]
        },
        {
            id: 'finance',
            name: 'Finance',
            hasChildren: true,
            expanded: false,
            permissions: {
                read: false,
                create: false,
                edit: false,
                delete: false,
                approval: false
            },
            children: [
                {
                    id: 'payment',
                    name: 'Payment',
                    permissions: {
                        read: false,
                        create: false,
                        edit: false,
                        delete: false,
                        approval: false
                    }
                },
                {
                    id: 'receipt',
                    name: 'Receipt',
                    permissions: {
                        read: false,
                        create: false,
                        edit: false,
                        delete: false,
                        approval: false
                    }
                }
            ]
        },
        {
            id: 'masterdata',
            name: 'Master Data',
            hasChildren: true,
            expanded: false,
            permissions: {
                read: false,
                create: false,
                edit: false,
                delete: false,
                approval: false
            },
            children: [
                {
                    id: 'customer',
                    name: 'Customer',
                    permissions: {
                        read: false,
                        create: false,
                        edit: false,
                        delete: false,
                        approval: false
                    }
                },
                {
                    id: 'supplier',
                    name: 'Supplier',
                    permissions: {
                        read: false,
                        create: false,
                        edit: false,
                        delete: false,
                        approval: false
                    }
                },
                {
                    id: 'product',
                    name: 'Product',
                    permissions: {
                        read: false,
                        create: false,
                        edit: false,
                        delete: false,
                        approval: false
                    }
                }
            ]
        }
    ];

    // Toggle module expansion
    $scope.toggleModule = function(module) {
        module.expanded = !module.expanded;
    };

    // Update permissions when parent module is changed
    $scope.updatePermissions = function(module) {
        if (module.hasChildren && module.children) {
            // Apply parent permissions to all children
            angular.forEach(module.children, function(child) {
                angular.forEach(['read', 'create', 'edit', 'delete', 'approval'], function(permission) {
                    child.permissions[permission] = module.permissions[permission];
                });
            });
        }
    };

    // Initialize function
    $scope.init = function () {
        var params = $state.params;

        if (params && params.id) {
            $scope.Is_Create = false;
            $scope.loadData(params.id);
        }
    };

    // Load existing data
    $scope.loadData = function (id) {
        $('#idLoading').show();

        RoleAccessForm_Service.getById(id).then(function (response) {
            if (response.data.success) {
                $scope.model = response.data.data;
                
                // Apply loaded permissions to modules
                if ($scope.model.Permissions && $scope.model.Permissions.length > 0) {
                    $scope.applyPermissionsToModules($scope.model.Permissions);
                }
            } else {
                Utility_ERP.showAlert('Error', response.data.message, 'error');
            }
            $('#idLoading').hide();
        }, function (error) {
            Utility_ERP.showAlert('Error', 'Failed to load data', 'error');
            $('#idLoading').hide();
        });
    };

    // Apply permissions to modules from loaded data
    $scope.applyPermissionsToModules = function(permissions) {
        angular.forEach(permissions, function(perm) {
            // Find module
            var module = $scope.data_Modules.find(function(m) {
                return m.id === perm.moduleId;
            });
            
            if (module) {
                module.permissions = {
                    read: perm.read,
                    create: perm.create,
                    edit: perm.edit,
                    delete: perm.delete,
                    approval: perm.approval
                };
                
                // Apply to children if exists
                if (perm.submodules && module.children) {
                    angular.forEach(perm.submodules, function(subPerm) {
                        var submodule = module.children.find(function(sm) {
                            return sm.id === subPerm.moduleId;
                        });
                        if (submodule) {
                            submodule.permissions = {
                                read: subPerm.read,
                                create: subPerm.create,
                                edit: subPerm.edit,
                                delete: subPerm.delete,
                                approval: subPerm.approval
                            };
                        }
                    });
                }
            }
        });
    };

    // Collect permissions from modules
    $scope.collectPermissions = function() {
        var permissions = [];
        
        angular.forEach($scope.data_Modules, function(module) {
            var modulePermission = {
                moduleId: module.id,
                moduleName: module.name,
                read: module.permissions.read,
                create: module.permissions.create,
                edit: module.permissions.edit,
                delete: module.permissions.delete,
                approval: module.permissions.approval,
                submodules: []
            };
            
            // Add submodules
            if (module.children && module.children.length > 0) {
                angular.forEach(module.children, function(child) {
                    modulePermission.submodules.push({
                        moduleId: child.id,
                        moduleName: child.name,
                        read: child.permissions.read,
                        create: child.permissions.create,
                        edit: child.permissions.edit,
                        delete: child.permissions.delete,
                        approval: child.permissions.approval
                    });
                });
            }
            
            permissions.push(modulePermission);
        });
        
        return permissions;
    };

    // Save data
    $scope.saveData = function () {
        $scope.form.submitted = true;

        // Validation
        if (!$scope.model.RoleName || $scope.model.RoleName.trim() === '') {
            Utility_ERP.showAlert('Validation Error', 'Role Name is required', 'warning');
            return;
        }

        // Collect permissions
        $scope.model.Permissions = $scope.collectPermissions();

        $('#idLoading').show();

        var savePromise = $scope.Is_Create ?
            RoleAccessForm_Service.create($scope.model) :
            RoleAccessForm_Service.update($scope.model);

        savePromise.then(function (response) {
            if (response.data.success) {
                Utility_ERP.showAlert('Success', 'Role Access saved successfully', 'success');
                $scope.sdr_GoBack();
            } else {
                Utility_ERP.showAlert('Error', response.data.message, 'error');
            }
            $('#idLoading').hide();
        }, function (error) {
            Utility_ERP.showAlert('Error', 'Failed to save role access', 'error');
            $('#idLoading').hide();
        });
    };

    // Toggle debug scope
    $scope.Toggle_debugScope = function () {
        $scope.allData_toJson = !$scope.allData_toJson;
        if ($scope.allData_toJson) {
            $scope.allData_toJson2 = {
                model: $scope.model,
                data_Modules: $scope.data_Modules,
                permissions: $scope.collectPermissions()
            };
        }
    };

    // Initialize on load
    $scope.init();
});
// ini file Controller.js

// ini file Controller.js

angular.module('app.erp').controller('SalesZoneCtrl', function ($rootScope, $scope, Utility_ERP, SalesZone_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.statusOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Active' },
        { Value: false, Text: 'Inactive' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Status: { PropertyName: 'Status', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = SalesZone_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Sales Zone Code', 'Code', 'Code', 'Text', true],
            ['Sales Zone Name', 'Name', 'Name', 'Text', true],
            ['Status', 'Status', 'Status', 'Status', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.SaveFilterState('SalesZone', $scope);

        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);
    };

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('SalesZone', $scope);

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('SalesZoneFormCtrl', function ($rootScope, $scope, Utility_ERP, SalesZone_Service, Personels_Service) {
    $scope.getData_Personels = async function (val) {
        return await Personels_Service.Dropdown(val, 'SO');
    };
});


angular.module('app.erp').controller('SettingsCtrl', function ($rootScope, $scope, $stateParams, $window, Utility_ERP, Uoms_Service) {
    // Data to View
    $scope.form = {};
    $scope.form.submitted = false;

    // CRUD: Create, Read, Update, Delete
    $scope.Is_Read = false;
    $scope.Is_Create = false;
    $scope.Is_Update = false;
    $scope.Is_Writeable = false;

    $scope.still_processing = false;

    let model_Data_Inside = {
        Code: '',
        Name: '',
        LegalName: '',
        Active: true,
        Address: '',
        AddressLine2: '',
        AddressLine3: '',
        AddressLine4: '',
        City: '',
        Province: '',
        CountryCode: '',
        PostalCode: '',
        PhoneNumber: '',
        Email: '',
        Website: '',
        TaxId: '',
        KppName: '',
        TaxStatus: '',
        PpnStatus: false,
        PpnTariff: '',
        TaxType: '',
        CompanyLogo: null,
        CompanyLogoFile: null
    };

    let model_Template = {
        Kunci: 'Setting_Company',
        Data: { ...model_Data_Inside },
    };

    $scope.model = { ...model_Template };

    // some Functions
    $scope.showData = async function () {
        //if (!$scope.Is_Read) return;

        Utility_ERP.Still_Processing($scope, true);
        let response = await Utility_ERP.GeDataStore($scope.model.Kunci);
        if (!response.success) {
            Utility_ERP.Still_Processing($scope, false);
            return;
        }

        if (!response.data) {
            // let code = $scope.model.Kunci;

            // // reset
            // $scope.model = { ...model_Template };

            // messageValidasi(`Data dengan code '${code}', tidak ditemukan`);
            // Utility_ERP.Still_Processing($scope, false);
            return;
        }
        $scope.model.Data = JSON.parse(response.data.Data);

        Utility_ERP.Still_Processing($scope, false);
    };

    $scope.saveData = async function (skipConfirmation = false) {
        //if ($scope.still_processing) return;

        $scope.form.submitted = true;
        Utility_ERP.Still_Processing($scope, true);

        if (!(await $scope.Valid_toSave(skipConfirmation))) {
            Utility_ERP.Still_Processing($scope, false);

            return;
        }

        let data = {
            dataInput: {
                Kunci: $scope.model.Kunci,
                Data: JSON.stringify($scope.model.Data),
            }
        };

        $rootScope.SanitizeInput(data, model_Template);

        let resultSave = await Utility_ERP.SaveDataStore(data.dataInput);

        if (!resultSave.success) {
            Utility_ERP.Still_Processing($scope, false);
            $scope.form.submitted = false;

            return;
        }

        messageInfo('Data berhasil disimpan');
    };

    $scope.Valid_toSave = async function (skipConfirmation) {
        // if ($rootScope.Not_ValidString($scope.model.Code)) {
        //     messageValidasi('Code must not be empty');
        //     return false;
        // }

        // if ($rootScope.Not_ValidString($scope.model.ShortName)) {
        //     messageValidasi('ShortName must not be empty');
        //     return false;
        // }

        // if ($rootScope.Not_ValidString($scope.model.Description)) {
        //     messageValidasi('Description must not be empty');
        //     return false;
        // }

        return true;
    };

    function messageValidasi(content) {
        $.bigBox({
            title: 'Error: Message',
            content: content,
            color: '#C46A69',
            icon: 'fa fa-warning shake animated',
            number: '',
            timeout: 5000,
        });
    }

    function messageInfo(content) {
        let alreadyBack = false;

        $.bigBox(
            {
                title: 'Informasi',
                content: content,
                color: '#739E73',
                timeout: $rootScope.Timeout_Save(),
                icon: 'fa fa-check',
                number: '',
            },
            function () {
                Utility_ERP.Still_Processing($scope, false);
                $scope.form.submitted = false;
            }
        );

        setTimeout(() => {
            Utility_ERP.Still_Processing($scope, false);
            $scope.form.submitted = false;
        }, $rootScope.Timeout_Save());
    }

    async function Data_References() { }

    $scope.Set_Editable = async function () {
        if ($scope.still_processing) return;

        $scope.Is_Read = false;
        $scope.Is_Create = false;
        $scope.Is_Update = true;

        $scope.Is_Writeable = $scope.Is_Create || $scope.Is_Update;

        Data_References();
    }

    $scope.initialize_Page = async function () {

        await Data_References();

        await $scope.showData();

        // Langsung Mode Edit, jika sedang dalam kondisi Mode - Read
        if ($scope.Is_Read) {
            $scope.Set_Editable();
        }
    };

    $scope.initialize_Page();

});
angular.module('app.erp').controller('SubAccountCtrl', function ($rootScope, $scope, Utility_ERP, SubAccount_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.statusOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Active' },
        { Value: false, Text: 'Inactive' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Status: { PropertyName: 'Status', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = SubAccount_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Sub Account Code', 'SubAccountCode', 'SubAccountCode', 'Text', true],
            ['Sub Account Name', 'SubAccountName', 'SubAccountName', 'Text', true],
            ['COA Code', 'COACode', 'COACode', 'Text', true],
            ['COA Name', 'COAName', 'COAName', 'Text', true],
            ['Status', 'Status', 'Status', 'Status', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.SaveFilterState('SubAccount', $scope);

        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);
    };

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('SubAccount', $scope);

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('SubAccountFormCtrl', function ($rootScope, $scope, Utility_ERP, SubAccount_Service, Personels_Service) {
    $scope.getData_Personels = async function (val) {
        return await Personels_Service.Dropdown(val, 'SO');
    };
});


// ini file Controller.js

// ini file Controller.js

angular.module('app.erp').controller('TaxListCtrl', function ($rootScope, $scope, Utility_ERP, TaxList_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 10;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.statusOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Active' },
        { Value: false, Text: 'Inactive' },
    ];
    $scope.taxTypeOptions = [
        { Value: null, Text: 'All' },
        { Value: 'VAT', Text: 'VAT' },
        { Value: 'PPH', Text: 'PPH' },
        { Value: 'PPN', Text: 'PPN' },
    ];
    $scope.taxCategoryOptions = [
        { Value: null, Text: 'All' },
        { Value: 'Sales', Text: 'Sales' },
        { Value: 'Purchase', Text: 'Purchase' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        TaxType: { PropertyName: 'TaxType', Operator: '=', Value: null },
        TaxCategory: { PropertyName: 'TaxCategory', Operator: '=', Value: null },
        Status: { PropertyName: 'Status', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = TaxList_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Tax Code', 'TaxCode', 'TaxCode', 'Text', true],
            ['Tax Name', 'TaxName', 'TaxName', 'Text', true],
            ['Tax Type', 'TaxType', 'TaxType', 'Text', true],
            ['Tax Category', 'TaxCategory', 'TaxCategory', 'Text', true],
            ['Tax Rate (%)', 'TaxRate', 'TaxRate', 'Number', true],
            ['Status', 'Status', 'Status', 'Status', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.SaveFilterState('TaxList', $scope);

        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);
    };

    async function Override_some_Filters() { }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('TaxList', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});
// ini file Controller.js

// ini file Controller.js

// ini file Controller.js

// ini file Controller.js

// ini file Controller.js



angular.module('app.erp').controller('UomsMDCtrl', function ($rootScope, $scope, Utility_ERP, Uoms_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = Uoms_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Short Name', 'ShortName', 'ShortName', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['', 'Active', 'Active', 'Boolean', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('UOM', $scope);
    };

    

    async function Override_some_Filters() { }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('UOM', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});

angular.module('app.erp').controller('UseBRCtrl', function ($rootScope, $scope, Utility_ERP, UseBR_Service, BackEndService) {
    // Dummy data, just for "Paging"
    $scope.dt = {};
    $scope.dt.pageLength = 20;

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    // filter
    $scope.filters = {
        IsPersonnel: { PropertyName: 'IsPersonnel', Operator: '=', Value: true },
    };

    $scope.selectedBranch = '';
    $scope.selectedStatus = '';
    $scope.showAllStatus = false;

    // References of data
    $scope.data_EmployeeLocationAccess = [];
    $scope.data_DocumentStatus_All = [];
    $scope.data_DocumentStatus = [];
    $scope.data_CustomerType = [];
    $scope.data_BusinessLine = [];
    $scope.data_BusinessRelationGroup = [];
    $scope.data_BusinessRelationTitle = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = UseBR_Service.Table($scope.filters, $scope.dt.pageLength, $scope.afterRequestData);

        // format: Title, DbField, SortField, Format
        let columns = [
            ['Code', 'Code', 'Code', 'Text'],
            ['Name', 'Name', 'Name', 'Text'],
            ['Status', 'StatusName', 'StatusName', 'Text'],
        ];

        Utility_ERP.ProcessColumns($scope.dt, columns);
    };

    $scope.showData = async function () {
        await $scope.dt.loadData();
    };

    $scope.initialize_Page = async function () {
        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        // prettier-ignore
        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope)
            , $scope.getData_DocumentStatus()
            , $scope.getData_CustomerType()
            , $scope.getData_BusinessLine()
            , $scope.getData_BusinessRelationGroup()
            , $scope.getData_BusinessRelationTitle()
        ]);

        $scope.showData();
    };

    $scope.afterRequestData = function () {
        $scope.dt.data.forEach(function (row) {
            row['rowSelected'] = false;
        });
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_DocumentStatus = async function () {
        $scope.data_DocumentStatus_All = await Utility_ERP.getData_DocumentStatus('BusinessRelation');

        // prettier-ignore
        $scope.data_DocumentStatus = ($scope.showAllStatus ? $scope.data_DocumentStatus_All : $scope.data_DocumentStatus_All.filter(function (e) { return e.IsArchive == false; }));

        // Default untuk DropdownList
        if ($scope.data_DocumentStatus.length > 0) {
            $scope.selectedStatus = $scope.data_DocumentStatus[0].StatusId;
        }
    };

    $scope.selectedStatus_Change = async function () {
        // prettier-ignore
        $scope.data_DocumentStatus = ($scope.showAllStatus ? $scope.data_DocumentStatus_All : $scope.data_DocumentStatus_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if ($scope.showAllStatus) $scope.selectedStatus = '';

        await $scope.showData();
    };

    $scope.getData_CustomerType = async function () {
        $scope.data_CustomerType = await UseBR_Service.getData_CustomerType();
    };

    $scope.getData_BusinessLine = async function () {
        $scope.data_BusinessLine = await UseBR_Service.getData_BusinessLine();
    };

    $scope.getData_BusinessRelationGroup = async function () {
        $scope.data_BusinessRelationGroup = await UseBR_Service.getData_BusinessRelationGroup();
    };

    $scope.getData_BusinessRelationTitle = async function () {
        $scope.data_BusinessRelationTitle = await UseBR_Service.getData_BusinessRelationTitle();
    };

    $scope.voidDocument = function () { };

    $scope.Block = async function () {
        await $scope.ProcessBlock_UnBlock('Blocked');
    };

    $scope.UnBlock = async function () {
        await $scope.ProcessBlock_UnBlock('UnBlocked');
    };

    $scope.ProcessBlock_UnBlock = async function (action) {
        let selectedData = [];

        for (let i = 0; i < $scope.dt.data.length; i++) {
            if ($scope.dt.data[i]['rowSelected']) {
                selectedData.push($scope.dt.data[i]['Code']);
            }
        }

        if (selectedData.length <= 0) {
            $.bigBox({
                title: 'Pesan Error',
                content: 'No data is selected!',
                color: '#C46A69',
                icon: 'fa fa-warning shake animated',
                number: '',
                timeout: 2000,
            });

            return;
        }

        var request = {
            actionController: 'CustomerController',
            actionName: action,
            actionParam: selectedData,
        };

        await BackEndService.RequestAction(request);

        $scope.selectAllRows = false;
        $scope.showData();

        $.bigBox(
            {
                title: 'Informasi',
                content: 'Data berhasil disimpan',
                color: '#739E73',
                timeout: $rootScope.Timeout_Save(),
                icon: 'fa fa-check',
                number: '',
            },
            function () { }
        );
    };

    $scope.initialize_Page();
});

'use strict';

angular.module('app.erpUtils').factory('UseBR_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (filterObject, pageLength = 5, afterRequestData = null) {
            let modelName = 'XSmBusinessRelation';
            let defaultSortField = 'Name';
            let defaultSortDirection = 'asc';
            let defaultSearchKeyword = 'Code, Name';

            return DTService.GenerateDTInstance(modelName, defaultSortField, defaultSortDirection, filterObject, defaultSearchKeyword, pageLength, afterRequestData);
        };

        service.List = async function () {
            let request = {
                modelName: 'XSmBusinessRelation',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XSmBusinessRelation',
                fieldNames: ['Code', 'Description', 'ShortName'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: 'true' }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XSmBusinessRelationR',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            let response = await BackEndService.RequestDataSingle(request);

            return response.data;
        };

        service.Save = async function (data) {
            let request = {
                actionController: 'CustomerController',
                actionName: 'Save',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.getData_AddressItem = async function (code) {
            let request = {
                modelName: 'XSmAddress',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'BusinessRelationCode', Operator: '=', Value: code }],
                sortList: ['AddressTypeCode asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.getData_ContactItem = async function () {
            let ContactMapping = [
                {
                    TypeCode: 'BLG',
                    Name: 'Jowo Wirawan',
                    Gender: 'M',
                    Position: 'Direktur',
                    PhoneNumber: '021-8990 2828',
                    FaxNumber: '021-8990 9999',
                    EmailAddress: 'harmonijayasejahtera@gmail.com',
                    Number: 1,

                    XCode: '',
                    ExistingItem: false,
                    Deleted: false,
                    recordNumber: 0,
                    processRecord: false,
                    selectedData: '',
                    XContactCode: '',
                },
            ];

            let response = {
                data: {
                    Data: ContactMapping,
                },
            };

            return response.data.Data;
        };

        service.getData_Gender = async function () {
            var request = {
                modelName: 'XGender',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = {
                data: {
                    Data: [
                        {
                            Code: 'M',
                            Name: 'Male',
                        },
                        {
                            Code: 'F',
                            Name: 'Female',
                        },
                    ],
                },
            };

            // TODO
            // successCallBack(response);

            //let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.getData_BankItem = async function (code) {
            let BankMapping = [
                {
                    BRCode: 'H/0052',
                    BankAccountNumber: '0001',
                    InfoLine1: 'HARMONI JAYA SEJAHTERA',
                    InfoLine2: 'BRI',
                    XCode: '',
                    ExistingItem: false,
                    Deleted: false,
                    recordNumber: 0,
                    processRecord: false,
                    selectedData: '',
                    XBankCode: '',
                },
            ];

            try {
                let filteredData = BankMapping.filter((item) => item.BRCode === code);

                if (filteredData.length === 0) {
                    throw new Error('Data not found for the given code: ' + code);
                }

                let response = {
                    data: {
                        Data: filteredData,
                    },
                };

                return response.data.Data;
            } catch (error) { }
        };

        service.getData_TaxZone = async function (code) {
            var request = {
                modelName: 'XTaxZone',
                fieldNames: ['Code', 'Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = {
                data: {
                    Data: [
                        {
                            Code: '01',
                            Description: 'Non Ppn',
                        },
                        {
                            Code: '02',
                            Description: 'Ppn',
                        },
                    ],
                },
            };

            // TODO
            // successCallBack(response);

            //let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.getData_WarehouseItem = async function (code) {
            let WarehouseMapping = [
                {
                    BRCode: 'H/0052',
                    WarehouseCode: 'JTGL',
                    WarehouseName: 'J Tegal',
                    XCode: '',
                    ExistingItem: false,
                    Deleted: false,
                    recordNumber: 0,
                    processRecord: false,
                    selectedData: '',
                    XWarehouseCode: '',
                },
                {
                    BRCode: 'H/0052',
                    WarehouseCode: 'PBGR',
                    WarehouseName: 'P Bogor',
                    XCode: '',
                    ExistingItem: false,
                    Deleted: false,
                    recordNumber: 0,
                    processRecord: false,
                    selectedData: '',
                    XWarehouseCode: '',
                },
                {
                    BRCode: 'H/0052',
                    WarehouseCode: 'DS',
                    WarehouseName: 'DS (Obsolete)',
                    XCode: '',
                    ExistingItem: false,
                    Deleted: false,
                    recordNumber: 0,
                    processRecord: false,
                    selectedData: '',
                    XWarehouseCode: '',
                },
            ];

            try {
                let filteredData = WarehouseMapping.filter((item) => item.BRCode === code);

                if (filteredData.length === 0) {
                    throw new Error('Data not found for the given code: ' + code);
                }

                let response = {
                    data: {
                        Data: filteredData,
                    },
                };

                return response.data.Data;
            } catch (error) { }
        };

        service.getData_CustomerType = async function () {
            var request = {
                modelName: 'XCustomerType',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = {
                data: {
                    Data: [
                        {
                            Code: '01',
                            Name: 'Toko',
                        },
                        {
                            Code: 'CM',
                            Name: 'Construction Management',
                        },
                        {
                            Code: 'CS',
                            Name: 'Consultant',
                        },
                        {
                            Code: 'DS',
                            Name: 'Distributor',
                        },
                        {
                            Code: 'DV',
                            Name: 'Developer',
                        },
                        {
                            Code: 'MC',
                            Name: 'Main Contractor',
                        },
                    ],
                },
            };

            // TODO
            // successCallBack(response);

            //let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.getData_BusinessLine = async function () {
            var request = {
                modelName: 'XBusinessLine',
                fieldNames: ['Code', 'Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = {
                data: {
                    Data: [
                        {
                            Code: 'HR',
                            Description: 'High Rise Building',
                        },
                        {
                            Code: 'IF',
                            Description: 'Infrastructure',
                        },
                        {
                            Code: 'IN',
                            Description: 'Industrial',
                        },
                        {
                            Code: 'MN',
                            Description: 'Mining',
                        },
                        {
                            Code: 'OG',
                            Description: 'Oil and Gas',
                        },
                        {
                            Code: 'PN',
                            Description: 'Plantation',
                        },
                        {
                            Code: 'RS',
                            Description: 'Residential',
                        },
                    ],
                },
            };

            // TODO
            // successCallBack(response);

            //let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.getData_BusinessRelationGroup = async function () {
            var request = {
                modelName: 'XBusinessRelationGroup',
                fieldNames: ['Code', 'Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = {
                data: {
                    Data: [
                        {
                            Code: 'Group 1',
                            Description: 'keterangan Group 1',
                        },
                    ],
                },
            };

            // TODO
            // successCallBack(response);

            //let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.getData_BusinessRelationTitle = async function () {
            var request = {
                modelName: 'XBusinessRelationTitle',
                fieldNames: ['Code', 'Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = {
                data: {
                    Data: [
                        {
                            Code: '01',
                            Description: 'PD',
                        },
                        {
                            Code: '02',
                            Description: 'TB',
                        },
                        {
                            Code: '03',
                            Description: 'Toko',
                        },
                        {
                            Code: '04',
                            Description: 'UD',
                        },
                        {
                            Code: '05',
                            Description: 'PT',
                        },
                        {
                            Code: '06',
                            Description: 'PB',
                        },
                        {
                            Code: '07',
                            Description: 'CV',
                        },
                    ],
                },
            };

            // TODO
            // successCallBack(response);

            //let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.getData_CorporateSize = async function () {
            var request = {
                modelName: 'XCorporateSize',
                fieldNames: ['Code', 'Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = {
                data: {
                    Data: [
                        {
                            Code: 'small',
                            Description: 'Small',
                        },
                        {
                            Code: 'medium',
                            Description: 'Medium',
                        },
                        {
                            Code: 'enterprise',
                            Description: 'Enterprise',
                        },
                    ],
                },
            };

            // TODO
            // successCallBack(response);

            //let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.List_Privacy = async function (code) {
            let request = {
                modelName: 'XSmBusinessRelationLocationR',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'BRCode', Operator: '=', Value: code }],
                sortList: ['Name asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        return service;
    },
]);

angular.module('app.erp').controller('UserListCtrl', function ($rootScope, $scope, Utility_ERP, UserList_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 10;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.statusOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Active' },
        { Value: false, Text: 'Inactive' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Employee: { PropertyName: 'LinkedEmployee', Operator: 'contains', Value: '' },
        Status: { PropertyName: 'UserStatus', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = UserList_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['User Name', 'UserName', 'UserName', 'Text', true],
            ['Linked Employee', 'LinkedEmployee', 'LinkedEmployee', 'Text', true],
            ['Role', 'Role', 'Role', 'Text', true],
            ['Last Login', 'LastLogin', 'LastLogin', 'DateTime', true],
            ['User Status', 'UserStatus', 'UserStatus', 'UserStatus', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.SaveFilterState('UserList', $scope);

        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);
    };

    async function Override_some_Filters() { }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('UserList', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('UserFormCtrl', function ($rootScope, $scope, $state, Utility_ERP, UserForm_Service) {

    // Initialize variables
    $scope.Is_Writeable = true;
    $scope.Is_Create = true;
    $scope.form = { submitted: false };
    $scope.allData_toJson = false;

    // Initialize model
    $scope.model = {
        Employee: '',
        FullName: '',
        EmailAddress: '',
        Password: '',
        ConfirmPassword: '',
        AssignRole: ''
    };

    // Data for dropdowns
    $scope.data_Roles = [
        { Code: 'ADMIN', Name: 'Admin' },
        { Code: 'SUPERVISOR', Name: 'Supervisor' },
        { Code: 'MANAGER', Name: 'Manager' },
        { Code: 'APPROVER', Name: 'Approver' }
    ];

    // Initialize function
    $scope.init = function () {
        var params = $state.params;

        if (params && params.id) {
            $scope.Is_Create = false;
            $scope.loadData(params.id);
        }
    };

    // Load existing data
    $scope.loadData = function (id) {
        $('#idLoading').show();

        UserForm_Service.getById(id).then(function (response) {
            if (response.data.success) {
                $scope.model = response.data.data;
            } else {
                Utility_ERP.showAlert('Error', response.data.message, 'error');
            }
            $('#idLoading').hide();
        }, function (error) {
            Utility_ERP.showAlert('Error', 'Failed to load data', 'error');
            $('#idLoading').hide();
        });
    };

    // Save data
    $scope.saveData = function () {
        $scope.form.submitted = true;

        // Validation
        if (!$scope.model.Employee || !$scope.model.FullName || !$scope.model.EmailAddress ||
            !$scope.model.Password || !$scope.model.ConfirmPassword || !$scope.model.AssignRole) {
            Utility_ERP.showAlert('Validation Error', 'Please fill all required fields', 'warning');
            return;
        }

        // Check password match
        if ($scope.model.Password !== $scope.model.ConfirmPassword) {
            Utility_ERP.showAlert('Validation Error', 'Passwords do not match', 'warning');
            return;
        }

        // Check password length
        if ($scope.model.Password.length < 8) {
            Utility_ERP.showAlert('Validation Error', 'Password must be at least 8 characters', 'warning');
            return;
        }

        $('#idLoading').show();

        var savePromise = $scope.Is_Create ?
            UserForm_Service.create($scope.model) :
            UserForm_Service.update($scope.model);

        savePromise.then(function (response) {
            if (response.data.success) {
                Utility_ERP.showAlert('Success', 'User saved successfully', 'success');
                $scope.sdr_GoBack();
            } else {
                Utility_ERP.showAlert('Error', response.data.message, 'error');
            }
            $('#idLoading').hide();
        }, function (error) {
            Utility_ERP.showAlert('Error', 'Failed to save user', 'error');
            $('#idLoading').hide();
        });
    };

    // Toggle debug scope
    $scope.Toggle_debugScope = function () {
        $scope.allData_toJson = !$scope.allData_toJson;
        if ($scope.allData_toJson) {
            $scope.allData_toJson2 = {
                model: $scope.model,
                data_Roles: $scope.data_Roles
            };
        }
    };

    // Initialize on load
    $scope.init();
});
angular.module('app.erp').controller('WarehouseCtrl', function ($rootScope, $scope, Utility_ERP, Warehouse_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.statusOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Active' },
        { Value: false, Text: 'Inactive' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Status: { PropertyName: 'Status', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = Warehouse_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Warehouse Code', 'Code', 'Code', 'Text', true],
            ['Warehouse Name', 'Name', 'Name', 'Text', true],
            ['Sub Account', 'SubAccount', 'SubAccount', 'Text', true],
            ['Status', 'Status', 'Status', 'Status', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.SaveFilterState('Warehouse', $scope);

        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);
    };

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('Warehouse', $scope);

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('WarehouseFormCtrl', function ($rootScope, $scope, Utility_ERP, Warehouse_Service, Personels_Service) {
    $scope.getData_Personels = async function (val) {
        return await Personels_Service.Dropdown(val, 'SO');
    };
});






angular.module('app.erp').controller('AssemblyOrdersCtrl', function ($rootScope, $scope, Utility_ERP, AssemblyOrders_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Warehouse: { PropertyName: 'WarehouseCode', Operator: 'in', Value: '' },
        Reason: { PropertyName: 'ReasonCode', Operator: 'in', Value: '' },
        DueDateFrom_date: { PropertyName: 'DueDate', Operator: '>=', Value: '' },
        DueDateTo_date: { PropertyName: 'DueDate', Operator: '<=', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedWarehouse = '';
    $scope.selectedReason = '';
    $scope.selectedDueDateFrom = '';
    $scope.selectedDueDateTo = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_EmployeeWarehouseAccess = [];
    $scope.data_Warehouse_perBranch = [];
    $scope.data_Reason = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = AssemblyOrders_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Order Nr.', 'OrderNr', 'OrderNr', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Warehouse', 'Warehouse', 'Warehouse', 'Text', true],
            ['Reason', 'Reason', 'Reason', 'Text', true],
            ['Item', 'Item', 'Item', 'Text', true],
            ['Qty', 'Qty', 'Qty', 'Number', true],
            ['Issued By', 'IssuedBy', 'IssuedBy', 'Text', true],
            ['Status', 'Status', 'Status', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedWarehouse) {
            $scope.filters.Warehouse.Operator = 'in';
            $scope.filters.Warehouse.Value = Utility_ERP.Value_OperatorIN_($scope.data_Warehouse_perBranch, 'Code');
        } else {
            $scope.filters.Warehouse.Operator = '=';
            $scope.filters.Warehouse.Value = $scope.selectedWarehouse;
        }

        if (!$scope.selectedReason) {
            $scope.filters.Reason.Operator = 'in';
            $scope.filters.Reason.Value = Utility_ERP.Value_OperatorIN_($scope.data_Reason, 'Code');
        } else {
            $scope.filters.Reason.Operator = '=';
            $scope.filters.Reason.Value = $scope.selectedReason;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        $scope.filters.DueDateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDueDateFrom);
        $scope.filters.DueDateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDueDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('AssemblyOrders', $scope);

        delete $scope.filters['selectedShowAll'];
    };

    $scope.Branch_Changed = async function () {
        // --  untuk Page ini, setiap kali Branch berubah --> maka Warehouse ke posisi "All"
        // reset
        $scope.selectedWarehouse = '';

        $scope.Reorganize_Warehouse();

        await $scope.showData();
    };

    $scope.Reorganize_Warehouse = function () {
        var data = [];

        if (!$scope.selectedBranch) {
            // tanpa Filter Branch
            data = $scope.data_EmployeeWarehouseAccess;
        } else {
            // filter berdasarkan Branch
            data = $scope.data_EmployeeWarehouseAccess.filter(function (e) {
                return e.LocationCode == $scope.selectedBranch;
            });
        }

        $scope.data_Warehouse_perBranch = [...new Map(data.map((item) => [item['Code'], item])).values()].sort((x, y) => x.Code.localeCompare(y.Code));
    };

    $scope.getData_Reason = async function () {
        $scope.data_Reason = await AssemblyOrders_Service.Dropdown_Reason();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('AssemblyOrder');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let warehouse = $scope.filters.Warehouse.Value;
        if (warehouse && typeof warehouse === 'string' && warehouse.indexOf('(') >= 0) warehouse = '';
        $scope.selectedWarehouse = warehouse;

        let reason = $scope.filters.Reason.Value;
        if (reason && typeof reason === 'string' && reason.indexOf('(') >= 0) reason = '';
        $scope.selectedReason = reason;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $rootScope.EmployeeWarehouseAccess($scope, ''),
            $scope.getData_Reason(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('AssemblyOrders', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.Reorganize_Warehouse();

        $scope.showData();
    };

    $scope.verifyAssemblyClick = async function () {
        // Implement verify assembly functionality
    };

    $scope.printForm = async function () {
        // Implement print functionality
    };

    $scope.voidClick = async function () {
        // Implement void functionality
    };

    $scope.initialize_Page();
});


angular.module('app.erp').controller('AssetDisposalsCtrl', function ($rootScope, $scope, Utility_ERP, AssetDisposals_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = AssetDisposals_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Short Name', 'ShortName', 'ShortName', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['Active', 'Active', 'Active', 'Boolean', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('AssetDisposals', $scope);
    };

    ;

    async function Override_some_Filters() {
        // No additional filter overrides needed for this page
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('AssetDisposals', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.downloadSchema = async function () {
        // TODO: Implement download schema functionality
    };

    $scope.uploadFile = async function () {
        // TODO: Implement upload functionality
    };

    $scope.initialize_Page();
});


angular.module('app.erp').controller('AssetsCtrl', function ($rootScope, $scope, Utility_ERP, Assets_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Type: { PropertyName: 'TypeCode', Operator: 'in', Value: '' },
        AcquisitionDateFrom_date: { PropertyName: 'AcquisitionDate', Operator: '>=', Value: '' },
        AcquisitionDateTo_date: { PropertyName: 'AcquisitionDate', Operator: '<=', Value: '' },
        DisposalDateFrom_date: { PropertyName: 'DisposalDate', Operator: '>=', Value: '' },
        DisposalDateTo_date: { PropertyName: 'DisposalDate', Operator: '<=', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedType = '';
    $scope.selectedAcquisitionDateFrom = '';
    $scope.selectedAcquisitionDateTo = '';
    $scope.selectedDisposalDateFrom = '';
    $scope.selectedDisposalDateTo = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_Type = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = Assets_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Serial Number', 'SerialNumber', 'SerialNumber', 'Text', true],
            ['Type', 'Type', 'Type', 'Text', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Name', 'Name', 'Name', 'Text', true],
            ['Acquisition Date', 'AcquisitionDate', 'AcquisitionDate', 'Date', true],
            ['Expected Disposal Date', 'ExpectedDisposalDate', 'ExpectedDisposalDate', 'Date', true],
            ['Salvage Value', 'SalvageValue', 'SalvageValue', 'Currency', true],
            ['Acq. Cost', 'AcqCost', 'AcqCost', 'Currency', true],
            ['Depreciated', 'Depreciated', 'Depreciated', 'Currency', true],
            ['Warrantied', 'Warrantied', 'Warrantied', 'Boolean', true],
            ['Warranty Exp. Date', 'WarrantyExpDate', 'WarrantyExpDate', 'Date', true],
            ['Status', 'Status', 'Status', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedType) {
            $scope.filters.Type.Operator = 'in';
            $scope.filters.Type.Value = Utility_ERP.Value_OperatorIN_($scope.data_Type, 'Code');
        } else {
            $scope.filters.Type.Operator = '=';
            $scope.filters.Type.Value = $scope.selectedType;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        $scope.filters.AcquisitionDateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedAcquisitionDateFrom);
        $scope.filters.AcquisitionDateTo_date.Value = $rootScope.Date_to_DB($scope.selectedAcquisitionDateTo);

        $scope.filters.DisposalDateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDisposalDateFrom);
        $scope.filters.DisposalDateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDisposalDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('Assets', $scope);

        delete $scope.filters['selectedShowAll'];
    };

    $scope.getData_Type = async function () {
        $scope.data_Type = await Assets_Service.Dropdown_Type();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('Asset');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';
        $scope.selectedBranch = branch;

        let type = $scope.filters.Type.Value;
        if (type && typeof type === 'string' && type.indexOf('(') >= 0) type = '';
        $scope.selectedType = type;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_Type(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('Assets', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.disposeClick = async function () {
        // Implement dispose functionality
    };

    $scope.downloadSchemaClick = async function () {
        // Implement download schema functionality
    };

    $scope.uploadClick = async function () {
        // Implement upload functionality
    };

    $scope.initialize_Page();
});
// ini file Controller.js

angular.module('app.erp').controller('AssetTypesCtrl', function ($rootScope, $scope, Utility_ERP, AssetTypes_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = AssetTypes_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('AssetTypes', $scope);
    };

    ;

    async function Override_some_Filters() {
        // No special overrides needed for this simple page
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('AssetTypes', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('BranchAllocationCtrl', function ($rootScope, $scope, Utility_ERP, BranchAllocation_Service, Inventory_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Warehouse: { PropertyName: 'WarehouseCode', Operator: 'in', Value: '' },
        Brand: { PropertyName: 'Brand', Operator: 'in', Value: '' },
        Profile: { PropertyName: 'Profile', Operator: 'in', Value: '' },
        Category: { PropertyName: 'CategoryCode', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedWarehouse = '';
    $scope.selectedBrand = '';
    $scope.selectedProfile = '';
    $scope.selectedCategory = '';

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_EmployeeWarehouseAccess = [];
    $scope.data_Warehouse_perBranch = [];
    $scope.data_Brand = [];
    $scope.data_Profile = [];
    $scope.data_Category = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = BranchAllocation_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Item Code', 'ItemCode', 'ItemCode', 'Text', true],
            ['Item Name', 'ItemName', 'ItemName', 'Text', true],
            ['Brand', 'Brand', 'Brand', 'Text', true],
            ['Category', 'Category', 'Category', 'Text', true],
            ['Uom', 'Uom', 'Uom', 'Text', true],
            ['Physical', 'Physical', 'Physical', 'Number', true],
            ['Available', 'Available', 'Available', 'Number', true],
            ['Peksi %', 'PeksiPercent', 'PeksiPercent', 'Number', true],
            ['Trikaya %', 'TrikayaPercent', 'TrikayaPercent', 'Number', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedWarehouse) {
            $scope.filters.Warehouse.Operator = 'in';
            $scope.filters.Warehouse.Value = Utility_ERP.Value_OperatorIN_($scope.data_Warehouse_perBranch, 'Code');
        } else {
            $scope.filters.Warehouse.Operator = '=';
            $scope.filters.Warehouse.Value = $scope.selectedWarehouse;
        }

        if (!$scope.selectedBrand) {
            $scope.filters.Brand.Operator = 'in';
            $scope.filters.Brand.Value = Utility_ERP.Value_OperatorIN_($scope.data_Brand, 'Code');
        } else {
            $scope.filters.Brand.Operator = '=';
            $scope.filters.Brand.Value = $scope.selectedBrand;
        }

        if (!$scope.selectedProfile) {
            $scope.filters.Profile.Operator = 'in';
            $scope.filters.Profile.Value = Utility_ERP.Value_OperatorIN_($scope.data_Profile, 'Code');
        } else {
            $scope.filters.Profile.Operator = '=';
            $scope.filters.Profile.Value = $scope.selectedProfile;
        }

        if (!$scope.selectedCategory) {
            $scope.filters.Category.Operator = 'in';
            $scope.filters.Category.Value = Utility_ERP.Value_OperatorIN_($scope.data_Category, 'Code');
        } else {
            $scope.filters.Category.Operator = '=';
            $scope.filters.Category.Value = $scope.selectedCategory;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('BranchAllocation', $scope);
    };

    $scope.Branch_Changed = async function () {
        // reset
        $scope.selectedWarehouse = '';

        $scope.Reorganize_Warehouse();

        await $scope.showData();
    };

    $scope.Reorganize_Warehouse = function () {
        var data = [];

        if (!$scope.selectedBranch) {
            // tanpa Filter Branch
            data = $scope.data_EmployeeWarehouseAccess;
        } else {
            // filter berdasarkan Branch
            data = $scope.data_EmployeeWarehouseAccess.filter(function (e) {
                return e.LocationCode == $scope.selectedBranch;
            });
        }

        $scope.data_Warehouse_perBranch = [...new Map(data.map((item) => [item['Code'], item])).values()].sort((x, y) => x.Code.localeCompare(y.Code));
    };

    $scope.getData_Brand = async function () {
        $scope.data_Brand = await Inventory_Service.Dropdown_Brand();
    };

    $scope.getData_Profile = async function () {
        $scope.data_Profile = await Inventory_Service.Dropdown_Profile();
    };

    $scope.getData_Category = async function () {
        $scope.data_Category = await Inventory_Service.Dropdown_Category();
    };

    

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let warehouse = $scope.filters.Warehouse.Value;
        if (warehouse && typeof warehouse === 'string' && warehouse.indexOf('(') >= 0) warehouse = '';
        $scope.selectedWarehouse = warehouse;

        let brand = $scope.filters.Brand.Value;
        if (brand && typeof brand === 'string' && brand.indexOf('(') >= 0) brand = '';
        $scope.selectedBrand = brand;

        let profile = $scope.filters.Profile.Value;
        if (profile && typeof profile === 'string' && profile.indexOf('(') >= 0) profile = '';
        $scope.selectedProfile = profile;

        let category = $scope.filters.Category.Value;
        if (category && typeof category === 'string' && category.indexOf('(') >= 0) category = '';
        $scope.selectedCategory = category;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $rootScope.EmployeeWarehouseAccess($scope, ''),
            $scope.getData_Brand(),
            $scope.getData_Profile(),
            $scope.getData_Category()
        ]);

        $rootScope.LoadFilterState('BranchAllocation', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.Reorganize_Warehouse();

        $scope.showData();
    };

    $scope.saveData = async function () {
        // Implementation for save functionality
    }

    $scope.initialize_Page();
});
angular.module('app.erp').controller('BrandFormCtrl', function ($rootScope, $scope, Utility_ERP, Brands_Service) {

});

angular.module('app.erp').controller('BrandsCtrl', function ($rootScope, $scope, Utility_ERP, Brands_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = Brands_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['', 'Active', 'Active', 'Boolean', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('Brand', $scope);
    };

    

    async function Override_some_Filters() { }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('Brand', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});

angular.module('app.erp').controller('CategoriesCtrl', function ($rootScope, $scope, BackEndService, Utility_ERP, Categories_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 10000;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10000];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
        Parent: { PropertyName: 'ParentCode', Operator: '=', Value: null },
    };

    $scope.selectedParent = '';

    // some Functions
    var loadData_Custom = async function () {
        var request = {
            modelName: $scope.dt.dataModel,
            maximumResult: ($scope.dt.pageLength <= 100) ? $scope.dt.pageLength : 100,
            fieldNames: ['*'],

            sortList: [$scope.dt.activeSortField + ' ' + $scope.dt.activeSortDirection],
            pageNumber: $scope.dt.currentPage,
        };

        $scope.dt.applyFilters(request);

        $scope.dt.loading = true;

        // reset
        $scope.dt.data = [];
        //dt.totalRows = 0;
        //dt.totalPages = 0;

        let response = await BackEndService.RequestDataList_X(request);
        $scope.dt.loading = false;

        if (response.success) {
            // request data success
            $scope.dt.data = response.data.Data;
            $scope.dt.totalRows = response.data.TotalRows;
            if ($scope.dt.totalRows < $scope.dt.pageLength) $scope.dt.totalPages = 1;
            else $scope.dt.totalPages = Math.ceil($scope.dt.totalRows / $scope.dt.pageLength);

            var kolom_id = 'Code';
            var kolom_parent_id = 'ParentCode';
            var kolom_code = 'Code';
            var kolom_desc = 'Description';

            $scope.dt.treeData = Utility_ERP.sdr_BuildFlatTreeData($scope, kolom_id, kolom_parent_id, kolom_code, kolom_desc);
        } else {
            // request data failed
            // show Error: sudah dihandle oleh SmartAdmin - function notifyError() menggunakan $.bigBox()
        }

        BackEndService.Log_Activity();
    };


    $scope.CreateTable = function () {
        $scope.dt = Categories_Service.Table($scope);

        $scope.dt.loadData = loadData_Custom;

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            //['Description', 'Description', 'Description', 'Text', true],
            // ['Parent', 'ParentCode', 'ParentCode', 'ParentName', true],
            // ['Level Type', 'LevelType', 'LevelType', 'Text', true],
            // ['Item Type', 'ItemType', 'ItemType', 'Number', true],
            ['', 'Active', 'Active', 'Boolean', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $scope.filters['selectedParent'] = $scope.selectedParent;

        $rootScope.SaveFilterState('Category', $scope);

        delete $scope.filters['selectedParent'];

        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);
    };



    $scope.getData_Parent = function (val) {
        return Categories_Service.Dropdown_Category2(val);
    };

    async function Override_some_Filters() {
        if ($scope.LoadFilterState_) {
            $scope.selectedParent = $scope.filters['selectedParent'];
            delete $scope.filters['selectedParent'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('Category', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});

angular.module('app.erp').controller('CategoriesXCtrl', function ($rootScope, $scope, BackEndService, Utility_ERP, Categories_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 10000;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10000];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
        Parent: { PropertyName: 'ParentCode', Operator: '=', Value: null },
    };

    $scope.selectedParent = '';

    // some Functions
    var loadData_Custom = async function () {
        var request = {
            modelName: $scope.dt.dataModel,
            maximumResult: ($scope.dt.pageLength <= 100) ? $scope.dt.pageLength : 100,
            fieldNames: ['*'],

            sortList: [$scope.dt.activeSortField + ' ' + $scope.dt.activeSortDirection],
            pageNumber: $scope.dt.currentPage,
        };

        $scope.dt.applyFilters(request);

        $scope.dt.loading = true;

        // reset
        $scope.dt.data = [];
        //dt.totalRows = 0;
        //dt.totalPages = 0;

        let response = await BackEndService.RequestDataList_X(request);
        $scope.dt.loading = false;

        if (response.success) {
            // request data success
            $scope.dt.data = response.data.Data;
            $scope.dt.totalRows = response.data.TotalRows;
            if ($scope.dt.totalRows < $scope.dt.pageLength) $scope.dt.totalPages = 1;
            else $scope.dt.totalPages = Math.ceil($scope.dt.totalRows / $scope.dt.pageLength);

            var kolom_id = 'AccountId';
            var kolom_parent_id = 'ParentId';
            var kolom_code = 'AccountCode';
            var kolom_desc = 'Description';

            $scope.dt.treeData = Utility_ERP.sdr_BuildFlatTreeData($scope, kolom_id, kolom_parent_id, kolom_code, kolom_desc);
        } else {
            // request data failed
            // show Error: sudah dihandle oleh SmartAdmin - function notifyError() menggunakan $.bigBox()
        }

        BackEndService.Log_Activity();
    };


    $scope.CreateTable = function () {
        $scope.dt = Categories_Service.Table($scope);

        $scope.dt.loadData = loadData_Custom;

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['Parent', 'ParentCode', 'ParentCode', 'ParentName', true],
            ['Level Type', 'LevelType', 'LevelType', 'Text', true],
            ['Item Type', 'ItemType', 'ItemType', 'Number', true],
            ['', 'Active', 'Active', 'Boolean', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $scope.filters['selectedParent'] = $scope.selectedParent;

        $rootScope.SaveFilterState('Category', $scope);

        delete $scope.filters['selectedParent'];

        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);
    };



    $scope.getData_Parent = function (val) {
        return Categories_Service.Dropdown_Category2(val);
    };

    async function Override_some_Filters() {
        if ($scope.LoadFilterState_) {
            $scope.selectedParent = $scope.filters['selectedParent'];
            delete $scope.filters['selectedParent'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('Category', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});

angular.module('app.erp').controller('CategoryFormCtrl', function ($rootScope, $scope, Utility_ERP, Categories_Service) {
});

angular.module('app.erp').controller('ComparisonPanelCtrl', function ($rootScope, $scope, Utility_ERP, ComparisonPanel_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = ComparisonPanel_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Short Name', 'ShortName', 'ShortName', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['Active', 'Active', 'Active', 'Boolean', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('ComparisonPanel', $scope);
    };

    ;

    async function Override_some_Filters() {
        // No additional filter overrides needed for this page
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('ComparisonPanel', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.downloadSchema = async function () {
        // TODO: Implement download schema functionality
    };

    $scope.uploadFile = async function () {
        // TODO: Implement upload functionality
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('ContractPositionCtrl', function ($rootScope, $scope, Utility_ERP, ContractPosition_Service, Inventory_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Contract: { PropertyName: 'ContractCode', Operator: 'in', Value: '' },
        Profile: { PropertyName: 'Profile', Operator: 'in', Value: '' },
        Brand: { PropertyName: 'Brand', Operator: 'in', Value: '' },
        Category: { PropertyName: 'CategoryCode', Operator: 'in', Value: '' },
    };

    $scope.selectedContract = '';
    $scope.selectedProfile = '';
    $scope.selectedBrand = '';
    $scope.selectedCategory = '';

    $scope.data_Contract = [];
    $scope.data_Profile = [];
    $scope.data_Brand = [];
    $scope.data_Category = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = ContractPosition_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Item Code', 'ItemCode', 'ItemCode', 'Text', true],
            ['Item Name', 'ItemName', 'ItemName', 'Text', true],
            ['Brand', 'Brand', 'Brand', 'Text', true],
            ['Category', 'Category', 'Category', 'Text', true],
            ['Uom', 'Uom', 'Uom', 'Text', true],
            ['Ordered', 'Ordered', 'Ordered', 'Number', true],
            ['Open', 'Open', 'Open', 'Number', true],
            ['On P/R', 'OnPR', 'OnPR', 'Number', true],
            ['On P/O', 'OnPO', 'OnPO', 'Number', true],
            ['Reserved', 'Reserved', 'Reserved', 'Number', true],
            ['Demand', 'Demand', 'Demand', 'Number', true],
            ['Shipment', 'Shipment', 'Shipment', 'Number', true],
            ['Picking', 'Picking', 'Picking', 'Number', true],
            ['Routing', 'Routing', 'Routing', 'Number', true],
            ['Manifest', 'Manifest', 'Manifest', 'Number', true],
            ['Delivery', 'Delivery', 'Delivery', 'Number', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedContract) {
            $scope.filters.Contract.Operator = 'in';
            $scope.filters.Contract.Value = Utility_ERP.Value_OperatorIN_($scope.data_Contract, 'Code');
        } else {
            $scope.filters.Contract.Operator = '=';
            $scope.filters.Contract.Value = $scope.selectedContract;
        }

        if (!$scope.selectedProfile) {
            $scope.filters.Profile.Operator = 'in';
            $scope.filters.Profile.Value = Utility_ERP.Value_OperatorIN_($scope.data_Profile, 'Code');
        } else {
            $scope.filters.Profile.Operator = '=';
            $scope.filters.Profile.Value = $scope.selectedProfile;
        }

        if (!$scope.selectedBrand) {
            $scope.filters.Brand.Operator = 'in';
            $scope.filters.Brand.Value = Utility_ERP.Value_OperatorIN_($scope.data_Brand, 'Code');
        } else {
            $scope.filters.Brand.Operator = '=';
            $scope.filters.Brand.Value = $scope.selectedBrand;
        }

        if (!$scope.selectedCategory) {
            $scope.filters.Category.Operator = 'in';
            $scope.filters.Category.Value = Utility_ERP.Value_OperatorIN_($scope.data_Category, 'Code');
        } else {
            $scope.filters.Category.Operator = '=';
            $scope.filters.Category.Value = $scope.selectedCategory;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('ContractPosition', $scope);
    };

    $scope.getData_Contract = async function () {
        $scope.data_Contract = await Inventory_Service.Dropdown_Contract();
    };

    $scope.getData_Profile = async function () {
        $scope.data_Profile = await Inventory_Service.Dropdown_Profile();
    };

    $scope.getData_Brand = async function () {
        $scope.data_Brand = await Inventory_Service.Dropdown_Brand();
    };

    $scope.getData_Category = async function () {
        $scope.data_Category = await Inventory_Service.Dropdown_Category();
    };

    

    async function Override_some_Filters() {
        let contract = $scope.filters.Contract.Value;
        if (contract && typeof contract === 'string' && contract.indexOf('(') >= 0) contract = '';
        $scope.selectedContract = contract;

        let profile = $scope.filters.Profile.Value;
        if (profile && typeof profile === 'string' && profile.indexOf('(') >= 0) profile = '';
        $scope.selectedProfile = profile;

        let brand = $scope.filters.Brand.Value;
        if (brand && typeof brand === 'string' && brand.indexOf('(') >= 0) brand = '';
        $scope.selectedBrand = brand;

        let category = $scope.filters.Category.Value;
        if (category && typeof category === 'string' && category.indexOf('(') >= 0) category = '';
        $scope.selectedCategory = category;
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $scope.getData_Contract(),
            $scope.getData_Profile(),
            $scope.getData_Brand(),
            $scope.getData_Category()
        ]);

        $rootScope.LoadFilterState('ContractPosition', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('CostGroupFormCtrl', function ($rootScope, $scope, Utility_ERP, CostGroups_Service) {
});
angular.module('app.erp').controller('CostGroupsCtrl', function ($rootScope, $scope, Utility_ERP, CostGroups_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = CostGroups_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Description', 'Name', 'Name', 'Text', true],
            ['', 'Active', 'Active', 'Boolean', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('CostGroup', $scope);
    };

    

    async function Override_some_Filters() { }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('CostGroup', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});



// ini file Controller.js

angular.module('app.erp').controller('CountVerificationCtrl', function ($rootScope, $scope, Utility_ERP, CountVerification_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = CountVerification_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Sheet #', 'SheetNo', 'SheetNo', 'Text', true],
            ['Sheet Name', 'SheetName', 'SheetName', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Counter', 'Counter', 'Counter', 'Text', true],
            ['Noter', 'Noter', 'Noter', 'Text', true],
            ['Diff %', 'DiffPct', 'DiffPct', 'Number', true],
            ['Status', 'Status', 'Status', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('CountVerification', $scope);
    };

    ;

    async function Override_some_Filters() {
        // No additional filters to override for this page
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('CountVerification', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.applySheet = async function () {
        // Implementation for Apply Sheet action
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('DeliveredClosedDoSelectionCtrl', function ($rootScope, $scope, Utility_ERP, DeliveredClosedDoSelection_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = DeliveredClosedDoSelection_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Shipment #', 'ShipmentNo', 'ShipmentNo', 'Text', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Warehouse', 'Warehouse', 'Warehouse', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Source Type', 'SourceType', 'SourceType', 'Text', true],
            ['Source Nr.', 'SourceNr', 'SourceNr', 'Text', true],
            ['Consignee', 'Consignee', 'Consignee', 'Text', true],
            ['Delivered Date', 'DeliveredDate', 'DeliveredDate', 'Date', true],
            ['Status', 'Status', 'Status', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('DeliveredClosedDoSelection', $scope);
    };

    ;

    async function Override_some_Filters() {
        // No additional filters to override for this page
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('DeliveredClosedDoSelection', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.addSelection = async function () {
        // Implementation for Add action
    };

    $scope.initialize_Page();
});
// ini file Controller.js

angular.module('app.erp').controller('DisassemblyOrdersCtrl', function ($rootScope, $scope, Utility_ERP, DisassemblyOrders_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = DisassemblyOrders_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Short Name', 'ShortName', 'ShortName', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['Active', 'Active', 'Active', 'Boolean', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('DisassemblyOrders', $scope);
    };

    ;

    async function Override_some_Filters() {
        // No additional filter overrides needed for this page
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('DisassemblyOrders', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.downloadSchema = async function () {
        // TODO: Implement download schema functionality
    };

    $scope.uploadFile = async function () {
        // TODO: Implement upload functionality
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('DisposalMethodsCtrl', function ($rootScope, $scope, Utility_ERP, DisposalMethods_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = DisposalMethods_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['', 'Active', 'Active', 'Boolean', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('DisposalMethod', $scope);
    };

    

    async function Override_some_Filters() { }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('DisposalMethod', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});

angular.module('app.erp').controller('DisposalMethodsFormCtrl', function ($rootScope, $scope, Utility_ERP, DisposalMethods_Service) {
});
angular.module('app.erp').controller('DropshipPositionsCtrl', function ($rootScope, $scope, Utility_ERP, DropshipPositions_Service, Inventory_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Warehouse: { PropertyName: 'WarehouseCode', Operator: 'in', Value: '' },
        Brand: { PropertyName: 'Brand', Operator: 'in', Value: '' },
        Profile: { PropertyName: 'Profile', Operator: 'in', Value: '' },
        Location: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Category: { PropertyName: 'CategoryCode', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        HideEmptyStock: { PropertyName: 'Outstanding', Operator: '>', Value: null },
    };

    $scope.selectedBranch = '';
    $scope.selectedWarehouse = '';
    $scope.selectedBrand = '';
    $scope.selectedProfile = '';
    $scope.selectedLocation = '';
    $scope.selectedCategory = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedHideEmptyStock = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_EmployeeWarehouseAccess = [];
    $scope.data_Warehouse_perBranch = [];
    $scope.data_Brand = [];
    $scope.data_Profile = [];
    $scope.data_Location = [];
    $scope.data_Category = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = DropshipPositions_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Item Code', 'ItemCode', 'ItemCode', 'Text', true],
            ['Item Name', 'ItemName', 'ItemName', 'Text', true],
            ['Brand', 'Brand', 'Brand', 'Text', true],
            ['Uom', 'Uom', 'Uom', 'Text', true],
            ['On P/R', 'OnPR', 'OnPR', 'Number', true],
            ['Outstanding', 'Outstanding', 'Outstanding', 'Number', true],
            ['Drafted', 'Drafted', 'Drafted', 'Number', true],
            ['Submitted', 'Submitted', 'Submitted', 'Number', true],
            ['Delivery', 'Delivery', 'Delivery', 'Number', true],
            ['Received', 'Received', 'Received', 'Number', true],
            ['Delivered', 'Delivered', 'Delivered', 'Number', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedWarehouse) {
            $scope.filters.Warehouse.Operator = 'in';
            $scope.filters.Warehouse.Value = Utility_ERP.Value_OperatorIN_($scope.data_Warehouse_perBranch, 'Code');
        } else {
            $scope.filters.Warehouse.Operator = '=';
            $scope.filters.Warehouse.Value = $scope.selectedWarehouse;
        }

        if (!$scope.selectedBrand) {
            $scope.filters.Brand.Operator = 'in';
            $scope.filters.Brand.Value = Utility_ERP.Value_OperatorIN_($scope.data_Brand, 'Code');
        } else {
            $scope.filters.Brand.Operator = '=';
            $scope.filters.Brand.Value = $scope.selectedBrand;
        }

        if (!$scope.selectedProfile) {
            $scope.filters.Profile.Operator = 'in';
            $scope.filters.Profile.Value = Utility_ERP.Value_OperatorIN_($scope.data_Profile, 'Code');
        } else {
            $scope.filters.Profile.Operator = '=';
            $scope.filters.Profile.Value = $scope.selectedProfile;
        }

        if (!$scope.selectedLocation) {
            $scope.filters.Location.Operator = 'in';
            $scope.filters.Location.Value = Utility_ERP.Value_OperatorIN_($scope.data_Location, 'Code');
        } else {
            $scope.filters.Location.Operator = '=';
            $scope.filters.Location.Value = $scope.selectedLocation;
        }

        if (!$scope.selectedCategory) {
            $scope.filters.Category.Operator = 'in';
            $scope.filters.Category.Value = Utility_ERP.Value_OperatorIN_($scope.data_Category, 'Code');
        } else {
            $scope.filters.Category.Operator = '=';
            $scope.filters.Category.Value = $scope.selectedCategory;
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        $scope.filters.HideEmptyStock.Value = null;
        if ($scope.selectedHideEmptyStock) {
            $scope.filters.HideEmptyStock.Value = 0;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedHideEmptyStock'] = $scope.selectedHideEmptyStock;

        $rootScope.SaveFilterState('DropshipPositions', $scope);

        delete $scope.filters['selectedHideEmptyStock'];
    };

    $scope.Branch_Changed = async function () {
        // reset
        $scope.selectedWarehouse = '';

        $scope.Reorganize_Warehouse();

        await $scope.showData();
    };

    $scope.Reorganize_Warehouse = function () {
        var data = [];

        if (!$scope.selectedBranch) {
            // tanpa Filter Branch
            data = $scope.data_EmployeeWarehouseAccess;
        } else {
            // filter berdasarkan Branch
            data = $scope.data_EmployeeWarehouseAccess.filter(function (e) {
                return e.LocationCode == $scope.selectedBranch;
            });
        }

        $scope.data_Warehouse_perBranch = [...new Map(data.map((item) => [item['Code'], item])).values()].sort((x, y) => x.Code.localeCompare(y.Code));
    };

    $scope.getData_Brand = async function () {
        $scope.data_Brand = await Inventory_Service.Dropdown_Brand();
    };

    $scope.getData_Profile = async function () {
        $scope.data_Profile = await Inventory_Service.Dropdown_Profile();
    };

    $scope.getData_Location = async function () {
        $scope.data_Location = await Inventory_Service.Dropdown_Location();
    };

    $scope.getData_Category = async function () {
        $scope.data_Category = await Inventory_Service.Dropdown_Category();
    };

    

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let warehouse = $scope.filters.Warehouse.Value;
        if (warehouse && typeof warehouse === 'string' && warehouse.indexOf('(') >= 0) warehouse = '';
        $scope.selectedWarehouse = warehouse;

        let brand = $scope.filters.Brand.Value;
        if (brand && typeof brand === 'string' && brand.indexOf('(') >= 0) brand = '';
        $scope.selectedBrand = brand;

        let profile = $scope.filters.Profile.Value;
        if (profile && typeof profile === 'string' && profile.indexOf('(') >= 0) profile = '';
        $scope.selectedProfile = profile;

        let location = $scope.filters.Location.Value;
        if (location && typeof location === 'string' && location.indexOf('(') >= 0) location = '';
        $scope.selectedLocation = location;

        let category = $scope.filters.Category.Value;
        if (category && typeof category === 'string' && category.indexOf('(') >= 0) category = '';
        $scope.selectedCategory = category;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedHideEmptyStock = $scope.filters['selectedHideEmptyStock'];
            delete $scope.filters['selectedHideEmptyStock'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $rootScope.EmployeeWarehouseAccess($scope, ''),
            $scope.getData_Brand(),
            $scope.getData_Profile(),
            $scope.getData_Location(),
            $scope.getData_Category()
        ]);

        $rootScope.LoadFilterState('DropshipPositions', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.Reorganize_Warehouse();

        $scope.showData();
    };

    $scope.printList = async function () {
        // Implementation for print list functionality
    }

    $scope.initialize_Page();
});
angular.module('app.erp').controller('InventoryAdjustmentsCtrl', function ($rootScope, $scope, Utility_ERP, InventoryAdjustments_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Warehouse: { PropertyName: 'WarehouseCode', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedWarehouse = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_EmployeeWarehouseAccess = [];
    $scope.data_Warehouse_perBranch = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = InventoryAdjustments_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Doc Nr.', 'DocNr', 'DocNr', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Warehouse', 'Warehouse', 'Warehouse', 'Text', true],
            ['Adj Qty', 'AdjQty', 'AdjQty', 'Number', true],
            ['Issued By', 'IssuedBy', 'IssuedBy', 'Text', true],
            ['Status', 'Status', 'Status', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedWarehouse) {
            $scope.filters.Warehouse.Operator = 'in';
            $scope.filters.Warehouse.Value = Utility_ERP.Value_OperatorIN_($scope.data_Warehouse_perBranch, 'Code');
        } else {
            $scope.filters.Warehouse.Operator = '=';
            $scope.filters.Warehouse.Value = $scope.selectedWarehouse;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('InventoryAdjustments', $scope);

        delete $scope.filters['selectedShowAll'];
    };

    $scope.Branch_Changed = async function () {
        // --  untuk Page ini, setiap kali Branch berubah --> maka Warehouse ke posisi "All"
        // reset
        $scope.selectedWarehouse = '';

        $scope.Reorganize_Warehouse();

        await $scope.showData();
    };

    $scope.Reorganize_Warehouse = function () {
        var data = [];

        if (!$scope.selectedBranch) {
            // tanpa Filter Branch
            data = $scope.data_EmployeeWarehouseAccess;
        } else {
            // filter berdasarkan Branch
            data = $scope.data_EmployeeWarehouseAccess.filter(function (e) {
                return e.LocationCode == $scope.selectedBranch;
            });
        }

        $scope.data_Warehouse_perBranch = [...new Map(data.map((item) => [item['Code'], item])).values()].sort((x, y) => x.Code.localeCompare(y.Code));
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('InventoryAdjustment');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let warehouse = $scope.filters.Warehouse.Value;
        if (warehouse && typeof warehouse === 'string' && warehouse.indexOf('(') >= 0) warehouse = '';
        $scope.selectedWarehouse = warehouse;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $rootScope.EmployeeWarehouseAccess($scope, ''),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('InventoryAdjustments', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.Reorganize_Warehouse();

        $scope.showData();
    };

    $scope.verifyClick = async function () {
        // Implement verify functionality
    };

    $scope.voidClick = async function () {
        // Implement void functionality
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('InventoryCountsCtrl', function ($rootScope, $scope, Utility_ERP, InventoryCounts_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Warehouse: { PropertyName: 'WarehouseCode', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        VerifiedDateFrom_date: { PropertyName: 'VerifiedDate', Operator: '>=', Value: '' },
        VerifiedDateTo_date: { PropertyName: 'VerifiedDate', Operator: '<=', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedWarehouse = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedVerifiedDateFrom = '';
    $scope.selectedVerifiedDateTo = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_EmployeeWarehouseAccess = [];
    $scope.data_Warehouse_perBranch = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = InventoryCounts_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Process Nr.', 'ProcessNr', 'ProcessNr', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Warehouse', 'Warehouse', 'Warehouse', 'Text', true],
            ['Issued By', 'IssuedBy', 'IssuedBy', 'Text', true],
            ['Notes', 'Notes', 'Notes', 'Text', true],
            ['Verified Date', 'VerifiedDate', 'VerifiedDate', 'Date', true],
            ['Status', 'Status', 'Status', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedWarehouse) {
            $scope.filters.Warehouse.Operator = 'in';
            $scope.filters.Warehouse.Value = Utility_ERP.Value_OperatorIN_($scope.data_Warehouse_perBranch, 'Code');
        } else {
            $scope.filters.Warehouse.Operator = '=';
            $scope.filters.Warehouse.Value = $scope.selectedWarehouse;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        $scope.filters.VerifiedDateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedVerifiedDateFrom);
        $scope.filters.VerifiedDateTo_date.Value = $rootScope.Date_to_DB($scope.selectedVerifiedDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('InventoryCounts', $scope);

        delete $scope.filters['selectedShowAll'];
    };

    $scope.Branch_Changed = async function () {
        // --  untuk Page ini, setiap kali Branch berubah --> maka Warehouse ke posisi "All"
        // reset
        $scope.selectedWarehouse = '';

        $scope.Reorganize_Warehouse();

        await $scope.showData();
    };

    $scope.Reorganize_Warehouse = function () {
        var data = [];

        if (!$scope.selectedBranch) {
            // tanpa Filter Branch
            data = $scope.data_EmployeeWarehouseAccess;
        } else {
            // filter berdasarkan Branch
            data = $scope.data_EmployeeWarehouseAccess.filter(function (e) {
                return e.LocationCode == $scope.selectedBranch;
            });
        }

        $scope.data_Warehouse_perBranch = [...new Map(data.map((item) => [item['Code'], item])).values()].sort((x, y) => x.Code.localeCompare(y.Code));
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('InventoryCount');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let warehouse = $scope.filters.Warehouse.Value;
        if (warehouse && typeof warehouse === 'string' && warehouse.indexOf('(') >= 0) warehouse = '';
        $scope.selectedWarehouse = warehouse;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $rootScope.EmployeeWarehouseAccess($scope, ''),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('InventoryCounts', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.Reorganize_Warehouse();

        $scope.showData();
    };

    $scope.addCountSheetClick = async function () {
        // Implement add count sheet functionality
    };

    $scope.verifyClick = async function () {
        // Implement verify functionality
    };

    $scope.deleteClick = async function () {
        // Implement delete functionality
    };

    $scope.printCountSheetClick = async function () {
        // Implement print count sheet functionality
    };

    $scope.printComparisonClick = async function () {
        // Implement print comparison functionality
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('InventoryIsolationsCtrl', function ($rootScope, $scope, Utility_ERP, InventoryIsolations_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Warehouse: { PropertyName: 'WarehouseCode', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        IsolationSourceType: { PropertyName: 'IsolationSourceTypeCode', Operator: 'in', Value: '' },
        IsolationSourceNr: { PropertyName: 'IsolationSourceNr', Operator: 'like', Value: null },
        Reason: { PropertyName: 'ReasonCode', Operator: 'in', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedWarehouse = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedIsolationSourceType = '';
    $scope.selectedReason = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_EmployeeWarehouseAccess = [];
    $scope.data_Warehouse_perBranch = [];
    $scope.data_IsolationSourceType = [];
    $scope.data_Reason = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = InventoryIsolations_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Doc Nr.', 'DocNr', 'DocNr', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Warehouse', 'Warehouse', 'Warehouse', 'Text', true],
            ['Reason', 'Reason', 'Reason', 'Text', true],
            ['Doc. Type', 'DocType', 'DocType', 'Text', true],
            ['Doc. Number', 'DocNumber', 'DocNumber', 'Text', true],
            ['Open Qty', 'OpenQty', 'OpenQty', 'Number', true],
            ['Total Qty', 'TotalQty', 'TotalQty', 'Number', true],
            ['Issued By', 'IssuedBy', 'IssuedBy', 'Text', true],
            ['Status', 'Status', 'Status', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedWarehouse) {
            $scope.filters.Warehouse.Operator = 'in';
            $scope.filters.Warehouse.Value = Utility_ERP.Value_OperatorIN_($scope.data_Warehouse_perBranch, 'Code');
        } else {
            $scope.filters.Warehouse.Operator = '=';
            $scope.filters.Warehouse.Value = $scope.selectedWarehouse;
        }

        if (!$scope.selectedIsolationSourceType) {
            $scope.filters.IsolationSourceType.Operator = 'in';
            $scope.filters.IsolationSourceType.Value = Utility_ERP.Value_OperatorIN_($scope.data_IsolationSourceType, 'Code');
        } else {
            $scope.filters.IsolationSourceType.Operator = '=';
            $scope.filters.IsolationSourceType.Value = $scope.selectedIsolationSourceType;
        }

        if (!$scope.selectedReason) {
            $scope.filters.Reason.Operator = 'in';
            $scope.filters.Reason.Value = Utility_ERP.Value_OperatorIN_($scope.data_Reason, 'Code');
        } else {
            $scope.filters.Reason.Operator = '=';
            $scope.filters.Reason.Value = $scope.selectedReason;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('InventoryIsolations', $scope);

        delete $scope.filters['selectedShowAll'];
    };

    $scope.Branch_Changed = async function () {
        // --  untuk Page ini, setiap kali Branch berubah --> maka Warehouse ke posisi "All"
        // reset
        $scope.selectedWarehouse = '';

        $scope.Reorganize_Warehouse();

        await $scope.showData();
    };

    $scope.Reorganize_Warehouse = function () {
        var data = [];

        if (!$scope.selectedBranch) {
            // tanpa Filter Branch
            data = $scope.data_EmployeeWarehouseAccess;
        } else {
            // filter berdasarkan Branch
            data = $scope.data_EmployeeWarehouseAccess.filter(function (e) {
                return e.LocationCode == $scope.selectedBranch;
            });
        }

        $scope.data_Warehouse_perBranch = [...new Map(data.map((item) => [item['Code'], item])).values()].sort((x, y) => x.Code.localeCompare(y.Code));
    };

    $scope.getData_IsolationSourceType = async function () {
        $scope.data_IsolationSourceType = await InventoryIsolations_Service.Dropdown_IsolationSourceType();
    };

    $scope.getData_Reason = async function () {
        $scope.data_Reason = await InventoryIsolations_Service.Dropdown_Reason();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('InventoryIsolation');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let warehouse = $scope.filters.Warehouse.Value;
        if (warehouse && typeof warehouse === 'string' && warehouse.indexOf('(') >= 0) warehouse = '';
        $scope.selectedWarehouse = warehouse;

        let isolationSourceType = $scope.filters.IsolationSourceType.Value;
        if (isolationSourceType && typeof isolationSourceType === 'string' && isolationSourceType.indexOf('(') >= 0) isolationSourceType = '';
        $scope.selectedIsolationSourceType = isolationSourceType;

        let reason = $scope.filters.Reason.Value;
        if (reason && typeof reason === 'string' && reason.indexOf('(') >= 0) reason = '';
        $scope.selectedReason = reason;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $rootScope.EmployeeWarehouseAccess($scope, ''),
            $scope.getData_IsolationSourceType(),
            $scope.getData_Reason(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('InventoryIsolations', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.Reorganize_Warehouse();

        $scope.showData();
    };

    $scope.verifyClick = async function () {
        // Implement verify functionality
    };

    $scope.printForm = async function () {
        // Implement print functionality
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('InventoryIssueVerificationCtrl', function ($rootScope, $scope, Utility_ERP, InventoryIssueVerification_Service, BusinessRelation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        ReceivedDate_date: { PropertyName: 'ReceivedDate', Operator: '=', Value: '' },
        Receiver: { PropertyName: 'ReceiverID', Operator: '=', Value: '' },
    };

    $scope.selectedReceivedDate = $rootScope.Date_to_UI(new Date());
    $scope.selectedReceiver = '';

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = InventoryIssueVerification_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Item Code', 'ItemCode', 'ItemCode', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['Qty', 'Qty', 'Qty', 'Number', true],
            ['Uom', 'Uom', 'Uom', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        $scope.filters.ReceivedDate_date.Value = $rootScope.Date_to_DB($scope.selectedReceivedDate);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedReceiver'] = $scope.selectedReceiver;

        $rootScope.SaveFilterState('InventoryIssueVerification', $scope);

        delete $scope.filters['selectedReceiver'];
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.receiverSelected = async function (flag = true) {
        if (flag) {
            $scope.showData();
        }
    };

    ;

    async function Override_some_Filters() {
        if ($scope.LoadFilterState_) {
            $scope.selectedReceiver = $scope.filters['selectedReceiver'];
            delete $scope.filters['selectedReceiver'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('InventoryIssueVerification', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.verifyClick = async function () {
        // Implement verify logic here
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('InventoryItemFormCtrl', function ($rootScope, $scope, $stateParams, Utility_ERP, InventoryItems_Service, Inventory_Service) {
});

angular.module('app.erp').controller('InventoryItemsCtrl', function ($rootScope, $scope, $stateParams, Utility_ERP, InventoryItems_Service, Inventory_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Profile: { PropertyName: 'ItemTypeCode', Operator: '=', Value: null },
        Category: { PropertyName: 'CategoryCode', Operator: '=', Value: null },
        Manufacture: { PropertyName: 'ManufacturerCode', Operator: '=', Value: null },
        Brand: { PropertyName: 'BrandCode', Operator: '=', Value: null },
        StockingType: { PropertyName: 'StockingTypeCode', Operator: '=', Value: null },
    };

    $scope.selectedCategory = '';

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = InventoryItems_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Name', 'ShortName', 'ShortName', 'Text', true],
            ['Profile', 'TypeName', 'TypeName', 'Text', true],
            ['Category', 'CategoryName', 'CategoryName', 'Text', true],
            ['Brand', 'BrandName', 'BrandName', 'Text', true],
            ['Manufacture', 'ManufactureName', 'ManufactureName', 'Text', true],
            ['Stocking Name', 'StockingTypeName', 'StockingTypeName', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $scope.filters['selectedCategory'] = $scope.selectedCategory;

        $rootScope.SaveFilterState('InventoryItem', $scope);

        delete $scope.filters['selectedCategory'];

        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);
    };

    

    // getData functions for Dropdown to Service filters
    $scope.getData_Profile = async function () {
        $scope.data_Profile = await Inventory_Service.Dropdown_Profile();

        // Special case
        $scope.data_Profile.unshift({ Code: '', Name: 'Select an Item' });

        // Default untuk DropdownList
        try {
            $scope.filters.Profile.Value = '';
        } catch (error) { }
    };

    $scope.getData_Manufacture = async function () {
        $scope.data_Manufacture = await Inventory_Service.Dropdown_Manufacturer();

        // Special case
        $scope.data_Manufacture.unshift({ Code: '', Description: 'Select an Item' });

        // Default untuk DropdownList
        try {
            $scope.filters.Manufacture.Value = '';
        } catch (error) { }
    };

    $scope.getData_Brand = async function () {
        $scope.data_Brand = await Inventory_Service.Dropdown_Brand();

        // Special case
        $scope.data_Brand.unshift({ Code: '', Description: 'Select an Item' });

        // Default untuk DropdownList
        try {
            $scope.filters.Brand.Value = '';
        } catch (error) { }
    };

    $scope.getData_StockingType = async function () {
        $scope.data_StockingType = await Inventory_Service.Dropdown_StockingType();
    };

    // getData function for typeahead filter
    $scope.getData_Category = function (val) {
        return Inventory_Service.Dropdown_Category2(val);
    };

    async function Override_some_Filters() {
        let profile = $rootScope.Simple_Decode($rootScope.getParamValue($stateParams, 'profile'));
        if (profile) {
            $scope.filters.Profile.Value = profile;
        }

        let manufacture = $rootScope.Simple_Decode($rootScope.getParamValue($stateParams, 'manufacture'));
        if (manufacture) {
            $scope.filters.Manufacture.Value = manufacture;
        }

        let brand = $rootScope.Simple_Decode($rootScope.getParamValue($stateParams, 'brand'));
        if (brand) {
            $scope.filters.Brand.Value = brand;
        }

        let stockingType = $rootScope.Simple_Decode($rootScope.getParamValue($stateParams, 'stockingType'));
        if (stockingType) {
            $scope.filters.StockingType.Value = stockingType;
        }

        if ($scope.LoadFilterState_) {
            $scope.selectedCategory = $scope.filters['selectedCategory'];
            delete $scope.filters['selectedCategory'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('InventoryItem', $scope);

        await Promise.allSettled([
            $scope.getData_Profile(),
            $scope.getData_Manufacture(),
            $scope.getData_Brand(),
            $scope.getData_StockingType(),
        ]);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});

angular.module('app.erp').controller('InventoryLeaseCtrl', function ($rootScope, $scope, Utility_ERP, InventoryLease_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Warehouse: { PropertyName: 'WarehouseCode', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        DueDateFrom_date: { PropertyName: 'DueDate', Operator: '>=', Value: '' },
        DueDateTo_date: { PropertyName: 'DueDate', Operator: '<=', Value: '' },
        Reason: { PropertyName: 'ReasonCode', Operator: 'in', Value: '' },
        IssuedTo: { PropertyName: 'IssuedToID', Operator: '=', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedWarehouse = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedDueDateFrom = '';
    $scope.selectedDueDateTo = '';
    $scope.selectedReason = '';
    $scope.selectedIssuedTo = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_EmployeeWarehouseAccess = [];
    $scope.data_Warehouse_perBranch = [];
    $scope.data_Reason = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = InventoryLease_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Doc Nr.', 'DocNr', 'DocNr', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Warehouse', 'Warehouse', 'Warehouse', 'Text', true],
            ['Requested By', 'RequestedBy', 'RequestedBy', 'Text', true],
            ['Reason', 'Reason', 'Reason', 'Text', true],
            ['Open Qty', 'OpenQty', 'OpenQty', 'Number', true],
            ['Total Qty', 'TotalQty', 'TotalQty', 'Number', true],
            ['Issued By', 'IssuedBy', 'IssuedBy', 'Text', true],
            ['Status', 'Status', 'Status', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedWarehouse) {
            $scope.filters.Warehouse.Operator = 'in';
            $scope.filters.Warehouse.Value = Utility_ERP.Value_OperatorIN_($scope.data_Warehouse_perBranch, 'Code');
        } else {
            $scope.filters.Warehouse.Operator = '=';
            $scope.filters.Warehouse.Value = $scope.selectedWarehouse;
        }

        if (!$scope.selectedReason) {
            $scope.filters.Reason.Operator = 'in';
            $scope.filters.Reason.Value = Utility_ERP.Value_OperatorIN_($scope.data_Reason, 'Code');
        } else {
            $scope.filters.Reason.Operator = '=';
            $scope.filters.Reason.Value = $scope.selectedReason;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        $scope.filters.DueDateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDueDateFrom);
        $scope.filters.DueDateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDueDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedIssuedTo'] = $scope.selectedIssuedTo;
        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('InventoryLease', $scope);

        delete $scope.filters['selectedIssuedTo'];
        delete $scope.filters['selectedShowAll'];
    };

    $scope.Branch_Changed = async function () {
        // --  untuk Page ini, setiap kali Branch berubah --> maka Warehouse ke posisi "All"
        // reset
        $scope.selectedWarehouse = '';

        $scope.Reorganize_Warehouse();

        await $scope.showData();
    };

    $scope.Reorganize_Warehouse = function () {
        var data = [];

        if (!$scope.selectedBranch) {
            // tanpa Filter Branch
            data = $scope.data_EmployeeWarehouseAccess;
        } else {
            // filter berdasarkan Branch
            data = $scope.data_EmployeeWarehouseAccess.filter(function (e) {
                return e.LocationCode == $scope.selectedBranch;
            });
        }

        $scope.data_Warehouse_perBranch = [...new Map(data.map((item) => [item['Code'], item])).values()].sort((x, y) => x.Code.localeCompare(y.Code));
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.getData_Reason = async function () {
        $scope.data_Reason = await InventoryLease_Service.Dropdown_Reason();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('InventoryLease');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let warehouse = $scope.filters.Warehouse.Value;
        if (warehouse && typeof warehouse === 'string' && warehouse.indexOf('(') >= 0) warehouse = '';
        $scope.selectedWarehouse = warehouse;

        let reason = $scope.filters.Reason.Value;
        if (reason && typeof reason === 'string' && reason.indexOf('(') >= 0) reason = '';
        $scope.selectedReason = reason;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedIssuedTo = $scope.filters['selectedIssuedTo'];
            delete $scope.filters['selectedIssuedTo'];

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $rootScope.EmployeeWarehouseAccess($scope, ''),
            $scope.getData_Reason(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('InventoryLease', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.Reorganize_Warehouse();

        $scope.showData();
    };

    $scope.verifyIssueClick = async function () {
        // Implement verify issue functionality
    };

    $scope.returnInventoryClick = async function () {
        // Implement return inventory functionality
    };

    $scope.expenseClick = async function () {
        // Implement expense functionality
    };

    $scope.billClick = async function () {
        // Implement bill functionality
    };

    $scope.printForm = async function () {
        // Implement print functionality
    };

    $scope.voidClick = async function () {
        // Implement void functionality
    };

    $scope.initialize_Page();
});
// ini file Controller.js



// ini file Controller.js

angular.module('app.erp').controller('InventoryReceiptVerificationCtrl', function ($rootScope, $scope, Utility_ERP, InventoryReceiptVerification_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        ReceivedDate_date: { PropertyName: 'ReceivedDate', Operator: '=', Value: '' },
        Receiver: { PropertyName: 'ReceiverCode', Operator: '=', Value: '' },
    };

    $scope.selectedReceivedDate = $rootScope.Date_to_UI(new Date());
    $scope.selectedReceiver = '';

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = InventoryReceiptVerification_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Item Code', 'ItemCode', 'ItemCode', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['Qty', 'Qty', 'Qty', 'Number', true],
            ['Uom', 'Uom', 'Uom', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        $scope.filters.ReceivedDate_date.Value = $rootScope.Date_to_DB($scope.selectedReceivedDate);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedReceiver'] = $scope.selectedReceiver;

        $rootScope.SaveFilterState('InventoryReceiptVerification', $scope);

        delete $scope.filters['selectedReceiver'];
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    ;

    async function Override_some_Filters() {
        if ($scope.LoadFilterState_) {
            $scope.selectedReceiver = $scope.filters['selectedReceiver'];
            delete $scope.filters['selectedReceiver'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('InventoryReceiptVerification', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.verifyReceipt = async function () {
        // Implementation for Verify
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('InventoryRequestsCtrl', function ($rootScope, $scope, Utility_ERP, InventoryRequests_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.statusOptions = [
        { Value: null, Text: 'All' },
        { Value: 'Open', Text: 'Open' },
        { Value: 'Closed', Text: 'Closed' },
        { Value: 'Verified', Text: 'Verified' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Warehouse: { PropertyName: 'WarehouseCode', Operator: 'in', Value: '' },
        RequestedBy: { PropertyName: 'RequestedByID', Operator: '=', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        Status: { PropertyName: 'Status', Operator: '=', Value: null },
    };

    $scope.selectedBranch = '';
    $scope.selectedWarehouse = '';
    $scope.selectedRequestedBy = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_EmployeeWarehouseAccess = [];
    $scope.data_Warehouse_perBranch = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = InventoryRequests_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Doc Nr.', 'DocNr', 'DocNr', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Warehouse', 'Warehouse', 'Warehouse', 'Text', true],
            ['Requested By', 'RequestedBy', 'RequestedBy', 'Text', true],
            ['Notes', 'Notes', 'Notes', 'Text', true],
            ['Open Qty', 'OpenQty', 'OpenQty', 'Number', true],
            ['Total Qty', 'TotalQty', 'TotalQty', 'Number', true],
            ['R', 'R', 'R', 'Boolean', true],
            ['Issued By', 'IssuedBy', 'IssuedBy', 'Text', true],
            ['Status', 'Status', 'Status', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedWarehouse) {
            $scope.filters.Warehouse.Operator = 'in';
            $scope.filters.Warehouse.Value = Utility_ERP.Value_OperatorIN_($scope.data_Warehouse_perBranch, 'Code');
        } else {
            $scope.filters.Warehouse.Operator = '=';
            $scope.filters.Warehouse.Value = $scope.selectedWarehouse;
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedRequestedBy'] = $scope.selectedRequestedBy;
        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('InventoryRequests', $scope);

        delete $scope.filters['selectedRequestedBy'];
        delete $scope.filters['selectedShowAll'];
    };

    $scope.Branch_Changed = async function () {
        // --  untuk Page ini, setiap kali Branch berubah --> maka Warehouse ke posisi "All"
        // reset
        $scope.selectedWarehouse = '';

        $scope.Reorganize_Warehouse();

        await $scope.showData();
    };

    $scope.Reorganize_Warehouse = function () {
        var data = [];

        if (!$scope.selectedBranch) {
            // tanpa Filter Branch
            data = $scope.data_EmployeeWarehouseAccess;
        } else {
            // filter berdasarkan Branch
            data = $scope.data_EmployeeWarehouseAccess.filter(function (e) {
                return e.LocationCode == $scope.selectedBranch;
            });
        }

        $scope.data_Warehouse_perBranch = [...new Map(data.map((item) => [item['Code'], item])).values()].sort((x, y) => x.Code.localeCompare(y.Code));
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // Implement logic if needed for Show All checkbox

        if (flag) {
            await $scope.showData();
        }
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let warehouse = $scope.filters.Warehouse.Value;
        if (warehouse && typeof warehouse === 'string' && warehouse.indexOf('(') >= 0) warehouse = '';
        $scope.selectedWarehouse = warehouse;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedRequestedBy = $scope.filters['selectedRequestedBy'];
            delete $scope.filters['selectedRequestedBy'];

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $rootScope.EmployeeWarehouseAccess($scope, '')
        ]);

        $rootScope.LoadFilterState('InventoryRequests', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.Reorganize_Warehouse();

        $scope.showData();
    };

    $scope.printForm = async function () {
        // Implement print functionality
    };

    $scope.verifyClick = async function () {
        // Implement verify functionality
    };

    $scope.closeClick = async function () {
        // Implement close functionality
    };

    $scope.reserveClick = async function () {
        // Implement reserve functionality
    };

    $scope.unReserveClick = async function () {
        // Implement un reserve functionality
    };

    $scope.initialize_Page();
});
// ini file Controller.js

angular.module('app.erp').controller('IsolationVerificationCtrl', function ($rootScope, $scope, Utility_ERP, IsolationVerification_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = IsolationVerification_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Item Code', 'ItemCode', 'ItemCode', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['Qty', 'Qty1', 'Qty1', 'Number', true],
            ['Uom', 'Uom1', 'Uom1', 'Text', true],
            ['Qty', 'Qty2', 'Qty2', 'Number', true],
            ['Uom', 'Uom2', 'Uom2', 'Text', true],
            ['Qty', 'Qty3', 'Qty3', 'Number', true],
            ['Uom', 'Uom3', 'Uom3', 'Text', true],
            ['Actions', 'Actions', 'Actions', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('IsolationVerification', $scope);
    };

    ;

    async function Override_some_Filters() {
        // No additional filters to override for this page
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('IsolationVerification', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.verifyIsolation = async function () {
        // Implementation for Verify Isolation action
    };

    $scope.initialize_Page();
});


angular.module('app.erp').controller('ItemCostsCtrl', function ($rootScope, $scope, Utility_ERP, ItemCosts_Service, Inventory_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        CostGroup: { PropertyName: 'CostGroupCode', Operator: 'in', Value: '' },
        Currency: { PropertyName: 'CurrencyCode', Operator: 'in', Value: '' },
        Brand: { PropertyName: 'BrandCode', Operator: 'in', Value: '' },
        Category: { PropertyName: 'CategoryCode', Operator: 'in', Value: '' },
        EffectiveDateFrom_date: { PropertyName: 'EffectiveDate', Operator: '>=', Value: '' },
        EffectiveDateTo_date: { PropertyName: 'EffectiveDate', Operator: '<=', Value: '' },
    };

    $scope.selectedCostGroup = '';
    $scope.selectedCurrency = '';
    $scope.selectedBrand = '';
    $scope.selectedCategory = '';
    $scope.selectedEffectiveDateFrom = '';
    $scope.selectedEffectiveDateTo = '';

    $scope.data_CostGroup = [];
    $scope.data_Currency = [];
    $scope.data_Brand = [];
    $scope.data_Category = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = ItemCosts_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Item #', 'ItemNumber', 'ItemNumber', 'Text', true],
            ['Category', 'Category', 'Category', 'Text', true],
            ['Brand', 'Brand', 'Brand', 'Text', true],
            ['Type', 'Type', 'Type', 'Text', true],
            ['Name', 'Name', 'Name', 'Text', true],
            ['Uom', 'Uom', 'Uom', 'Text', true],
            ['Current Cost', 'CurrentCost', 'CurrentCost', 'Currency', true],
            ['Valid From', 'ValidFrom', 'ValidFrom', 'Date', true],
            ['New Cost', 'NewCost', 'NewCost', 'Currency', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedCostGroup) {
            $scope.filters.CostGroup.Operator = 'in';
            $scope.filters.CostGroup.Value = Utility_ERP.Value_OperatorIN_($scope.data_CostGroup, 'Code');
        } else {
            $scope.filters.CostGroup.Operator = '=';
            $scope.filters.CostGroup.Value = $scope.selectedCostGroup;
        }

        if (!$scope.selectedCurrency) {
            $scope.filters.Currency.Operator = 'in';
            $scope.filters.Currency.Value = Utility_ERP.Value_OperatorIN_($scope.data_Currency, 'Code');
        } else {
            $scope.filters.Currency.Operator = '=';
            $scope.filters.Currency.Value = $scope.selectedCurrency;
        }

        if (!$scope.selectedBrand) {
            $scope.filters.Brand.Operator = 'in';
            $scope.filters.Brand.Value = Utility_ERP.Value_OperatorIN_($scope.data_Brand, 'Code');
        } else {
            $scope.filters.Brand.Operator = '=';
            $scope.filters.Brand.Value = $scope.selectedBrand;
        }

        if (!$scope.selectedCategory) {
            $scope.filters.Category.Operator = 'in';
            $scope.filters.Category.Value = Utility_ERP.Value_OperatorIN_($scope.data_Category, 'Code');
        } else {
            $scope.filters.Category.Operator = '=';
            $scope.filters.Category.Value = $scope.selectedCategory;
        }

        $scope.filters.EffectiveDateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedEffectiveDateFrom);
        $scope.filters.EffectiveDateTo_date.Value = $rootScope.Date_to_DB($scope.selectedEffectiveDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('ItemCosts', $scope);
    };

    $scope.getData_CostGroup = async function () {
        $scope.data_CostGroup = await Inventory_Service.Dropdown_CostGroup();
    };

    $scope.getData_Currency = async function () {
        $scope.data_Currency = await Inventory_Service.Dropdown_Currency();
    };

    $scope.getData_Brand = async function () {
        $scope.data_Brand = await Inventory_Service.Dropdown_Brand();
    };

    $scope.getData_Category = async function () {
        $scope.data_Category = await Inventory_Service.Dropdown_Category();
    };

    ;

    async function Override_some_Filters() {
        let costGroup = $scope.filters.CostGroup.Value;
        if (costGroup && typeof costGroup === 'string' && costGroup.indexOf('(') >= 0) costGroup = '';
        $scope.selectedCostGroup = costGroup;

        let currency = $scope.filters.Currency.Value;
        if (currency && typeof currency === 'string' && currency.indexOf('(') >= 0) currency = '';
        $scope.selectedCurrency = currency;

        let brand = $scope.filters.Brand.Value;
        if (brand && typeof brand === 'string' && brand.indexOf('(') >= 0) brand = '';
        $scope.selectedBrand = brand;

        let category = $scope.filters.Category.Value;
        if (category && typeof category === 'string' && category.indexOf('(') >= 0) category = '';
        $scope.selectedCategory = category;
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $scope.getData_CostGroup(),
            $scope.getData_Currency(),
            $scope.getData_Brand(),
            $scope.getData_Category()
        ]);

        $rootScope.LoadFilterState('ItemCosts', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.recalculate = async function () {
        // TODO: Implement recalculate functionality
    };

    $scope.printMovements = async function () {
        // TODO: Implement print movements functionality
    };

    $scope.downloadSchema = async function () {
        // TODO: Implement download schema functionality
    };

    $scope.uploadFile = async function () {
        // TODO: Implement upload functionality
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('ManufacturerFormCtrl', function ($rootScope, $scope, Utility_ERP, Manufacturers_Service) {
});
angular.module('app.erp').controller('ManufacturersCtrl', function ($rootScope, $scope, Utility_ERP, Manufacturers_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = Manufacturers_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['', 'Active', 'Active', 'Boolean', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('Manufacturer', $scope);
    };

    

    async function Override_some_Filters() { }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('Manufacturer', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});



angular.module('app.erp').controller('OutgoingOrdersCtrl', function ($rootScope, $scope, Utility_ERP, OutgoingOrders_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        RequestFrom: { PropertyName: 'RequestFromCode', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        DeliverTo: { PropertyName: 'DeliverToCode', Operator: 'in', Value: '' },
        RequiredDateFrom_date: { PropertyName: 'RequiredDate', Operator: '>=', Value: '' },
        RequiredDateTo_date: { PropertyName: 'RequiredDate', Operator: '<=', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedRequestFrom = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedDeliverTo = '';
    $scope.selectedRequiredDateFrom = '';
    $scope.selectedRequiredDateTo = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_RequestFrom = [];
    $scope.data_DeliverTo = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = OutgoingOrders_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Request Nr.', 'RequestNr', 'RequestNr', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Request To', 'RequestTo', 'RequestTo', 'Text', true],
            ['Deliver To', 'DeliverTo', 'DeliverTo', 'Text', true],
            ['Open Qty', 'OpenQty', 'OpenQty', 'Number', true],
            ['Total Qty', 'TotalQty', 'TotalQty', 'Number', true],
            ['Required Date', 'RequiredDate', 'RequiredDate', 'Date', true],
            ['Issued By', 'IssuedBy', 'IssuedBy', 'Text', true],
            ['Direct', 'Direct', 'Direct', 'Boolean', true],
            ['Status', 'Status', 'Status', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedRequestFrom) {
            $scope.filters.RequestFrom.Operator = 'in';
            $scope.filters.RequestFrom.Value = Utility_ERP.Value_OperatorIN_($scope.data_RequestFrom, 'Code');
        } else {
            $scope.filters.RequestFrom.Operator = '=';
            $scope.filters.RequestFrom.Value = $scope.selectedRequestFrom;
        }

        if (!$scope.selectedDeliverTo) {
            $scope.filters.DeliverTo.Operator = 'in';
            $scope.filters.DeliverTo.Value = Utility_ERP.Value_OperatorIN_($scope.data_DeliverTo, 'Code');
        } else {
            $scope.filters.DeliverTo.Operator = '=';
            $scope.filters.DeliverTo.Value = $scope.selectedDeliverTo;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        $scope.filters.RequiredDateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedRequiredDateFrom);
        $scope.filters.RequiredDateTo_date.Value = $rootScope.Date_to_DB($scope.selectedRequiredDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('OutgoingOrders', $scope);

        delete $scope.filters['selectedShowAll'];
    };

    $scope.Branch_Changed = async function () {
        // reset
        await $scope.showData();
    };

    $scope.getData_RequestFrom = async function () {
        // Implement service call to get RequestFrom dropdown data
        // $scope.data_RequestFrom = await OutgoingOrders_Service.Dropdown_RequestFrom();
    };

    $scope.getData_DeliverTo = async function () {
        // Implement service call to get DeliverTo dropdown data
        // $scope.data_DeliverTo = await OutgoingOrders_Service.Dropdown_DeliverTo();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('OutgoingOrder');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let requestFrom = $scope.filters.RequestFrom.Value;
        if (requestFrom && typeof requestFrom === 'string' && requestFrom.indexOf('(') >= 0) requestFrom = '';
        $scope.selectedRequestFrom = requestFrom;

        let deliverTo = $scope.filters.DeliverTo.Value;
        if (deliverTo && typeof deliverTo === 'string' && deliverTo.indexOf('(') >= 0) deliverTo = '';
        $scope.selectedDeliverTo = deliverTo;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_RequestFrom(),
            $scope.getData_DeliverTo(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('OutgoingOrders', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.printForm = async function () {
        // Implement print functionality
    };

    $scope.deliveryClick = async function () {
        // Implement delivery functionality
    };

    $scope.voidClick = async function () {
        // Implement void functionality
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('ProfileFormCtrl', function ($rootScope, $scope, Utility_ERP, Profiles_Service) {

});

angular.module('app.erp').controller('ProfilesCtrl', function ($rootScope, $scope, Utility_ERP, Profiles_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = Profiles_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Description', 'Name', 'Name', 'Text', true],
            ['', 'Active', 'Active', 'Boolean', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('Profile', $scope);
    };

    

    async function Override_some_Filters() { }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('Profile', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});

angular.module('app.erp').controller('ReplenishmentCtrl', function ($rootScope, $scope, Utility_ERP, Replenishment_Service, Inventory_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Warehouse: { PropertyName: 'WarehouseCode', Operator: 'in', Value: '' },
        Brand: { PropertyName: 'Brand', Operator: 'in', Value: '' },
        Profile: { PropertyName: 'Profile', Operator: 'in', Value: '' },
        Category: { PropertyName: 'CategoryCode', Operator: 'in', Value: '' },
    };

    $scope.selectedWarehouse = '';
    $scope.selectedBrand = '';
    $scope.selectedProfile = '';
    $scope.selectedCategory = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeWarehouseAccess = [];
    $scope.data_Brand = [];
    $scope.data_Brand_All = [];
    $scope.data_Profile = [];
    $scope.data_Profile_All = [];
    $scope.data_Category = [];
    $scope.data_Category_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = Replenishment_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Item Code', 'ItemCode', 'ItemCode', 'Text', true],
            ['Item Name', 'ItemName', 'ItemName', 'Text', true],
            ['Brand', 'Brand', 'Brand', 'Text', true],
            ['Uom', 'Uom', 'Uom', 'Text', true],
            ['Lead Time', 'LeadTime', 'LeadTime', 'Number', true],
            ['Reserved', 'Reserved', 'Reserved', 'Number', true],
            ['Demand', 'Demand', 'Demand', 'Number', true],
            ['Physical', 'Physical', 'Physical', 'Number', true],
            ['Available', 'Available', 'Available', 'Number', true],
            ['Reorder Point', 'ReorderPoint', 'ReorderPoint', 'Number', true],
            ['EOQ', 'EOQ', 'EOQ', 'Number', true],
            ['On PR', 'OnPR', 'OnPR', 'Number', true],
            ['On PO', 'OnPO', 'OnPO', 'Number', true],
            ['Rec. Order', 'RecOrder', 'RecOrder', 'Number', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedWarehouse) {
            $scope.filters.Warehouse.Operator = 'in';
            $scope.filters.Warehouse.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeWarehouseAccess, 'Code');
        } else {
            $scope.filters.Warehouse.Operator = '=';
            $scope.filters.Warehouse.Value = $scope.selectedWarehouse;
        }

        if (!$scope.selectedBrand) {
            $scope.filters.Brand.Operator = 'in';
            $scope.filters.Brand.Value = Utility_ERP.Value_OperatorIN_($scope.data_Brand, 'Code');
        } else {
            $scope.filters.Brand.Operator = '=';
            $scope.filters.Brand.Value = $scope.selectedBrand;
        }

        if (!$scope.selectedProfile) {
            $scope.filters.Profile.Operator = 'in';
            $scope.filters.Profile.Value = Utility_ERP.Value_OperatorIN_($scope.data_Profile, 'Code');
        } else {
            $scope.filters.Profile.Operator = '=';
            $scope.filters.Profile.Value = $scope.selectedProfile;
        }

        if (!$scope.selectedCategory) {
            $scope.filters.Category.Operator = 'in';
            $scope.filters.Category.Value = Utility_ERP.Value_OperatorIN_($scope.data_Category, 'Code');
        } else {
            $scope.filters.Category.Operator = '=';
            $scope.filters.Category.Value = $scope.selectedCategory;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('Replenishment', $scope);

        delete $scope.filters['selectedShowAll'];
    };

    $scope.getData_Brand = async function () {
        $scope.data_Brand_All = await Inventory_Service.Dropdown_Brand();

        // prettier-ignore
        $scope.data_Brand = ($scope.selectedShowAll ? $scope.data_Brand_All : $scope.data_Brand_All.filter(function (e) { return e.IsArchive == false; }));
    };

    $scope.getData_Profile = async function () {
        $scope.data_Profile_All = await Inventory_Service.Dropdown_Profile();

        // prettier-ignore
        $scope.data_Profile = ($scope.selectedShowAll ? $scope.data_Profile_All : $scope.data_Profile_All.filter(function (e) { return e.IsArchive == false; }));
    };

    $scope.getData_Category = async function () {
        $scope.data_Category_All = await Inventory_Service.Dropdown_Category();

        // prettier-ignore
        $scope.data_Category = ($scope.selectedShowAll ? $scope.data_Category_All : $scope.data_Category_All.filter(function (e) { return e.IsArchive == false; }));
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Brand = ($scope.selectedShowAll ? $scope.data_Brand_All : $scope.data_Brand_All.filter(function (e) { return e.IsArchive == false; }));

        // prettier-ignore
        $scope.data_Profile = ($scope.selectedShowAll ? $scope.data_Profile_All : $scope.data_Profile_All.filter(function (e) { return e.IsArchive == false; }));

        // prettier-ignore
        $scope.data_Category = ($scope.selectedShowAll ? $scope.data_Category_All : $scope.data_Category_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) {
            $scope.selectedBrand = '';
            $scope.selectedProfile = '';
            $scope.selectedCategory = '';
        }

        if (flag) {
            await $scope.showData();
        }
    };

    

    async function Override_some_Filters() {
        let warehouse = $scope.filters.Warehouse.Value;
        if (warehouse && typeof warehouse === 'string' && warehouse.indexOf('(') >= 0) warehouse = '';
        $scope.selectedWarehouse = warehouse;

        let brand = $scope.filters.Brand.Value;
        if (brand && typeof brand === 'string' && brand.indexOf('(') >= 0) brand = '';
        $scope.selectedBrand = brand;

        let profile = $scope.filters.Profile.Value;
        if (profile && typeof profile === 'string' && profile.indexOf('(') >= 0) profile = '';
        $scope.selectedProfile = profile;

        let category = $scope.filters.Category.Value;
        if (category && typeof category === 'string' && category.indexOf('(') >= 0) category = '';
        $scope.selectedCategory = category;

        if ($scope.LoadFilterState_) {
            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeWarehouseAccess($scope, ''),
            $scope.getData_Brand(),
            $scope.getData_Profile(),
            $scope.getData_Category()
        ]);

        $rootScope.LoadFilterState('Replenishment', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.createPO = async function () {
        // Implementation for create P/O functionality
    }

    $scope.exportList = async function () {
        // Implementation for export to excel functionality
    }

    $scope.initialize_Page();
});
angular.module('app.erp').controller('ReservePositionsCtrl', function ($rootScope, $scope, Utility_ERP, ReservePositions_Service, Inventory_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Warehouse: { PropertyName: 'WarehouseCode', Operator: 'in', Value: '' },
        Age: { PropertyName: 'Age', Operator: 'in', Value: '' },
        Brand: { PropertyName: 'Brand', Operator: 'in', Value: '' },
        Profile: { PropertyName: 'Profile', Operator: 'in', Value: '' },
        Category: { PropertyName: 'CategoryCode', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedWarehouse = '';
    $scope.selectedAge = '';
    $scope.selectedBrand = '';
    $scope.selectedProfile = '';
    $scope.selectedCategory = '';

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_EmployeeWarehouseAccess = [];
    $scope.data_Warehouse_perBranch = [];
    $scope.data_Age = [];
    $scope.data_Brand = [];
    $scope.data_Profile = [];
    $scope.data_Category = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = ReservePositions_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Item Code', 'ItemCode', 'ItemCode', 'Text', true],
            ['Brand', 'Brand', 'Brand', 'Text', true],
            ['Item Name', 'ItemName', 'ItemName', 'Text', true],
            ['Current', 'Current', 'Current', 'Number', true],
            ['1 - 7 Days', 'Days1to7', 'Days1to7', 'Number', true],
            ['8 - 14 Days', 'Days8to14', 'Days8to14', 'Number', true],
            ['15 - 30 Days', 'Days15to30', 'Days15to30', 'Number', true],
            ['31 - 45 Days', 'Days31to45', 'Days31to45', 'Number', true],
            ['> 45 Days', 'DaysOver45', 'DaysOver45', 'Number', true],
            ['Total', 'Total', 'Total', 'Number', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedWarehouse) {
            $scope.filters.Warehouse.Operator = 'in';
            $scope.filters.Warehouse.Value = Utility_ERP.Value_OperatorIN_($scope.data_Warehouse_perBranch, 'Code');
        } else {
            $scope.filters.Warehouse.Operator = '=';
            $scope.filters.Warehouse.Value = $scope.selectedWarehouse;
        }

        if (!$scope.selectedAge) {
            $scope.filters.Age.Operator = 'in';
            $scope.filters.Age.Value = Utility_ERP.Value_OperatorIN_($scope.data_Age, 'Code');
        } else {
            $scope.filters.Age.Operator = '=';
            $scope.filters.Age.Value = $scope.selectedAge;
        }

        if (!$scope.selectedBrand) {
            $scope.filters.Brand.Operator = 'in';
            $scope.filters.Brand.Value = Utility_ERP.Value_OperatorIN_($scope.data_Brand, 'Code');
        } else {
            $scope.filters.Brand.Operator = '=';
            $scope.filters.Brand.Value = $scope.selectedBrand;
        }

        if (!$scope.selectedProfile) {
            $scope.filters.Profile.Operator = 'in';
            $scope.filters.Profile.Value = Utility_ERP.Value_OperatorIN_($scope.data_Profile, 'Code');
        } else {
            $scope.filters.Profile.Operator = '=';
            $scope.filters.Profile.Value = $scope.selectedProfile;
        }

        if (!$scope.selectedCategory) {
            $scope.filters.Category.Operator = 'in';
            $scope.filters.Category.Value = Utility_ERP.Value_OperatorIN_($scope.data_Category, 'Code');
        } else {
            $scope.filters.Category.Operator = '=';
            $scope.filters.Category.Value = $scope.selectedCategory;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('ReservePositions', $scope);
    };

    $scope.Branch_Changed = async function () {
        // reset
        $scope.selectedWarehouse = '';

        $scope.Reorganize_Warehouse();

        await $scope.showData();
    };

    $scope.Reorganize_Warehouse = function () {
        var data = [];

        if (!$scope.selectedBranch) {
            // tanpa Filter Branch
            data = $scope.data_EmployeeWarehouseAccess;
        } else {
            // filter berdasarkan Branch
            data = $scope.data_EmployeeWarehouseAccess.filter(function (e) {
                return e.LocationCode == $scope.selectedBranch;
            });
        }

        $scope.data_Warehouse_perBranch = [...new Map(data.map((item) => [item['Code'], item])).values()].sort((x, y) => x.Code.localeCompare(y.Code));
    };

    $scope.getData_Age = async function () {
        $scope.data_Age = await Inventory_Service.Dropdown_Age();
    };

    $scope.getData_Brand = async function () {
        $scope.data_Brand = await Inventory_Service.Dropdown_Brand();
    };

    $scope.getData_Profile = async function () {
        $scope.data_Profile = await Inventory_Service.Dropdown_Profile();
    };

    $scope.getData_Category = async function () {
        $scope.data_Category = await Inventory_Service.Dropdown_Category();
    };

    

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let warehouse = $scope.filters.Warehouse.Value;
        if (warehouse && typeof warehouse === 'string' && warehouse.indexOf('(') >= 0) warehouse = '';
        $scope.selectedWarehouse = warehouse;

        let age = $scope.filters.Age.Value;
        if (age && typeof age === 'string' && age.indexOf('(') >= 0) age = '';
        $scope.selectedAge = age;

        let brand = $scope.filters.Brand.Value;
        if (brand && typeof brand === 'string' && brand.indexOf('(') >= 0) brand = '';
        $scope.selectedBrand = brand;

        let profile = $scope.filters.Profile.Value;
        if (profile && typeof profile === 'string' && profile.indexOf('(') >= 0) profile = '';
        $scope.selectedProfile = profile;

        let category = $scope.filters.Category.Value;
        if (category && typeof category === 'string' && category.indexOf('(') >= 0) category = '';
        $scope.selectedCategory = category;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $rootScope.EmployeeWarehouseAccess($scope, ''),
            $scope.getData_Age(),
            $scope.getData_Brand(),
            $scope.getData_Profile(),
            $scope.getData_Category()
        ]);

        $rootScope.LoadFilterState('ReservePositions', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.Reorganize_Warehouse();

        $scope.showData();
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('StockPositionsCtrl', function ($rootScope, $scope, Utility_ERP, StockPositions_Service, Inventory_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Warehouse: { PropertyName: 'WarehouseCode', Operator: 'in', Value: '' },
        ShowAvailableOnly: { PropertyName: 'Available', Operator: '>', Value: null },
        Brand: { PropertyName: 'Brand', Operator: 'in', Value: '' },
        Profile: { PropertyName: 'Profile', Operator: 'in', Value: '' },
        ShowDemandOnly: { PropertyName: 'Demand', Operator: '>', Value: null },
        Category: { PropertyName: 'CategoryCode', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedWarehouse = '';
    $scope.selectedShowAvailableOnly = false;
    $scope.selectedBrand = '';
    $scope.selectedProfile = '';
    $scope.selectedShowDemandOnly = false;
    $scope.selectedCategory = '';

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_EmployeeWarehouseAccess = [];
    $scope.data_Warehouse_perBranch = [];
    $scope.data_Brand = [];
    $scope.data_Profile = [];
    $scope.data_Category = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = StockPositions_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Item Code', 'ItemCode', 'ItemCode', 'Text', true],
            ['Item Name', 'ItemName', 'ItemName', 'Text', true],
            ['Brand', 'Brand', 'Brand', 'Text', true],
            ['TR', 'TR', 'TR', 'Number', true],
            ['PO', 'PO', 'PO', 'Number', true],
            ['Reserved', 'Reserved', 'Reserved', 'Number', true],
            ['Demand', 'Demand', 'Demand', 'Number', true],
            ['Shipment', 'Shipment', 'Shipment', 'Number', true],
            ['Picking', 'Picking', 'Picking', 'Number', true],
            ['Routing', 'Routing', 'Routing', 'Number', true],
            ['Manifest', 'Manifest', 'Manifest', 'Number', true],
            ['Delivery', 'Delivery', 'Delivery', 'Number', true],
            ['Isolation', 'Isolation', 'Isolation', 'Number', true],
            ['Physical', 'Physical', 'Physical', 'Number', true],
            ['Available', 'Available', 'Available', 'Number', true],
            ['VAT', 'VAT', 'VAT', 'Number', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedWarehouse) {
            $scope.filters.Warehouse.Operator = 'in';
            $scope.filters.Warehouse.Value = Utility_ERP.Value_OperatorIN_($scope.data_Warehouse_perBranch, 'Code');
        } else {
            $scope.filters.Warehouse.Operator = '=';
            $scope.filters.Warehouse.Value = $scope.selectedWarehouse;
        }

        $scope.filters.ShowAvailableOnly.Value = null;
        if ($scope.selectedShowAvailableOnly) {
            $scope.filters.ShowAvailableOnly.Value = 0;
        }

        if (!$scope.selectedBrand) {
            $scope.filters.Brand.Operator = 'in';
            $scope.filters.Brand.Value = Utility_ERP.Value_OperatorIN_($scope.data_Brand, 'Code');
        } else {
            $scope.filters.Brand.Operator = '=';
            $scope.filters.Brand.Value = $scope.selectedBrand;
        }

        if (!$scope.selectedProfile) {
            $scope.filters.Profile.Operator = 'in';
            $scope.filters.Profile.Value = Utility_ERP.Value_OperatorIN_($scope.data_Profile, 'Code');
        } else {
            $scope.filters.Profile.Operator = '=';
            $scope.filters.Profile.Value = $scope.selectedProfile;
        }

        $scope.filters.ShowDemandOnly.Value = null;
        if ($scope.selectedShowDemandOnly) {
            $scope.filters.ShowDemandOnly.Value = 0;
        }

        if (!$scope.selectedCategory) {
            $scope.filters.Category.Operator = 'in';
            $scope.filters.Category.Value = Utility_ERP.Value_OperatorIN_($scope.data_Category, 'Code');
        } else {
            $scope.filters.Category.Operator = '=';
            $scope.filters.Category.Value = $scope.selectedCategory;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedShowAvailableOnly'] = $scope.selectedShowAvailableOnly;
        $scope.filters['selectedShowDemandOnly'] = $scope.selectedShowDemandOnly;

        $rootScope.SaveFilterState('StockPositions', $scope);

        delete $scope.filters['selectedShowAvailableOnly'];
        delete $scope.filters['selectedShowDemandOnly'];
    };

    $scope.Branch_Changed = async function () {
        // reset
        $scope.selectedWarehouse = '';

        $scope.Reorganize_Warehouse();

        await $scope.showData();
    };

    $scope.Reorganize_Warehouse = function () {
        var data = [];

        if (!$scope.selectedBranch) {
            // tanpa Filter Branch
            data = $scope.data_EmployeeWarehouseAccess;
        } else {
            // filter berdasarkan Branch
            data = $scope.data_EmployeeWarehouseAccess.filter(function (e) {
                return e.LocationCode == $scope.selectedBranch;
            });
        }

        $scope.data_Warehouse_perBranch = [...new Map(data.map((item) => [item['Code'], item])).values()].sort((x, y) => x.Code.localeCompare(y.Code));
    };

    $scope.getData_Brand = async function () {
        $scope.data_Brand = await Inventory_Service.Dropdown_Brand();
    };

    $scope.getData_Profile = async function () {
        $scope.data_Profile = await Inventory_Service.Dropdown_Profile();
    };

    $scope.getData_Category = async function () {
        $scope.data_Category = await Inventory_Service.Dropdown_Category();
    };

    

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let warehouse = $scope.filters.Warehouse.Value;
        if (warehouse && typeof warehouse === 'string' && warehouse.indexOf('(') >= 0) warehouse = '';
        $scope.selectedWarehouse = warehouse;

        let brand = $scope.filters.Brand.Value;
        if (brand && typeof brand === 'string' && brand.indexOf('(') >= 0) brand = '';
        $scope.selectedBrand = brand;

        let profile = $scope.filters.Profile.Value;
        if (profile && typeof profile === 'string' && profile.indexOf('(') >= 0) profile = '';
        $scope.selectedProfile = profile;

        let category = $scope.filters.Category.Value;
        if (category && typeof category === 'string' && category.indexOf('(') >= 0) category = '';
        $scope.selectedCategory = category;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedShowAvailableOnly = $scope.filters['selectedShowAvailableOnly'];
            delete $scope.filters['selectedShowAvailableOnly'];

            $scope.selectedShowDemandOnly = $scope.filters['selectedShowDemandOnly'];
            delete $scope.filters['selectedShowDemandOnly'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $rootScope.EmployeeWarehouseAccess($scope, ''),
            $scope.getData_Brand(),
            $scope.getData_Profile(),
            $scope.getData_Category()
        ]);

        $rootScope.LoadFilterState('StockPositions', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.Reorganize_Warehouse();

        $scope.showData();
    };

    $scope.exportList = async function () { }

    $scope.downloadSchema = async function () { }

    $scope.uploadData = async function () { }

    $scope.initialize_Page();
});
angular.module('app.erp').controller('TaxPositionsCtrl', function ($rootScope, $scope, Utility_ERP, TaxPositions_Service, Inventory_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Warehouse: { PropertyName: 'WarehouseCode', Operator: 'in', Value: '' },
        Brand: { PropertyName: 'Brand', Operator: 'in', Value: '' },
        Profile: { PropertyName: 'Profile', Operator: 'in', Value: '' },
        Category: { PropertyName: 'CategoryCode', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedWarehouse = '';
    $scope.selectedBrand = '';
    $scope.selectedProfile = '';
    $scope.selectedCategory = '';

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_EmployeeWarehouseAccess = [];
    $scope.data_Warehouse_perBranch = [];
    $scope.data_Brand = [];
    $scope.data_Profile = [];
    $scope.data_Category = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = TaxPositions_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Item Code', 'ItemCode', 'ItemCode', 'Text', true],
            ['Item Name', 'ItemName', 'ItemName', 'Text', true],
            ['Brand', 'Brand', 'Brand', 'Text', true],
            ['Category', 'Category', 'Category', 'Text', true],
            ['PR', 'PR', 'PR', 'Number', true],
            ['PO', 'PO', 'PO', 'Number', true],
            ['Reserved', 'Reserved', 'Reserved', 'Number', true],
            ['Demand', 'Demand', 'Demand', 'Number', true],
            ['Physical', 'Physical', 'Physical', 'Number', true],
            ['Available', 'Available', 'Available', 'Number', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedWarehouse) {
            $scope.filters.Warehouse.Operator = 'in';
            $scope.filters.Warehouse.Value = Utility_ERP.Value_OperatorIN_($scope.data_Warehouse_perBranch, 'Code');
        } else {
            $scope.filters.Warehouse.Operator = '=';
            $scope.filters.Warehouse.Value = $scope.selectedWarehouse;
        }

        if (!$scope.selectedBrand) {
            $scope.filters.Brand.Operator = 'in';
            $scope.filters.Brand.Value = Utility_ERP.Value_OperatorIN_($scope.data_Brand, 'Code');
        } else {
            $scope.filters.Brand.Operator = '=';
            $scope.filters.Brand.Value = $scope.selectedBrand;
        }

        if (!$scope.selectedProfile) {
            $scope.filters.Profile.Operator = 'in';
            $scope.filters.Profile.Value = Utility_ERP.Value_OperatorIN_($scope.data_Profile, 'Code');
        } else {
            $scope.filters.Profile.Operator = '=';
            $scope.filters.Profile.Value = $scope.selectedProfile;
        }

        if (!$scope.selectedCategory) {
            $scope.filters.Category.Operator = 'in';
            $scope.filters.Category.Value = Utility_ERP.Value_OperatorIN_($scope.data_Category, 'Code');
        } else {
            $scope.filters.Category.Operator = '=';
            $scope.filters.Category.Value = $scope.selectedCategory;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('TaxPositions', $scope);
    };

    $scope.Branch_Changed = async function () {
        // reset
        $scope.selectedWarehouse = '';

        $scope.Reorganize_Warehouse();

        await $scope.showData();
    };

    $scope.Reorganize_Warehouse = function () {
        var data = [];

        if (!$scope.selectedBranch) {
            // tanpa Filter Branch
            data = $scope.data_EmployeeWarehouseAccess;
        } else {
            // filter berdasarkan Branch
            data = $scope.data_EmployeeWarehouseAccess.filter(function (e) {
                return e.LocationCode == $scope.selectedBranch;
            });
        }

        $scope.data_Warehouse_perBranch = [...new Map(data.map((item) => [item['Code'], item])).values()].sort((x, y) => x.Code.localeCompare(y.Code));
    };

    $scope.getData_Brand = async function () {
        $scope.data_Brand = await Inventory_Service.Dropdown_Brand();
    };

    $scope.getData_Profile = async function () {
        $scope.data_Profile = await Inventory_Service.Dropdown_Profile();
    };

    $scope.getData_Category = async function () {
        $scope.data_Category = await Inventory_Service.Dropdown_Category();
    };

    

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let warehouse = $scope.filters.Warehouse.Value;
        if (warehouse && typeof warehouse === 'string' && warehouse.indexOf('(') >= 0) warehouse = '';
        $scope.selectedWarehouse = warehouse;

        let brand = $scope.filters.Brand.Value;
        if (brand && typeof brand === 'string' && brand.indexOf('(') >= 0) brand = '';
        $scope.selectedBrand = brand;

        let profile = $scope.filters.Profile.Value;
        if (profile && typeof profile === 'string' && profile.indexOf('(') >= 0) profile = '';
        $scope.selectedProfile = profile;

        let category = $scope.filters.Category.Value;
        if (category && typeof category === 'string' && category.indexOf('(') >= 0) category = '';
        $scope.selectedCategory = category;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $rootScope.EmployeeWarehouseAccess($scope, ''),
            $scope.getData_Brand(),
            $scope.getData_Profile(),
            $scope.getData_Category()
        ]);

        $rootScope.LoadFilterState('TaxPositions', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.Reorganize_Warehouse();

        $scope.showData();
    };

    $scope.exportToCsv = async function () {
        // Implementation for export to csv functionality
    }

    $scope.downloadSchema = async function () {
        // Implementation for download schema functionality
    }

    $scope.uploadData = async function () {
        // Implementation for upload functionality
    }

    $scope.initialize_Page();
});
angular.module('app.erp').controller('TaxReplenishmentCtrl', function ($rootScope, $scope, Utility_ERP, TaxReplenishment_Service, Inventory_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Warehouse: { PropertyName: 'WarehouseCode', Operator: 'in', Value: '' },
        Brand: { PropertyName: 'Brand', Operator: 'in', Value: '' },
        Profile: { PropertyName: 'Profile', Operator: 'in', Value: '' },
        Category: { PropertyName: 'CategoryCode', Operator: 'in', Value: '' },
    };

    $scope.selectedWarehouse = '';
    $scope.selectedBrand = '';
    $scope.selectedProfile = '';
    $scope.selectedCategory = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeWarehouseAccess = [];
    $scope.data_Brand = [];
    $scope.data_Brand_All = [];
    $scope.data_Profile = [];
    $scope.data_Profile_All = [];
    $scope.data_Category = [];
    $scope.data_Category_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = TaxReplenishment_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Item Code', 'ItemCode', 'ItemCode', 'Text', true],
            ['Item Name', 'ItemName', 'ItemName', 'Text', true],
            ['Brand', 'Brand', 'Brand', 'Text', true],
            ['Category', 'Category', 'Category', 'Text', true],
            ['Uom', 'Uom', 'Uom', 'Text', true],
            ['Lead Time', 'LeadTime', 'LeadTime', 'Number', true],
            ['Reserved', 'Reserved', 'Reserved', 'Number', true],
            ['Demand', 'Demand', 'Demand', 'Number', true],
            ['Physical', 'Physical', 'Physical', 'Number', true],
            ['Available', 'Available', 'Available', 'Number', true],
            ['Reorder Point', 'ReorderPoint', 'ReorderPoint', 'Number', true],
            ['EOQ', 'EOQ', 'EOQ', 'Number', true],
            ['On PR', 'OnPR', 'OnPR', 'Number', true],
            ['On PO', 'OnPO', 'OnPO', 'Number', true],
            ['On Rec.', 'OnRec', 'OnRec', 'Number', true],
            ['Rec. Order', 'RecOrder', 'RecOrder', 'Number', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedWarehouse) {
            $scope.filters.Warehouse.Operator = 'in';
            $scope.filters.Warehouse.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeWarehouseAccess, 'Code');
        } else {
            $scope.filters.Warehouse.Operator = '=';
            $scope.filters.Warehouse.Value = $scope.selectedWarehouse;
        }

        if (!$scope.selectedBrand) {
            $scope.filters.Brand.Operator = 'in';
            $scope.filters.Brand.Value = Utility_ERP.Value_OperatorIN_($scope.data_Brand, 'Code');
        } else {
            $scope.filters.Brand.Operator = '=';
            $scope.filters.Brand.Value = $scope.selectedBrand;
        }

        if (!$scope.selectedProfile) {
            $scope.filters.Profile.Operator = 'in';
            $scope.filters.Profile.Value = Utility_ERP.Value_OperatorIN_($scope.data_Profile, 'Code');
        } else {
            $scope.filters.Profile.Operator = '=';
            $scope.filters.Profile.Value = $scope.selectedProfile;
        }

        if (!$scope.selectedCategory) {
            $scope.filters.Category.Operator = 'in';
            $scope.filters.Category.Value = Utility_ERP.Value_OperatorIN_($scope.data_Category, 'Code');
        } else {
            $scope.filters.Category.Operator = '=';
            $scope.filters.Category.Value = $scope.selectedCategory;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('TaxReplenishment', $scope);

        delete $scope.filters['selectedShowAll'];
    };

    $scope.getData_Brand = async function () {
        $scope.data_Brand_All = await Inventory_Service.Dropdown_Brand();

        // prettier-ignore
        $scope.data_Brand = ($scope.selectedShowAll ? $scope.data_Brand_All : $scope.data_Brand_All.filter(function (e) { return e.IsArchive == false; }));
    };

    $scope.getData_Profile = async function () {
        $scope.data_Profile_All = await Inventory_Service.Dropdown_Profile();

        // prettier-ignore
        $scope.data_Profile = ($scope.selectedShowAll ? $scope.data_Profile_All : $scope.data_Profile_All.filter(function (e) { return e.IsArchive == false; }));
    };

    $scope.getData_Category = async function () {
        $scope.data_Category_All = await Inventory_Service.Dropdown_Category();

        // prettier-ignore
        $scope.data_Category = ($scope.selectedShowAll ? $scope.data_Category_All : $scope.data_Category_All.filter(function (e) { return e.IsArchive == false; }));
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Brand = ($scope.selectedShowAll ? $scope.data_Brand_All : $scope.data_Brand_All.filter(function (e) { return e.IsArchive == false; }));

        // prettier-ignore
        $scope.data_Profile = ($scope.selectedShowAll ? $scope.data_Profile_All : $scope.data_Profile_All.filter(function (e) { return e.IsArchive == false; }));

        // prettier-ignore
        $scope.data_Category = ($scope.selectedShowAll ? $scope.data_Category_All : $scope.data_Category_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) {
            $scope.selectedBrand = '';
            $scope.selectedProfile = '';
            $scope.selectedCategory = '';
        }

        if (flag) {
            await $scope.showData();
        }
    };

    

    async function Override_some_Filters() {
        let warehouse = $scope.filters.Warehouse.Value;
        if (warehouse && typeof warehouse === 'string' && warehouse.indexOf('(') >= 0) warehouse = '';
        $scope.selectedWarehouse = warehouse;

        let brand = $scope.filters.Brand.Value;
        if (brand && typeof brand === 'string' && brand.indexOf('(') >= 0) brand = '';
        $scope.selectedBrand = brand;

        let profile = $scope.filters.Profile.Value;
        if (profile && typeof profile === 'string' && profile.indexOf('(') >= 0) profile = '';
        $scope.selectedProfile = profile;

        let category = $scope.filters.Category.Value;
        if (category && typeof category === 'string' && category.indexOf('(') >= 0) category = '';
        $scope.selectedCategory = category;

        if ($scope.LoadFilterState_) {
            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeWarehouseAccess($scope, ''),
            $scope.getData_Brand(),
            $scope.getData_Profile(),
            $scope.getData_Category()
        ]);

        $rootScope.LoadFilterState('TaxReplenishment', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.createPO = async function () {
        // Implementation for create P/O functionality
    }

    $scope.initialize_Page();
});
// ini file Controller.js



angular.module('app.erp').controller('TransferRequestsCtrl', function ($rootScope, $scope, Utility_ERP, TransferRequests_Service, Inventory_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        RequestFrom: { PropertyName: 'RequestFromCode', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        DeliverTo: { PropertyName: 'DeliverToCode', Operator: 'in', Value: '' },
        RequiredDateFrom_date: { PropertyName: 'RequiredDate', Operator: '>=', Value: '' },
        RequiredDateTo_date: { PropertyName: 'RequiredDate', Operator: '<=', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedRequestFrom = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedDeliverTo = '';
    $scope.selectedRequiredDateFrom = '';
    $scope.selectedRequiredDateTo = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_RequestFrom = [];
    $scope.data_DeliverTo = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = TransferRequests_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Request Nr.', 'RequestNr', 'RequestNr', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['From W/H', 'FromWH', 'FromWH', 'Text', true],
            ['Dest. W/H', 'DestWH', 'DestWH', 'Text', true],
            ['Open Qty', 'OpenQty', 'OpenQty', 'Number', true],
            ['Total Qty', 'TotalQty', 'TotalQty', 'Number', true],
            ['Required Date', 'RequiredDate', 'RequiredDate', 'Date', true],
            ['Issued By', 'IssuedBy', 'IssuedBy', 'Text', true],
            ['Status', 'Status', 'Status', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedRequestFrom) {
            $scope.filters.RequestFrom.Operator = 'in';
            $scope.filters.RequestFrom.Value = Utility_ERP.Value_OperatorIN_($scope.data_RequestFrom, 'Code');
        } else {
            $scope.filters.RequestFrom.Operator = '=';
            $scope.filters.RequestFrom.Value = $scope.selectedRequestFrom;
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        if (!$scope.selectedDeliverTo) {
            $scope.filters.DeliverTo.Operator = 'in';
            $scope.filters.DeliverTo.Value = Utility_ERP.Value_OperatorIN_($scope.data_DeliverTo, 'Code');
        } else {
            $scope.filters.DeliverTo.Operator = '=';
            $scope.filters.DeliverTo.Value = $scope.selectedDeliverTo;
        }

        $scope.filters.RequiredDateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedRequiredDateFrom);
        $scope.filters.RequiredDateTo_date.Value = $rootScope.Date_to_DB($scope.selectedRequiredDateTo);

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('TransferRequests', $scope);

        delete $scope.filters['selectedShowAll'];
    };

    $scope.getData_RequestFrom = async function () {
        $scope.data_RequestFrom = await Inventory_Service.Dropdown_Warehouse();
    };

    $scope.getData_DeliverTo = async function () {
        $scope.data_DeliverTo = await Inventory_Service.Dropdown_Warehouse();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('TransferRequest');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';
        $scope.selectedBranch = branch;

        let requestFrom = $scope.filters.RequestFrom.Value;
        if (requestFrom && typeof requestFrom === 'string' && requestFrom.indexOf('(') >= 0) requestFrom = '';
        $scope.selectedRequestFrom = requestFrom;

        let deliverTo = $scope.filters.DeliverTo.Value;
        if (deliverTo && typeof deliverTo === 'string' && deliverTo.indexOf('(') >= 0) deliverTo = '';
        $scope.selectedDeliverTo = deliverTo;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_RequestFrom(),
            $scope.getData_DeliverTo(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('TransferRequests', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.newTransfer = async function () {
        // Implementation for new transfer request
    }

    $scope.shipment = async function () {
        // Implementation for shipment
    }

    $scope.closeTransfer = async function () {
        // Implementation for close transfer
    }

    $scope.printForm = async function () {
        // Implementation for print
    }

    $scope.exportList = async function () {
        // Implementation for export to excel
    }

    $scope.voidTransfer = async function () {
        // Implementation for void transfer
    }

    $scope.initialize_Page();
});
angular.module('app.erp').controller('UomFormCtrl', function ($rootScope, $scope, $stateParams, $window, Utility_ERP, Uoms_Service) {
    // Data to View
    $scope.form = {};
    $scope.form.submitted = false;

    // CRUD: Create, Read, Update, Delete
    $scope.Is_Read = false;
    $scope.Is_Create = false;
    $scope.Is_Update = false;
    $scope.Is_Writeable = false;

    $scope.still_processing = false;

    let model_Template = {
        Code: '',
        Description: '',
        ShortName: '',
        Active: true,
        IsPackingUom: false,
        PackingLevel: 0,
    };

    $scope.model = { ...model_Template };

    // some Functions
    $scope.showData = async function () {
        if (!$scope.Is_Read) return;

        Utility_ERP.Still_Processing($scope, true);
        let response = await Uoms_Service.DataSingle($scope.model.Code);
        if (!response.success) {
            Utility_ERP.Still_Processing($scope, false);
            return;
        }

        if (!response.data) {
            let code = $scope.model.Code;

            // reset
            $scope.model = { ...model_Template };

            messageValidasi(`Data dengan code '${code}', tidak ditemukan`);
            Utility_ERP.Still_Processing($scope, false);
            return;
        }

        $scope.model = response.data;

        Utility_ERP.Still_Processing($scope, false);
    };

    $scope.saveData = async function (skipConfirmation = false) {
        if ($scope.still_processing) return;

        $scope.form.submitted = true;
        Utility_ERP.Still_Processing($scope, true);

        if (!(await $scope.Valid_toSave(skipConfirmation))) {
            Utility_ERP.Still_Processing($scope, false);

            return;
        }

        let data = {
            dataInput: $scope.model,
        };

        $rootScope.SanitizeInput(data, model_Template);

        let resultSave = await Uoms_Service.Save(data.dataInput, $scope.Is_Create);

        if (!resultSave.success) {
            Utility_ERP.Still_Processing($scope, false);
            $scope.form.submitted = false;

            return;
        }

        messageInfo('Data berhasil disimpan');
    };

    $scope.Valid_toSave = async function (skipConfirmation) {
        if ($rootScope.Not_ValidString($scope.model.Code)) {
            messageValidasi('Code must not be empty');
            return false;
        }

        if ($rootScope.Not_ValidString($scope.model.ShortName)) {
            messageValidasi('ShortName must not be empty');
            return false;
        }

        if ($rootScope.Not_ValidString($scope.model.Description)) {
            messageValidasi('Description must not be empty');
            return false;
        }

        return true;
    };

    function messageValidasi(content) {
        $.bigBox({
            title: 'Error: Message',
            content: content,
            color: '#C46A69',
            icon: 'fa fa-warning shake animated',
            number: '',
            timeout: 5000,
        });
    }

    function messageInfo(content) {
        let alreadyBack = false;

        $.bigBox(
            {
                title: 'Informasi',
                content: content,
                color: '#739E73',
                timeout: $rootScope.Timeout_Save(),
                icon: 'fa fa-check',
                number: '',
            },
            function () {
                Utility_ERP.Still_Processing($scope, false);
                $scope.form.submitted = false;

                alreadyBack = true;
                $window.history.back();
            }
        );

        setTimeout(() => {
            Utility_ERP.Still_Processing($scope, false);
            $scope.form.submitted = false;

            if (alreadyBack) return;
            $window.history.back();
        }, $rootScope.Timeout_Save());
    }

    $scope.Toggle_debugScope_ = function () {
        $rootScope.Toggle_debugScope($scope);
    }

    async function Data_References() { }

    $scope.Set_Editable = async function () {
        if ($scope.still_processing) return;

        $scope.Is_Read = false;
        $scope.Is_Create = false;
        $scope.Is_Update = true;

        $scope.Is_Writeable = $scope.Is_Create || $scope.Is_Update;

        Data_References();
    }

    $scope.handleParameters = function () {
        $scope.model.Code = $rootScope.Simple_Decode($rootScope.getParamValue($stateParams, 'code'));

        $scope.Is_Read = $rootScope.Not_Null($scope.model.Code);

        $scope.Is_Create = !$scope.Is_Read;
        $scope.Is_Update = false;

        $scope.Is_Writeable = $scope.Is_Create || $scope.Is_Update;
    }

    $scope.initialize_Page = async function () {
        $scope.handleParameters();

        await Data_References();

        await $scope.showData();

        // Langsung Mode Edit, jika sedang dalam kondisi Mode - Read
        if ($scope.Is_Read) {
            $scope.Set_Editable();
        }
    };

    $scope.initialize_Page();

});
angular.module('app.erp').controller('UomsCtrl', function ($rootScope, $scope, Utility_ERP, Uoms_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = Uoms_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Short Name', 'ShortName', 'ShortName', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['', 'Active', 'Active', 'Boolean', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('UOM', $scope);
    };

    

    async function Override_some_Filters() { }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('UOM', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});

angular.module('app.erp').controller('WarehouseFormCtrl', function ($rootScope, $scope, Utility_ERP, Warehouses_Service) {
});

angular.module('app.erp').controller('WarehousesCtrl', function ($rootScope, $scope, Utility_ERP, Warehouses_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'BranchCode', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = Warehouses_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['Branch', 'BranchName', 'BranchName', 'Text', true],
            ['Business Name', 'BusinessName', 'BusinessName', 'Text', true],
            ['Address', 'AddressLine', 'AddressLine', 'Text', true],
            ['D/S', 'IsDropshipWarehouse', 'IsDropshipWarehouse', 'Boolean', true],
            ['', 'Active', 'Active', 'Boolean', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);

        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('Warehouse', $scope);
    };

    $scope.Branch_Changed = function () {
        $scope.showData();
    };

    

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('Warehouse', $scope);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, '')
        ]);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});

angular.module('app.erp').controller('WarehouseSelectionCtrl', function ($rootScope, $scope, Utility_ERP, WarehouseSelection_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';

    $scope.data_EmployeeLocationAccess = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = WarehouseSelection_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('WarehouseSelection', $scope);
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, '')
        ]);

        $rootScope.LoadFilterState('WarehouseSelection', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.addSelectedWarehouse = async function () {
        // Implement add selected warehouse logic here
    };

    $scope.initialize_Page();
});
// ini file Controller.js
// ini file Controller.js

angular.module('app.erp').controller('AdvanceAgingsCtrl', function ($rootScope, $scope, Utility_ERP, AdvanceAgings_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'Branch', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';

    $scope.data_EmployeeLocationAccess = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = AdvanceAgings_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Personnel', 'Personnel', 'Personnel', 'Text', true],
            ['Total', 'Total', 'Total', 'Currency', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('AdvanceAgings', $scope);
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, '')
        ]);

        $rootScope.LoadFilterState('AdvanceAgings', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('AdvanceCategoriesCtrl', function ($rootScope, $scope, Utility_ERP, AdvanceCategories_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        ParentCategory: { PropertyName: 'ParentCode', Operator: 'in', Value: '' },
    };

    $scope.selectedParentCategory = '';

    $scope.data_ParentCategory = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = AdvanceCategories_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedParentCategory) {
            $scope.filters.ParentCategory.Operator = 'in';
            $scope.filters.ParentCategory.Value = Utility_ERP.Value_OperatorIN_($scope.data_ParentCategory, 'Code');
        } else {
            $scope.filters.ParentCategory.Operator = '=';
            $scope.filters.ParentCategory.Value = $scope.selectedParentCategory;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('AdvanceCategories', $scope);
    };

    $scope.getData_ParentCategory = async function () {
        $scope.data_ParentCategory = await AdvanceCategories_Service.Dropdown_ParentCategory();
    };

    ;

    async function Override_some_Filters() {
        let parentCategory = $scope.filters.ParentCategory.Value;
        if (parentCategory && typeof parentCategory === 'string' && parentCategory.indexOf('(') >= 0) parentCategory = '';
        $scope.selectedParentCategory = parentCategory;
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $scope.getData_ParentCategory()
        ]);

        $rootScope.LoadFilterState('AdvanceCategories', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.downloadSchema = async function () {
        // implement download schema logic
    };

    $scope.uploadData = async function () {
        // implement upload data logic
    };

    $scope.initialize_Page();
});
// ini file Controller.js
// ini file Controller.js

angular.module('app.erp').controller('AdvanceReasonsCtrl', function ($rootScope, $scope, Utility_ERP, AdvanceReasons_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = AdvanceReasons_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Reason Name', 'ReasonName', 'ReasonName', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('AdvanceReasons', $scope);
    };

    ;

    async function Override_some_Filters() {
        // No additional filters to override for this page
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('AdvanceReasons', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.downloadSchema = async function () {
        // Download schema functionality to be implemented
    };

    $scope.uploadData = async function () {
        // Upload functionality to be implemented
    };

    $scope.initialize_Page();
});
// ini file Controller.js

angular.module('app.erp').controller('AdvanceRequestsCtrl', function ($rootScope, $scope, Utility_ERP, AdvanceRequests_Service) {
    // Data table configuration
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // Filter configuration
    $scope.filters = {
        Branch: { PropertyName: 'BranchCode', Operator: 'in', Value: '' },
        RequiredDateFrom: { PropertyName: 'RequiredDate', Operator: '>=', Value: '' },
        RequiredDateTo: { PropertyName: 'RequiredDate', Operator: '<=', Value: '' },
        ReasonType: { PropertyName: 'ReasonTypeCode', Operator: '=', Value: '' },
        SettlementDateFrom: { PropertyName: 'SettlementDate', Operator: '>=', Value: '' },
        SettlementDateTo: { PropertyName: 'SettlementDate', Operator: '<=', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    // Filter data
    $scope.selectedBranch = '';
    $scope.selectedRequiredDateFrom = '';
    $scope.selectedRequiredDateTo = '';
    $scope.selectedSettlementDateFrom = '';
    $scope.selectedSettlementDateTo = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    // Dropdown data
    $scope.data_EmployeeLocationAccess = [];
    $scope.data_ReasonTypes = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // Create DataTable
    $scope.CreateTable = function () {
        $scope.dt = AdvanceRequests_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Request #', 'Request', 'Request', 'Text', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Reason Type', 'ReasonType', 'ReasonType', 'Text', true],
            ['Paid To', 'PaidTo', 'PaidTo', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['Amount', 'Amount', 'Amount', 'Currency', true],
            ['Required Date', 'RequiredDate', 'RequiredDate', 'Date', true],
            ['Settlement Date', 'SettlementDate', 'SettlementDate', 'Date', true],
            ['Status', 'Status', 'Status', 'Text', true],
            ['Payment Nr.', 'PaymentNr', 'PaymentNr', 'Text', true],
            ['Settlement Nr.', 'SettlementNr', 'SettlementNr', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    // Show data function
    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        $scope.filters.RequiredDateFrom.Value = $rootScope.Date_to_DB($scope.selectedRequiredDateFrom);
        $scope.filters.RequiredDateTo.Value = $rootScope.Date_to_DB($scope.selectedRequiredDateTo);

        $scope.filters.SettlementDateFrom.Value = $rootScope.Date_to_DB($scope.selectedSettlementDateFrom);
        $scope.filters.SettlementDateTo.Value = $rootScope.Date_to_DB($scope.selectedSettlementDateTo);

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;
        $rootScope.SaveFilterState('AdvanceRequests', $scope);
        delete $scope.filters['selectedShowAll'];
    };

    // Get Reason Types dropdown data
    $scope.getData_ReasonTypes = async function () {
        $scope.data_ReasonTypes = await AdvanceRequests_Service.Dropdown_ReasonTypes();
    };

    // Get Status dropdown data
    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('AdvanceRequest');

        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    // Toolbar action functions
    $scope.newRequest = async function () {
        // TODO: Implement new advance request functionality
        console.log('New Advance Request clicked');
    };

    $scope.voidRequest = async function () {
        // TODO: Implement void request functionality
        console.log('Void Request clicked');
    };

    $scope.printForm = async function () {
        // TODO: Implement print functionality
        console.log('Print clicked');
    };

    $scope.exportToExcel = async function () {
        // TODO: Implement export to excel functionality
        console.log('Export To Excel clicked');
    };

    $scope.downloadSchema = async function () {
        // TODO: Implement download schema functionality
        console.log('Download Schema clicked');
    };

    $scope.uploadSchema = async function () {
        // TODO: Implement upload schema functionality
        console.log('Upload Schema clicked');
    };

    $scope.editRequest = function (row) {
        // TODO: Implement edit advance request functionality
        console.log('Edit Advance Request:', row.Request);
    };

    // Toggle debug scope
    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    // Initialize page
    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_ReasonTypes(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('AdvanceRequests', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        await $scope.showData();

        Utility_ERP.Still_Processing($scope, false);
    };

    $scope.initialize_Page();
});

angular.module('app.erp').controller('AdvanceSettlementsCtrl', function ($rootScope, $scope, Utility_ERP, AdvanceSettlements_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        ReasonType: { PropertyName: 'ReasonTypeCode', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedReasonType = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_ReasonType = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = AdvanceSettlements_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Settlement #', 'SettlementNo', 'SettlementNo', 'Text', true],
            ['Request #', 'RequestNo', 'RequestNo', 'Text', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Reason Type', 'ReasonType', 'ReasonType', 'Text', true],
            ['Requested By', 'RequestedBy', 'RequestedBy', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['Amount', 'Amount', 'Amount', 'Number', true],
            ['Settlement Amount', 'SettlementAmount', 'SettlementAmount', 'Number', true],
            ['Short/Over', 'ShortOver', 'ShortOver', 'Number', true],
            ['Status', 'Status', 'Status', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedReasonType) {
            $scope.filters.ReasonType.Operator = 'in';
            $scope.filters.ReasonType.Value = Utility_ERP.Value_OperatorIN_($scope.data_ReasonType, 'Code');
        } else {
            $scope.filters.ReasonType.Operator = '=';
            $scope.filters.ReasonType.Value = $scope.selectedReasonType;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('AdvanceSettlements', $scope);

        delete $scope.filters['selectedShowAll'];
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_ReasonType = async function () {
        $scope.data_ReasonType = await AdvanceSettlements_Service.Dropdown_ReasonType();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('AdvanceSettlement');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let reasonType = $scope.filters.ReasonType.Value;
        if (reasonType && typeof reasonType === 'string' && reasonType.indexOf('(') >= 0) reasonType = '';
        $scope.selectedReasonType = reasonType;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_ReasonType(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('AdvanceSettlements', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.verifySettlement = async function () {
        // Implement verify settlement functionality
    };

    $scope.printForm = async function () {
        // Implement print functionality
    };

    $scope.voidSettlement = async function () {
        // Implement void settlement functionality
    };

    $scope.initialize_Page();
});
// ini file Controller.js

// ini file Controller.js

angular.module('app.erp').controller('ARListForReceiptSelectionCtrl', function ($rootScope, $scope, Utility_ERP, ARListForReceiptSelection_Service, BusinessRelation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Currency: { PropertyName: 'CurrencyCode', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        DueDateFrom_date: { PropertyName: 'DueDate', Operator: '>=', Value: '' },
        DueDateTo_date: { PropertyName: 'DueDate', Operator: '<=', Value: '' },
        BR: { PropertyName: 'CustomerID', Operator: '=', Value: '' },
        ReasonType: { PropertyName: 'ReasonTypeCode', Operator: 'in', Value: '' },
        CollectDay: { PropertyName: 'CollectDay', Operator: 'in', Value: '' },
        CollectArea: { PropertyName: 'CollectAreaCode', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedCurrency = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedDueDateFrom = '';
    $scope.selectedDueDateTo = '';
    $scope.selectedBR = '';
    $scope.selectedReasonType = '';
    $scope.selectedCollectDay = '';
    $scope.selectedCollectArea = '';

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_Currency = [];
    $scope.data_ReasonType = [];
    $scope.data_CollectDay = [];
    $scope.data_CollectArea = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = ARListForReceiptSelection_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Invoice #', 'InvoiceNo', 'InvoiceNo', 'Text', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Reason', 'Reason', 'Reason', 'Text', true],
            ['PO#', 'PONo', 'PONo', 'Text', true],
            ['Amount Due', 'AmountDue', 'AmountDue', 'Number', true],
            ['Due Date', 'DueDate', 'DueDate', 'Date', true],
            ['Receipt Nr.', 'ReceiptNr', 'ReceiptNr', 'Text', true],
            ['Collect Day', 'CollectDay', 'CollectDay', 'Text', true],
            ['Collect Address', 'CollectAddress', 'CollectAddress', 'Text', true],
            ['Collect Area', 'CollectArea', 'CollectArea', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedCurrency) {
            $scope.filters.Currency.Operator = 'in';
            $scope.filters.Currency.Value = Utility_ERP.Value_OperatorIN_($scope.data_Currency, 'Code');
        } else {
            $scope.filters.Currency.Operator = '=';
            $scope.filters.Currency.Value = $scope.selectedCurrency;
        }

        if (!$scope.selectedReasonType) {
            $scope.filters.ReasonType.Operator = 'in';
            $scope.filters.ReasonType.Value = Utility_ERP.Value_OperatorIN_($scope.data_ReasonType, 'Code');
        } else {
            $scope.filters.ReasonType.Operator = '=';
            $scope.filters.ReasonType.Value = $scope.selectedReasonType;
        }

        if (!$scope.selectedCollectDay) {
            $scope.filters.CollectDay.Operator = 'in';
            $scope.filters.CollectDay.Value = Utility_ERP.Value_OperatorIN_($scope.data_CollectDay, 'Code');
        } else {
            $scope.filters.CollectDay.Operator = '=';
            $scope.filters.CollectDay.Value = $scope.selectedCollectDay;
        }

        if (!$scope.selectedCollectArea) {
            $scope.filters.CollectArea.Operator = 'in';
            $scope.filters.CollectArea.Value = Utility_ERP.Value_OperatorIN_($scope.data_CollectArea, 'Code');
        } else {
            $scope.filters.CollectArea.Operator = '=';
            $scope.filters.CollectArea.Value = $scope.selectedCollectArea;
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        $scope.filters.DueDateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDueDateFrom);
        $scope.filters.DueDateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDueDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedBR'] = $scope.selectedBR;

        $rootScope.SaveFilterState('ARListForReceiptSelection', $scope);

        delete $scope.filters['selectedBR'];
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.customerSelected = async function (flag = true) {
        if ($rootScope.Not_ValidString($scope.filters.BR.Value)) {
            if (flag) {
                $scope.showData();
            }
            return;
        }

        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_Currency = async function () {
        //$scope.data_Currency = await Currency_Service.Dropdown();
    };

    $scope.getData_ReasonType = async function () {
        // Implement service call to get reason types
        $scope.data_ReasonType = await ARListForReceiptSelection_Service.Dropdown_ReasonType();
    };

    $scope.getData_CollectDay = async function () {
        // Implement service call to get collect days
        $scope.data_CollectDay = await ARListForReceiptSelection_Service.Dropdown_CollectDay();
    };

    $scope.getData_CollectArea = async function () {
        // Implement service call to get collect areas
        $scope.data_CollectArea = await ARListForReceiptSelection_Service.Dropdown_CollectArea();
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let currency = $scope.filters.Currency.Value;
        if (currency && typeof currency === 'string' && currency.indexOf('(') >= 0) currency = '';
        $scope.selectedCurrency = currency;

        let reasonType = $scope.filters.ReasonType.Value;
        if (reasonType && typeof reasonType === 'string' && reasonType.indexOf('(') >= 0) reasonType = '';
        $scope.selectedReasonType = reasonType;

        let collectDay = $scope.filters.CollectDay.Value;
        if (collectDay && typeof collectDay === 'string' && collectDay.indexOf('(') >= 0) collectDay = '';
        $scope.selectedCollectDay = collectDay;

        let collectArea = $scope.filters.CollectArea.Value;
        if (collectArea && typeof collectArea === 'string' && collectArea.indexOf('(') >= 0) collectArea = '';
        $scope.selectedCollectArea = collectArea;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedBR = $scope.filters['selectedBR'];
            delete $scope.filters['selectedBR'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_Currency(),
            $scope.getData_ReasonType(),
            $scope.getData_CollectDay(),
            $scope.getData_CollectArea()
        ]);

        $rootScope.LoadFilterState('ARListForReceiptSelection', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.addReceipt = async function () {
        // Implement add receipt functionality
    };

    $scope.initialize_Page();
});
// ini file Controller.js
angular.module('app.erp').controller('BankReconciliationCtrl', function ($rootScope, $scope, Utility_ERP, BankReconciliation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.yearOptions = [];
    $scope.periodOptions = [
        { Value: 1, Text: 'January' },
        { Value: 2, Text: 'February' },
        { Value: 3, Text: 'March' },
        { Value: 4, Text: 'April' },
        { Value: 5, Text: 'May' },
        { Value: 6, Text: 'June' },
        { Value: 7, Text: 'July' },
        { Value: 8, Text: 'August' },
        { Value: 9, Text: 'September' },
        { Value: 10, Text: 'October' },
        { Value: 11, Text: 'November' },
        { Value: 12, Text: 'December' }
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        BankAccount: { PropertyName: 'BankAccountCode', Operator: '=', Value: '' },
        BeginningBalance: { PropertyName: 'BeginningBalance', Operator: '=', Value: 0 },
        Year: { PropertyName: 'Year', Operator: '=', Value: null },
        ClearDateFrom_date: { PropertyName: 'ClearDate', Operator: '>=', Value: '' },
        ClearDateTo_date: { PropertyName: 'ClearDate', Operator: '<=', Value: '' },
        RecordedEndingBalance: { PropertyName: 'RecordedEndingBalance', Operator: '=', Value: 0 },
        Period: { PropertyName: 'Period', Operator: '=', Value: null },
        ReconciledInOut: { PropertyName: 'ReconciledInOut', Operator: '=', Value: 0 },
        BanksEndingBalance: { PropertyName: 'BanksEndingBalance', Operator: '=', Value: 0 },
        DiscrepancyBalance: { PropertyName: 'DiscrepancyBalance', Operator: '=', Value: 0 },
        UnReconciledInOut: { PropertyName: 'UnReconciledInOut', Operator: '=', Value: 0 },
        ShowUnreconciledOnly: { PropertyName: 'IsReconciled', Operator: '=', Value: null }
    };

    $scope.selectedBankAccount = '';
    $scope.selectedYear = null;
    $scope.selectedClearDateFrom = '';
    $scope.selectedClearDateTo = '';
    $scope.selectedPeriod = null;
    $scope.selectedShowUnreconciledOnly = false;

    $scope.data_BankAccount = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = BankReconciliation_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['R', 'IsReconciled', 'IsReconciled', 'Boolean', true],
            ['Clear Date', 'ClearDate', 'ClearDate', 'Date', true],
            ['Recorded Date', 'RecordedDate', 'RecordedDate', 'Date', true],
            ['Payment Nr.', 'PaymentNr', 'PaymentNr', 'Text', true],
            ['Payee', 'Payee', 'Payee', 'Text', true],
            ['Cheque Nr.', 'ChequeNr', 'ChequeNr', 'Text', true],
            ['Cheque Date', 'ChequeDate', 'ChequeDate', 'Date', true],
            ['Notes', 'Notes', 'Notes', 'Text', true],
            ['Amount In', 'AmountIn', 'AmountIn', 'Currency', true],
            ['Amount Out', 'AmountOut', 'AmountOut', 'Currency', true],
            ['W', 'W', 'W', 'Text', true]
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        $scope.filters.ClearDateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedClearDateFrom);
        $scope.filters.ClearDateTo_date.Value = $rootScope.Date_to_DB($scope.selectedClearDateTo);

        $scope.filters.ShowUnreconciledOnly.Value = null;
        if ($scope.selectedShowUnreconciledOnly) {
            $scope.filters.ShowUnreconciledOnly.Value = false;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedShowUnreconciledOnly'] = $scope.selectedShowUnreconciledOnly;

        $rootScope.SaveFilterState('BankReconciliation', $scope);

        delete $scope.filters['selectedShowUnreconciledOnly'];

        // Calculate balances after loading data
        $scope.Calculate_Summary();
    };

    $scope.BankAccount_Changed = async function () {
        // Reset other filters when bank account changes
        $scope.selectedYear = null;
        $scope.selectedPeriod = null;
        $scope.filters.BeginningBalance.Value = 0;
        $scope.filters.RecordedEndingBalance.Value = 0;
        $scope.filters.ReconciledInOut.Value = 0;
        $scope.filters.BanksEndingBalance.Value = 0;
        $scope.filters.DiscrepancyBalance.Value = 0;
        $scope.filters.UnReconciledInOut.Value = 0;

        if ($scope.selectedBankAccount) {
            // Load beginning balance for selected bank account
            await $scope.Load_BeginningBalance();
        }

        await $scope.showData();
    };

    $scope.Year_Changed = async function () {
        await $scope.showData();
    };

    $scope.Load_BeginningBalance = async function () {
        if (!$scope.selectedBankAccount || !$scope.selectedYear || !$scope.selectedPeriod) {
            return;
        }

        // Call service to get beginning balance
        let result = await BankReconciliation_Service.GetBeginningBalance(
            $scope.selectedBankAccount,
            $scope.selectedYear,
            $scope.selectedPeriod
        );

        if (result) {
            $scope.filters.BeginningBalance.Value = result.BeginningBalance || 0;
        }
    };

    $scope.Calculate_Balance = function () {
        // Calculate Discrepancy Balance
        let recordedBalance = parseFloat($scope.filters.RecordedEndingBalance.Value) || 0;
        let banksBalance = parseFloat($scope.filters.BanksEndingBalance.Value) || 0;
        let unreconciledInOut = parseFloat($scope.filters.UnReconciledInOut.Value) || 0;

        $scope.filters.DiscrepancyBalance.Value = banksBalance + unreconciledInOut - recordedBalance;
    };

    $scope.Calculate_Summary = function () {
        if (!$scope.dt.data || $scope.dt.data.length === 0) {
            return;
        }

        let reconciledIn = 0;
        let reconciledOut = 0;
        let unreconciledIn = 0;
        let unreconciledOut = 0;

        $scope.dt.data.forEach(function (row) {
            let amountIn = parseFloat(row.AmountIn) || 0;
            let amountOut = parseFloat(row.AmountOut) || 0;

            if (row.IsReconciled) {
                reconciledIn += amountIn;
                reconciledOut += amountOut;
            } else {
                unreconciledIn += amountIn;
                unreconciledOut += amountOut;
            }
        });

        $scope.filters.ReconciledInOut.Value = reconciledIn - reconciledOut;
        $scope.filters.UnReconciledInOut.Value = unreconciledIn - unreconciledOut;

        // Calculate Recorded Ending Balance
        let beginningBalance = parseFloat($scope.filters.BeginningBalance.Value) || 0;
        $scope.filters.RecordedEndingBalance.Value = beginningBalance + reconciledIn - reconciledOut + unreconciledIn - unreconciledOut;

        // Recalculate discrepancy
        $scope.Calculate_Balance();
    };

    $scope.Row_Reconciled_Changed = function (row) {
        // Recalculate summary when reconciliation status changes
        $scope.Calculate_Summary();

        // Optionally save the reconciliation status
        // BankReconciliation_Service.UpdateReconciliationStatus(row);
    };

    $scope.getData_BankAccount = async function () {
        $scope.data_BankAccount = await Finance_Service.Dropdown_BankAccount();
    };

    $scope.Generate_YearOptions = function () {
        let currentYear = new Date().getFullYear();
        $scope.yearOptions = [];

        for (let i = currentYear - 5; i <= currentYear + 1; i++) {
            $scope.yearOptions.push({ Value: i, Text: i.toString() });
        }

        // Set default to current year
        $scope.selectedYear = currentYear;
    };

    ;

    async function Override_some_Filters() {
        if ($scope.LoadFilterState_) {
            $scope.selectedShowUnreconciledOnly = $scope.filters['selectedShowUnreconciledOnly'];
            delete $scope.filters['selectedShowUnreconciledOnly'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $scope.Generate_YearOptions();

        await Promise.allSettled([
            $scope.getData_BankAccount()
        ]);

        $rootScope.LoadFilterState('BankReconciliation', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        // Don't call showData here, wait for user to select bank account
        Utility_ERP.Still_Processing($scope, false);
    };

    $scope.receiveDeposit = async function () {
        // Implement receive deposit functionality
    };

    $scope.payDeposit = async function () {
        // Implement pay deposit functionality
    };

    $scope.customerReceipt = async function () {
        // Implement customer receipt functionality
    };

    $scope.vendorPayment = async function () {
        // Implement vendor payment functionality
    };

    $scope.expense = async function () {
        // Implement expense functionality
    };

    $scope.receipt = async function () {
        // Implement receipt functionality
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('BankReconSummaryCtrl', function ($rootScope, $scope, Utility_ERP, BankReconSummary_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.yearOptions = [];
    $scope.periodOptions = [
        { Value: 1, Text: '1' },
        { Value: 2, Text: '2' },
        { Value: 3, Text: '3' },
        { Value: 4, Text: '4' },
        { Value: 5, Text: '5' },
        { Value: 6, Text: '6' },
        { Value: 7, Text: '7' },
        { Value: 8, Text: '8' },
        { Value: 9, Text: '9' },
        { Value: 10, Text: '10' },
        { Value: 11, Text: '11' },
        { Value: 12, Text: '12' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        BankAccount: { PropertyName: 'BankAccountCode', Operator: 'in', Value: '' },
        Year: { PropertyName: 'Year', Operator: '=', Value: null },
        Period: { PropertyName: 'Period', Operator: '=', Value: null },
    };

    $scope.selectedBankAccount = '';

    $scope.data_BankAccount = [];

    // Generate year options (current year ± 5 years)
    $scope.generateYearOptions = function () {
        const currentYear = new Date().getFullYear();
        $scope.yearOptions = [];
        for (let i = currentYear - 5; i <= currentYear + 5; i++) {
            $scope.yearOptions.push({ Value: i, Text: i.toString() });
        }
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = BankReconSummary_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Cash Account', 'CashAccount', 'CashAccount', 'Text', true],
            ['Year', 'Year', 'Year', 'Number', true],
            ['Period', 'Period', 'Period', 'Number', true],
            ['Beginning Balance', 'BeginningBalance', 'BeginningBalance', 'Currency', true],
            ['Recorded Ending Balance', 'RecordedEndingBalance', 'RecordedEndingBalance', 'Currency', true],
            ['Bank\'s Ending Balance', 'BanksEndingBalance', 'BanksEndingBalance', 'Currency', true],
            ['Discrepancy', 'Discrepancy', 'Discrepancy', 'Currency', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBankAccount) {
            $scope.filters.BankAccount.Operator = 'in';
            $scope.filters.BankAccount.Value = Utility_ERP.Value_OperatorIN_($scope.data_BankAccount, 'Code');
        } else {
            $scope.filters.BankAccount.Operator = '=';
            $scope.filters.BankAccount.Value = $scope.selectedBankAccount;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('BankReconSummary', $scope);
    };

    $scope.getData_BankAccount = async function () {
        $scope.data_BankAccount = await BankReconSummary_Service.Dropdown_BankAccount();
    };

    ;

    async function Override_some_Filters() {
        let bankAccount = $scope.filters.BankAccount.Value;
        if (bankAccount && typeof bankAccount === 'string' && bankAccount.indexOf('(') >= 0) bankAccount = '';
        $scope.selectedBankAccount = bankAccount;
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $scope.generateYearOptions();

        await Promise.allSettled([
            $scope.getData_BankAccount()
        ]);

        $rootScope.LoadFilterState('BankReconSummary', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.exportList = async function () {
        // Implementation for export to excel
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('BrowseAdvanceReasonCtrl', function ($rootScope, $scope, Utility_ERP, BrowseAdvanceReason_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = BrowseAdvanceReason_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Name', 'Name', 'Name', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('BrowseAdvanceReason', $scope);
    };

    ;

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('BrowseAdvanceReason', $scope);

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('BudgetPlansCtrl', function ($rootScope, $scope, Utility_ERP, BudgetPlans_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'Branch', Operator: 'in', Value: '' },
        Type: { PropertyName: 'Type', Operator: '=', Value: null },
        Year: { PropertyName: 'Year', Operator: '=', Value: null }
    };

    $scope.selectedBranch = '';

    $scope.data_EmployeeLocationAccess = [];

    // Dropdown options for Type
    $scope.typeOptions = [
        { Value: null, Text: 'All' },
        { Value: 'OPEX', Text: 'OPEX' },
        { Value: 'CAPEX', Text: 'CAPEX' }
    ];

    // Dropdown options for Year
    $scope.yearOptions = [
        { Value: null, Text: 'All' }
    ];

    // Generate year options (current year and 5 years back/forward)
    (function generateYearOptions() {
        const currentYear = new Date().getFullYear();
        for (let i = -5; i <= 5; i++) {
            const year = currentYear + i;
            $scope.yearOptions.push({ Value: year, Text: year.toString() });
        }
    })();

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = BudgetPlans_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Budget ID', 'BudgetID', 'BudgetID', 'Text', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Type', 'Type', 'Type', 'Text', true],
            ['Year', 'Year', 'Year', 'Number', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['Status', 'Status', 'Status', 'Text', true]
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('BudgetPlans', $scope);
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, '')
        ]);

        $rootScope.LoadFilterState('BudgetPlans', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});
// ini file Controller.js

angular.module('app.erp').controller('CashAccountsCtrl', function ($rootScope, $scope, Utility_ERP, CashAccounts_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';

    $scope.data_EmployeeLocationAccess = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = CashAccounts_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Short Name', 'ShortName', 'ShortName', 'Text', true],
            ['Name', 'Name', 'Name', 'Text', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Bank', 'Bank', 'Bank', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('CashAccounts', $scope);
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, '')
        ]);

        $rootScope.LoadFilterState('CashAccounts', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.downloadSchema = async function () { }

    $scope.uploadData = async function () { }

    $scope.exportList = async function () { }

    $scope.initialize_Page();
});
angular.module('app.erp').controller('CashPositionsCtrl', function ($rootScope, $scope, Utility_ERP, CashPositions_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = CashPositions_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Short Name', 'ShortName', 'ShortName', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['Active', 'Active', 'Active', 'Boolean', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('CashPositions', $scope);
    };

    ;

    async function Override_some_Filters() {
        // No complex filters to override
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('CashPositions', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.downloadSchema = async function () {
        // Download Schema implementation
    };

    $scope.uploadData = async function () {
        // Upload Data implementation
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('CashReconSummaryCtrl', function ($rootScope, $scope, Utility_ERP, CashReconSummary_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.yearOptions = [
        { Value: null, Text: 'All' },
        { Value: 2024, Text: '2024' },
        { Value: 2025, Text: '2025' },
        { Value: 2026, Text: '2026' },
        { Value: 2027, Text: '2027' },
    ];
    $scope.periodOptions = [
        { Value: null, Text: 'All' },
        { Value: 1, Text: 'January' },
        { Value: 2, Text: 'February' },
        { Value: 3, Text: 'March' },
        { Value: 4, Text: 'April' },
        { Value: 5, Text: 'May' },
        { Value: 6, Text: 'June' },
        { Value: 7, Text: 'July' },
        { Value: 8, Text: 'August' },
        { Value: 9, Text: 'September' },
        { Value: 10, Text: 'October' },
        { Value: 11, Text: 'November' },
        { Value: 12, Text: 'December' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        CashAccount: { PropertyName: 'CashAccountCode', Operator: 'in', Value: '' },
        Year: { PropertyName: 'Year', Operator: '=', Value: null },
        Period: { PropertyName: 'Period', Operator: '=', Value: null },
    };

    $scope.selectedCashAccount = '';

    $scope.data_CashAccount = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = CashReconSummary_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Cash Account', 'CashAccount', 'CashAccount', 'Text', true],
            ['Year', 'Year', 'Year', 'Number', true],
            ['Period', 'Period', 'Period', 'Number', true],
            ['Beginning Balance', 'BeginningBalance', 'BeginningBalance', 'Currency', true],
            ['Recorded Ending Balance', 'RecordedEndingBalance', 'RecordedEndingBalance', 'Currency', true],
            ['Cash\'s Ending Balance', 'CashsEndingBalance', 'CashsEndingBalance', 'Currency', true],
            ['Discrepancy', 'Discrepancy', 'Discrepancy', 'Currency', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedCashAccount) {
            $scope.filters.CashAccount.Operator = 'in';
            $scope.filters.CashAccount.Value = Utility_ERP.Value_OperatorIN_($scope.data_CashAccount, 'Code');
        } else {
            $scope.filters.CashAccount.Operator = '=';
            $scope.filters.CashAccount.Value = $scope.selectedCashAccount;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('CashReconSummary', $scope);
    };

    $scope.getData_CashAccount = async function () {
        $scope.data_CashAccount = await CashReconSummary_Service.Dropdown_CashAccount();
    };

    ;

    async function Override_some_Filters() {
        let cashAccount = $scope.filters.CashAccount.Value;
        if (cashAccount && typeof cashAccount === 'string' && cashAccount.indexOf('(') >= 0) cashAccount = '';
        $scope.selectedCashAccount = cashAccount;
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $scope.getData_CashAccount()
        ]);

        $rootScope.LoadFilterState('CashReconSummary', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('CashTransactionsCtrl', function ($rootScope, $scope, Utility_ERP, CashTransactions_Service) {
    // Data table configuration
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // Filter configuration
    $scope.filters = {
        CashAccount: { PropertyName: 'CashAccountCode', Operator: '=', Value: '' },
        Type: { PropertyName: 'TransactionType', Operator: '=', Value: '' },
        DateFrom: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo: { PropertyName: 'Date', Operator: '<=', Value: '' },
    };

    // Filter data
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';

    // Dropdown data
    $scope.data_CashAccounts = [];
    $scope.data_TransactionTypes = [];

    // Create DataTable
    $scope.CreateTable = function () {
        $scope.dt = CashTransactions_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Payment#', 'Payment', 'Payment', 'Text', true],
            ['Type', 'Type', 'Type', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['B/R', 'BR', 'BR', 'Text', true],
            ['In', 'In', 'In', 'Currency', true],
            ['Out', 'Out', 'Out', 'Currency', true],
            ['R', 'R', 'R', 'Boolean', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    // Show data function
    $scope.showData = async function () {
        $scope.filters.DateFrom.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('CashTransactions', $scope);
    };

    // Get Cash Accounts dropdown data
    $scope.getData_CashAccounts = async function () {
        $scope.data_CashAccounts = await CashTransactions_Service.Dropdown_CashAccounts();
    };

    // Get Transaction Types dropdown data
    $scope.getData_TransactionTypes = async function () {
        $scope.data_TransactionTypes = await CashTransactions_Service.Dropdown_TransactionTypes();
    };

    // Toolbar action functions
    $scope.newExpense = async function () {
        // TODO: Implement new expense functionality
        console.log('New Expense clicked');
    };

    $scope.newReceipt = async function () {
        // TODO: Implement new receipt functionality
        console.log('New Receipt clicked');
    };

    $scope.removeTransaction = async function () {
        // TODO: Implement remove transaction functionality
        console.log('Remove Transaction clicked');
    };

    $scope.printForm = async function () {
        // TODO: Implement print functionality
        console.log('Print clicked');
    };

    $scope.exportToExcel = async function () {
        // TODO: Implement export to excel functionality
        console.log('Export To Excel clicked');
    };

    $scope.downloadSchema = async function () {
        // TODO: Implement download schema functionality
        console.log('Download Schema clicked');
    };

    $scope.uploadSchema = async function () {
        // TODO: Implement upload schema functionality
        console.log('Upload Schema clicked');
    };

    $scope.editTransaction = function (row) {
        // TODO: Implement edit transaction functionality
        console.log('Edit Transaction:', row.Payment);
    };

    // Toggle debug scope
    ;

    // Initialize page
    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $scope.getData_CashAccounts(),
            $scope.getData_TransactionTypes()
        ]);

        $rootScope.LoadFilterState('CashTransactions', $scope);

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        await $scope.showData();

        Utility_ERP.Still_Processing($scope, false);
    };

    $scope.initialize_Page();
});

angular.module('app.erp').controller('ChargeCategoriesCtrl', function ($rootScope, $scope, Utility_ERP, ChargeCategories_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        ParentCategory: { PropertyName: 'ParentCode', Operator: 'in', Value: '' },
    };

    $scope.selectedParentCategory = '';

    $scope.data_ParentCategory = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = ChargeCategories_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedParentCategory) {
            $scope.filters.ParentCategory.Operator = 'in';
            $scope.filters.ParentCategory.Value = Utility_ERP.Value_OperatorIN_($scope.data_ParentCategory, 'Code');
        } else {
            $scope.filters.ParentCategory.Operator = '=';
            $scope.filters.ParentCategory.Value = $scope.selectedParentCategory;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('ChargeCategories', $scope);
    };

    $scope.getData_ParentCategory = async function () {
        $scope.data_ParentCategory = await ChargeCategories_Service.Dropdown_ParentCategory();
    };

    ;

    async function Override_some_Filters() {
        let parentCategory = $scope.filters.ParentCategory.Value;
        if (parentCategory && typeof parentCategory === 'string' && parentCategory.indexOf('(') >= 0) parentCategory = '';
        $scope.selectedParentCategory = parentCategory;

        if ($scope.LoadFilterState_) {
            // No additional filter state to restore
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $scope.getData_ParentCategory()
        ]);

        $rootScope.LoadFilterState('ChargeCategories', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.downloadSchema = async function () {
        // Implement download schema functionality
    };

    $scope.uploadData = async function () {
        // Implement upload data functionality
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('ChartOfAccountProfileCtrl', function ($rootScope, $scope, Utility_ERP, BackEndService, ChartOfAccounts_Service) {
});


angular.module('app.erp').controller('ChartOfAccountsCtrl', function ($rootScope, $scope, Utility_ERP, BackEndService, ChartOfAccounts_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 1000;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [1000];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        AccountType: { PropertyName: 'AccountTypeCode', Operator: 'in', Value: '' },
        Level: { PropertyName: 'Level', Operator: '=', Value: '' },
    };

    $scope.selectedAccountType = '';

    $scope.data_AccountType = [];

    // some Functions
    var loadData_Custom = async function () {
        var request = {
            modelName: $scope.dt.dataModel,
            maximumResult: ($scope.dt.pageLength <= 100) ? $scope.dt.pageLength : 100,
            fieldNames: ['*'],

            sortList: [$scope.dt.activeSortField + ' ' + $scope.dt.activeSortDirection],
            pageNumber: $scope.dt.currentPage,
        };

        $scope.dt.applyFilters(request);

        $scope.dt.loading = true;

        // reset
        $scope.dt.data = [];
        //dt.totalRows = 0;
        //dt.totalPages = 0;

        let response = await BackEndService.RequestDataList_X(request);
        $scope.dt.loading = false;

        if (response.success) {
            // request data success
            $scope.dt.data = response.data.Data;
            $scope.dt.totalRows = response.data.TotalRows;
            if ($scope.dt.totalRows < $scope.dt.pageLength) $scope.dt.totalPages = 1;
            else $scope.dt.totalPages = Math.ceil($scope.dt.totalRows / $scope.dt.pageLength);

            var kolom_id = 'AccountId';
            var kolom_parent_id = 'ParentId';
            var kolom_code = 'AccountCode';
            var kolom_desc = 'Description';

            $scope.dt.treeData = Utility_ERP.sdr_BuildFlatTreeData($scope, kolom_id, kolom_parent_id, kolom_code, kolom_desc);
        } else {
            // request data failed
            // show Error: sudah dihandle oleh SmartAdmin - function notifyError() menggunakan $.bigBox()
        }

        BackEndService.Log_Activity();
    };

    $scope.CreateTable = function () {
        $scope.dt = ChartOfAccounts_Service.Table($scope);

        $scope.dt.loadData = loadData_Custom;

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Account', 'AccountCode', 'AccountCode', 'Text', true],
            ['Account Type', 'AccountTypeName', 'AccountTypeName', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        // if (!$scope.selectedAccountType) {
        //     $scope.filters.AccountType.Operator = 'in';
        //     $scope.filters.AccountType.Value = Utility_ERP.Value_OperatorIN_($scope.data_AccountType, 'Code');
        // } else {
        //     $scope.filters.AccountType.Operator = '=';
        //     $scope.filters.AccountType.Value = $scope.selectedAccountType;
        // }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('ChartOfAccounts', $scope);
    };

    $scope.getData_AccountType = async function () {
        $scope.data_AccountType = await ChartOfAccounts_Service.Dropdown_AccountType();
    };

    async function Override_some_Filters() {
        let accountType = $scope.filters.AccountType.Value;
        if (accountType && typeof accountType === 'string' && accountType.indexOf('(') >= 0) accountType = '';
        $scope.selectedAccountType = accountType;

        if ($scope.LoadFilterState_) {
            // No additional filter state to restore
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $scope.getData_AccountType()
        ]);

        $rootScope.LoadFilterState('ChartOfAccounts', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.downloadSchema = async function () { }

    $scope.uploadAccounts = async function () { }

    $scope.exportList = async function () { }

    window.simulasi_DataCircular = function () {
        var scope = angular.element(document.getElementById('content')).scope();

        // Rusak data existing - buat circular
        // Cari 2 account yang sudah ada
        var account1 = scope.dt.data.find(x => x.AccountCode === "1101000");
        var account2 = scope.dt.data.find(x => x.AccountCode === "1101001");

        // Buat circular
        var originalParent1 = account1.ParentId;
        var originalParent2 = account2.ParentId;

        account1.ParentId = account2.AccountId;  // A parent-nya B
        account2.ParentId = account1.AccountId;  // B parent-nya A (CIRCULAR!)

        // Test
        //scope.buildFlatTreeData();
        var kolom_id = 'AccountId';
        var kolom_parent_id = 'ParentId';
        var kolom_code = 'AccountCode';
        var kolom_desc = 'Description';

        $scope.dt.treeData = Utility_ERP.sdr_BuildFlatTreeData($scope, kolom_id, kolom_parent_id, kolom_code, kolom_desc);
        scope.$apply();

        // Restore data
        // account1.ParentId = originalParent1;
        // account2.ParentId = originalParent2;
        // scope.buildFlatTreeData();
        // scope.$apply();
    }

    $scope.initialize_Page();
});
angular.module('app.erp').controller('ChartOfAccountsXCtrl', function ($rootScope, $scope, Utility_ERP, BackEndService, ChartOfAccounts_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 1000;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [1000];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        AccountType: { PropertyName: 'AccountTypeCode', Operator: 'in', Value: '' },
        Level: { PropertyName: 'Level', Operator: '=', Value: '' },
    };

    $scope.selectedAccountType = '';

    $scope.data_AccountType = [];

    // some Functions
    var loadData_Custom = async function () {
        var request = {
            modelName: $scope.dt.dataModel,
            maximumResult: ($scope.dt.pageLength <= 100) ? $scope.dt.pageLength : 100,
            fieldNames: ['*'],

            sortList: [$scope.dt.activeSortField + ' ' + $scope.dt.activeSortDirection],
            pageNumber: $scope.dt.currentPage,
        };

        $scope.dt.applyFilters(request);

        $scope.dt.loading = true;

        // reset
        $scope.dt.data = [];
        //dt.totalRows = 0;
        //dt.totalPages = 0;

        let response = await BackEndService.RequestDataList_X(request);
        $scope.dt.loading = false;

        if (response.success) {
            // request data success
            $scope.dt.data = response.data.Data;
            $scope.dt.totalRows = response.data.TotalRows;
            if ($scope.dt.totalRows < $scope.dt.pageLength) $scope.dt.totalPages = 1;
            else $scope.dt.totalPages = Math.ceil($scope.dt.totalRows / $scope.dt.pageLength);
        } else {
            // request data failed
            // show Error: sudah dihandle oleh SmartAdmin - function notifyError() menggunakan $.bigBox()
        }

        BackEndService.Log_Activity();
    };

    $scope.CreateTable = function () {
        $scope.dt = ChartOfAccounts_Service.Table($scope);

        $scope.dt.loadData = loadData_Custom;

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'AccountCode', 'AccountCode', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['Account Type', 'AccountTypeName', 'AccountTypeName', 'Text', true],
            ['Parent Account', 'ParentName', 'ParentName', 'Text', true],
            ['Level', 'Level', 'Level', 'Number', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        // if (!$scope.selectedAccountType) {
        //     $scope.filters.AccountType.Operator = 'in';
        //     $scope.filters.AccountType.Value = Utility_ERP.Value_OperatorIN_($scope.data_AccountType, 'Code');
        // } else {
        //     $scope.filters.AccountType.Operator = '=';
        //     $scope.filters.AccountType.Value = $scope.selectedAccountType;
        // }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('ChartOfAccountsX', $scope);
    };

    $scope.getData_AccountType = async function () {
        $scope.data_AccountType = await ChartOfAccounts_Service.Dropdown_AccountType();
    };

    async function Override_some_Filters() {
        let accountType = $scope.filters.AccountType.Value;
        if (accountType && typeof accountType === 'string' && accountType.indexOf('(') >= 0) accountType = '';
        $scope.selectedAccountType = accountType;

        if ($scope.LoadFilterState_) {
            // No additional filter state to restore
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $scope.getData_AccountType()
        ]);

        $rootScope.LoadFilterState('ChartOfAccountsX', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.downloadSchema = async function () { }

    $scope.uploadAccounts = async function () { }

    $scope.exportList = async function () { }

    $scope.initialize_Page();
});
angular.module('app.erp').controller('ChequePositionsCtrl', function ($rootScope, $scope, Utility_ERP, ChequePositions_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';

    $scope.data_EmployeeLocationAccess = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = ChequePositions_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Customer', 'Customer', 'Customer', 'Text', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Sales', 'Sales', 'Sales', 'Text', true],
            ['Already Due', 'AlreadyDue', 'AlreadyDue', 'Currency', true],
            ['Due Next Week', 'DueNextWeek', 'DueNextWeek', 'Currency', true],
            ['2 Weeks from Now', 'TwoWeeksfromNow', 'TwoWeeksfromNow', 'Currency', true],
            ['4 Weeks and Later', 'FourWeeksandLater', 'FourWeeksandLater', 'Currency', true],
            ['Total', 'Total', 'Total', 'Currency', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('ChequePositions', $scope);
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, '')
        ]);

        $rootScope.LoadFilterState('ChequePositions', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('ChequeTypesCtrl', function ($rootScope, $scope, Utility_ERP, ChequeTypes_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = ChequeTypes_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('ChequeTypes', $scope);
    };

    ;

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('ChequeTypes', $scope);

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('ClearingOrdersCtrl', function ($rootScope, $scope, Utility_ERP, ClearingOrders_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'Branch', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        UnPrinted: { PropertyName: 'PrintCount', Operator: '<=', Value: null },
        AssignedTo: { PropertyName: 'AssignedToCode', Operator: '=', Value: '' },
        VerifiedDateFrom_date: { PropertyName: 'VerifiedDate', Operator: '>=', Value: '' },
        VerifiedDateTo_date: { PropertyName: 'VerifiedDate', Operator: '<=', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedUnPrinted = false;
    $scope.selectedAssignedTo = '';
    $scope.selectedVerifiedDateFrom = '';
    $scope.selectedVerifiedDateTo = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = ClearingOrders_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Collect Nr.', 'CollectNr', 'CollectNr', 'Text', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Assigned To', 'AssignedTo', 'AssignedTo', 'Text', true],
            ['Issued By', 'IssuedBy', 'IssuedBy', 'Text', true],
            ['Verified Date', 'VerifiedDate', 'VerifiedDate', 'Date', true],
            ['Notes', 'Notes', 'Notes', 'Text', true],
            ['Status', 'Status', 'Status', 'Text', true],
            ['Actions', 'Actions', 'Actions', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        $scope.filters.UnPrinted.Value = null;
        if ($scope.selectedUnPrinted) {
            $scope.filters.UnPrinted.Value = 0;
        }

        $scope.filters.VerifiedDateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedVerifiedDateFrom);
        $scope.filters.VerifiedDateTo_date.Value = $rootScope.Date_to_DB($scope.selectedVerifiedDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedAssignedTo'] = $scope.selectedAssignedTo;
        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;
        $scope.filters['selectedUnPrinted'] = $scope.selectedUnPrinted;

        $rootScope.SaveFilterState('ClearingOrders', $scope);

        delete $scope.filters['selectedAssignedTo'];
        delete $scope.filters['selectedShowAll'];
        delete $scope.filters['selectedUnPrinted'];
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_User = async function (val) {
        return await $rootScope.getData_User(val, $scope);
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('ClearingOrder');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedAssignedTo = $scope.filters['selectedAssignedTo'];
            delete $scope.filters['selectedAssignedTo'];

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];

            $scope.selectedUnPrinted = $scope.filters['selectedUnPrinted'];
            delete $scope.filters['selectedUnPrinted'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('ClearingOrders', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.submitClick = async function () {
        // Implementation for submit action
    };

    $scope.voidClick = async function () {
        // Implementation for void action
    };

    $scope.printForm = async function () {
        // Implementation for print action
    };

    $scope.exportList = async function () {
        // Implementation for export to excel
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('ClearingReconCtrl', function ($rootScope, $scope, Utility_ERP, ClearingRecon_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        CollectType: { PropertyName: 'CollectTypeCode', Operator: 'in', Value: '' },
        CollectOrderNo: { PropertyName: 'CollectOrderNo', Operator: 'contains', Value: '' },
        CollectDateFrom_date: { PropertyName: 'CollectDate', Operator: '>=', Value: '' },
        CollectDateTo_date: { PropertyName: 'CollectDate', Operator: '<=', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedCollectType = '';
    $scope.selectedCollectDateFrom = '';
    $scope.selectedCollectDateTo = '';

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_CollectType = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = ClearingRecon_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Doc Nr.', 'DocNr', 'DocNr', 'Text', true],
            ['Type', 'Type', 'Type', 'Text', true],
            ['Customer', 'Customer', 'Customer', 'Text', true],
            ['Address', 'Address', 'Address', 'Text', true],
            ['Area', 'Area', 'Area', 'Text', true],
            ['Contact Person', 'ContactPerson', 'ContactPerson', 'Text', true],
            ['Contact Number', 'ContactNumber', 'ContactNumber', 'Text', true],
            ['Reff Nr.', 'ReffNr', 'ReffNr', 'Text', true],
            ['Age', 'Age', 'Age', 'Number', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedCollectType) {
            $scope.filters.CollectType.Operator = 'in';
            $scope.filters.CollectType.Value = Utility_ERP.Value_OperatorIN_($scope.data_CollectType, 'Code');
        } else {
            $scope.filters.CollectType.Operator = '=';
            $scope.filters.CollectType.Value = $scope.selectedCollectType;
        }

        $scope.filters.CollectDateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedCollectDateFrom);
        $scope.filters.CollectDateTo_date.Value = $rootScope.Date_to_DB($scope.selectedCollectDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('ClearingRecon', $scope);
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_CollectType = async function () {
        $scope.data_CollectType = await ClearingRecon_Service.Dropdown_CollectType();
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let collectType = $scope.filters.CollectType.Value;
        if (collectType && typeof collectType === 'string' && collectType.indexOf('(') >= 0) collectType = '';
        $scope.selectedCollectType = collectType;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_CollectType()
        ]);

        $rootScope.LoadFilterState('ClearingRecon', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.verifyRecon = async function () {
        // Implement verify recon functionality
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('ClearingRequestsCtrl', function ($rootScope, $scope, Utility_ERP, ClearingRequests_Service, BusinessRelation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.orderByOptions = [
        { Value: null, Text: 'All' },
        { Value: 'DocNr', Text: 'Doc Nr.' },
        { Value: 'ChequeDate', Text: 'Cheque Date' },
        { Value: 'RequestDate', Text: 'Request Date' },
        { Value: 'Amount', Text: 'Amount' },
    ];
    $scope.collectTypeOptions = [
        { Value: null, Text: 'All' },
        { Value: 'Cash', Text: 'Cash' },
        { Value: 'Cheque', Text: 'Cheque' },
        { Value: 'Transfer', Text: 'Transfer' },
    ];
    $scope.ageOptions = [
        { Value: null, Text: 'All' },
        { Value: '0-30', Text: '0-30 days' },
        { Value: '31-60', Text: '31-60 days' },
        { Value: '61-90', Text: '61-90 days' },
        { Value: '90+', Text: '90+ days' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Customer: { PropertyName: 'CustomerID', Operator: '=', Value: '' },
        OrderBy: { PropertyName: 'OrderBy', Operator: '=', Value: null },
        CollectType: { PropertyName: 'CollectType', Operator: '=', Value: null },
        Age: { PropertyName: 'Age', Operator: '=', Value: null },
        RequestDate_date: { PropertyName: 'RequestDate', Operator: '=', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedCustomer = '';
    $scope.selectedRequestDate = '';

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_BillingAddressNames = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = ClearingRequests_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Doc Nr.', 'DocNr', 'DocNr', 'Text', true],
            ['Cheque Nr.', 'ChequeNr', 'ChequeNr', 'Text', true],
            ['Cheque Date', 'ChequeDate', 'ChequeDate', 'Date', true],
            ['Request Date', 'RequestDate', 'RequestDate', 'Date', true],
            ['Collect Type', 'CollectType', 'CollectType', 'Text', true],
            ['Contact Person', 'ContactPerson', 'ContactPerson', 'Text', true],
            ['Contact Nr.', 'ContactNr', 'ContactNr', 'Text', true],
            ['Amount', 'Amount', 'Amount', 'Currency', true],
            ['Notes', 'Notes', 'Notes', 'Text', true],
            ['Age', 'Age', 'Age', 'Number', true],
            ['Rev', 'Rev', 'Rev', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        $scope.filters.RequestDate_date.Value = $rootScope.Date_to_DB($scope.selectedRequestDate);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedCustomer'] = $scope.selectedCustomer;

        $rootScope.SaveFilterState('ClearingRequests', $scope);

        delete $scope.filters['selectedCustomer'];
    };

    $scope.Branch_Changed = async function () {
        // reset
        $scope.selectedCustomer = '';

        await $scope.showData();
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.customerSelected = async function (flag = true) {
        // reset
        $scope.data_BillingAddressNames = [];

        if ($rootScope.Not_ValidString($scope.filters.Customer.Value)) {
            if (flag) {
                $scope.showData();
            }

            return;
        }

        $scope.data_BillingAddressNames = await BusinessRelation_Service.GetBusinessRelationBillingAddressNames($scope.filters.Customer.Value);

        if (flag) {
            $scope.showData();
        }
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedCustomer = $scope.filters['selectedCustomer'];
            delete $scope.filters['selectedCustomer'];

            await $scope.customerSelected(false);
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, '')
        ]);

        $rootScope.LoadFilterState('ClearingRequests', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.pickRequest = async function () {
        // Pick implementation
    };

    $scope.viewPicked = async function () {
        // View Picked implementation
    };

    $scope.adjustCollectDate = async function () {
        // Adjust Collect Date implementation
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('CollectDashboardCtrl', function ($rootScope, $scope, Utility_ERP, CollectDashboard_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        CreatedBy: { PropertyName: 'CreatedBy', Operator: '=', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedCreatedBy = '';

    $scope.data_EmployeeLocationAccess = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = CollectDashboard_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Customer', 'Customer', 'Customer', 'Text', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Sales', 'Sales', 'Sales', 'Text', true],
            ['Already Due', 'AlreadyDue', 'AlreadyDue', 'Currency', true],
            ['Due Next Week', 'DueNextWeek', 'DueNextWeek', 'Currency', true],
            ['2 Weeks', 'TwoWeeks', 'TwoWeeks', 'Currency', true],
            ['3 Weeks', 'ThreeWeeks', 'ThreeWeeks', 'Currency', true],
            ['4 Weeks and Later', 'FourWeeksandLater', 'FourWeeksandLater', 'Currency', true],
            ['Total', 'Total', 'Total', 'Currency', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedCreatedBy'] = $scope.selectedCreatedBy;

        $rootScope.SaveFilterState('CollectDashboard', $scope);

        delete $scope.filters['selectedCreatedBy'];
    };

    $scope.Branch_Changed = async function () {
        // reset
        $scope.selectedCreatedBy = '';

        await $scope.showData();
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedCreatedBy = $scope.filters['selectedCreatedBy'];
            delete $scope.filters['selectedCreatedBy'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, '')
        ]);

        $rootScope.LoadFilterState('CollectDashboard', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.exportList = async function () {
        // Export to Excel implementation
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('CollectInvoicesCtrl', function ($rootScope, $scope, Utility_ERP, CollectInvoices_Service, BusinessRelation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'BranchCode', Operator: 'in', Value: '' },
        Customer: { PropertyName: 'CustomerCode', Operator: '=', Value: '' },
        DueDateAge: { PropertyName: 'DueDateAgeCode', Operator: 'in', Value: '' },
        UnRequestedToCollect: { PropertyName: 'RequestedToCollect', Operator: '=', Value: null },
    };

    $scope.selectedBranch = '';
    $scope.selectedCustomer = '';
    $scope.selectedDueDateAge = '';
    $scope.selectedUnRequestedToCollect = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_BillingAddressNames = [];
    $scope.data_DueDateAge = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = CollectInvoices_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Doc Nr.', 'DocNr', 'DocNr', 'Text', true],
            ['Total Amount', 'TotalAmount', 'TotalAmount', 'Number', true],
            ['Amount Due', 'AmountDue', 'AmountDue', 'Number', true],
            ['Due Date', 'DueDate', 'DueDate', 'Date', true],
            ['Reff Nr.', 'ReffNr', 'ReffNr', 'Text', true],
            ['Last Status', 'LastStatus', 'LastStatus', 'Text', true],
            ['Last Collect', 'LastCollect', 'LastCollect', 'Text', true],
            ['Last Notes', 'LastNotes', 'LastNotes', 'Text', true],
            ['Next Collect', 'NextCollect', 'NextCollect', 'Date', true],
            ['Assigned To', 'AssignedTo', 'AssignedTo', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedDueDateAge) {
            $scope.filters.DueDateAge.Operator = 'in';
            $scope.filters.DueDateAge.Value = Utility_ERP.Value_OperatorIN_($scope.data_DueDateAge, 'Code');
        } else {
            $scope.filters.DueDateAge.Operator = '=';
            $scope.filters.DueDateAge.Value = $scope.selectedDueDateAge;
        }

        $scope.filters.UnRequestedToCollect.Value = null;
        if ($scope.selectedUnRequestedToCollect) {
            $scope.filters.UnRequestedToCollect.Value = false;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedCustomer'] = $scope.selectedCustomer;
        $scope.filters['selectedUnRequestedToCollect'] = $scope.selectedUnRequestedToCollect;

        $rootScope.SaveFilterState('CollectInvoices', $scope);

        delete $scope.filters['selectedCustomer'];
        delete $scope.filters['selectedUnRequestedToCollect'];
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.customerSelected = async function (flag = true) {
        // reset
        $scope.data_BillingAddressNames = [];

        if ($rootScope.Not_ValidString($scope.filters.Customer.Value)) {
            if (flag) {
                $scope.showData();
            }

            return;
        }

        $scope.data_BillingAddressNames = await BusinessRelation_Service.GetBusinessRelationBillingAddressNames($scope.filters.Customer.Value);

        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_DueDateAge = async function () {
        $scope.data_DueDateAge = await CollectInvoices_Service.Dropdown_DueDateAge();
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let dueDateAge = $scope.filters.DueDateAge.Value;
        if (dueDateAge && typeof dueDateAge === 'string' && dueDateAge.indexOf('(') >= 0) dueDateAge = '';
        $scope.selectedDueDateAge = dueDateAge;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedCustomer = $scope.filters['selectedCustomer'];
            delete $scope.filters['selectedCustomer'];

            await $scope.customerSelected(false);

            $scope.selectedUnRequestedToCollect = $scope.filters['selectedUnRequestedToCollect'];
            delete $scope.filters['selectedUnRequestedToCollect'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_DueDateAge()
        ]);

        $rootScope.LoadFilterState('CollectInvoices', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.addToCollectRequest = async function () {
        // implement add to collect request logic
    };

    $scope.addToTask = async function () {
        // implement add to task logic
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('CollectOrdersCtrl', function ($rootScope, $scope, Utility_ERP, CollectOrders_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'Branch', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        AssignedTo: { PropertyName: 'AssignedToCode', Operator: '=', Value: '' },
        VerifiedDateFrom_date: { PropertyName: 'VerifiedDate', Operator: '>=', Value: '' },
        VerifiedDateTo_date: { PropertyName: 'VerifiedDate', Operator: '<=', Value: '' },
        UnPrinted: { PropertyName: 'PrintCount', Operator: '<=', Value: null },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedAssignedTo = '';
    $scope.selectedVerifiedDateFrom = '';
    $scope.selectedVerifiedDateTo = '';
    $scope.selectedUnPrinted = false;
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = CollectOrders_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Collect Nr.', 'CollectNr', 'CollectNr', 'Text', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Assigned To', 'AssignedTo', 'AssignedTo', 'Text', true],
            ['Issued By', 'IssuedBy', 'IssuedBy', 'Text', true],
            ['Verified Date', 'VerifiedDate', 'VerifiedDate', 'Date', true],
            ['Notes', 'Notes', 'Notes', 'Text', true],
            ['Status', 'Status', 'Status', 'Text', true],
            ['Actions', 'Actions', 'Actions', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        $scope.filters.VerifiedDateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedVerifiedDateFrom);
        $scope.filters.VerifiedDateTo_date.Value = $rootScope.Date_to_DB($scope.selectedVerifiedDateTo);

        $scope.filters.UnPrinted.Value = null;
        if ($scope.selectedUnPrinted) {
            $scope.filters.UnPrinted.Value = 0;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedAssignedTo'] = $scope.selectedAssignedTo;
        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;
        $scope.filters['selectedUnPrinted'] = $scope.selectedUnPrinted;

        $rootScope.SaveFilterState('CollectOrders', $scope);

        delete $scope.filters['selectedAssignedTo'];
        delete $scope.filters['selectedShowAll'];
        delete $scope.filters['selectedUnPrinted'];
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_Employee = async function (val) {
        return await $rootScope.getData_Employee(val, $scope);
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('CollectOrder');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedAssignedTo = $scope.filters['selectedAssignedTo'];
            delete $scope.filters['selectedAssignedTo'];

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];

            $scope.selectedUnPrinted = $scope.filters['selectedUnPrinted'];
            delete $scope.filters['selectedUnPrinted'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('CollectOrders', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.submitClick = async function () {
        // Implementation for submit action
    };

    $scope.voidClick = async function () {
        // Implementation for void action
    };

    $scope.printForm = async function () {
        // Implementation for print action
    };

    $scope.exportList = async function () {
        // Implementation for export to excel
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('CollectOrderSelectionCtrl', function ($rootScope, $scope, Utility_ERP, CollectOrderSelection_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        AssignedTo: { PropertyName: 'AssignedTo', Operator: '=', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedAssignedTo = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';

    $scope.data_EmployeeLocationAccess = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = CollectOrderSelection_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Collect Nr.', 'CollectNr', 'CollectNr', 'Text', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Assigned To', 'AssignedTo', 'AssignedTo', 'Text', true],
            ['Issued By', 'IssuedBy', 'IssuedBy', 'Text', true],
            ['Verified Date', 'VerifiedDate', 'VerifiedDate', 'Date', true],
            ['Notes', 'Notes', 'Notes', 'Text', true],
            ['Status', 'Status', 'Status', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedAssignedTo'] = $scope.selectedAssignedTo;

        $rootScope.SaveFilterState('CollectOrderSelection', $scope);

        delete $scope.filters['selectedAssignedTo'];
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_Employee = async function (val) {
        return await $rootScope.getData_Employee(val, $scope);
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedAssignedTo = $scope.filters['selectedAssignedTo'];
            delete $scope.filters['selectedAssignedTo'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, '')
        ]);

        $rootScope.LoadFilterState('CollectOrderSelection', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('CollectReconciliationCtrl', function ($rootScope, $scope, Utility_ERP, CollectReconciliation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        CollectType: { PropertyName: 'CollectTypeCode', Operator: 'in', Value: '' },
        CollectOrderNo: { PropertyName: 'CollectOrderNo', Operator: 'contains', Value: '' },
        CollectDateFrom_date: { PropertyName: 'CollectDate', Operator: '>=', Value: '' },
        CollectDateTo_date: { PropertyName: 'CollectDate', Operator: '<=', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedCollectType = '';
    $scope.selectedCollectDateFrom = '';
    $scope.selectedCollectDateTo = '';

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_CollectType = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = CollectReconciliation_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Doc Nr.', 'DocNr', 'DocNr', 'Text', true],
            ['Type', 'Type', 'Type', 'Text', true],
            ['Customer', 'Customer', 'Customer', 'Text', true],
            ['Address', 'Address', 'Address', 'Text', true],
            ['Area', 'Area', 'Area', 'Text', true],
            ['Contact Person', 'ContactPerson', 'ContactPerson', 'Text', true],
            ['Contact Number', 'ContactNumber', 'ContactNumber', 'Text', true],
            ['Reff Nr.', 'ReffNr', 'ReffNr', 'Text', true],
            ['Age', 'Age', 'Age', 'Number', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedCollectType) {
            $scope.filters.CollectType.Operator = 'in';
            $scope.filters.CollectType.Value = Utility_ERP.Value_OperatorIN_($scope.data_CollectType, 'Code');
        } else {
            $scope.filters.CollectType.Operator = '=';
            $scope.filters.CollectType.Value = $scope.selectedCollectType;
        }

        $scope.filters.CollectDateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedCollectDateFrom);
        $scope.filters.CollectDateTo_date.Value = $rootScope.Date_to_DB($scope.selectedCollectDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('CollectReconciliation', $scope);
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_CollectType = async function () {
        $scope.data_CollectType = await CollectReconciliation_Service.Dropdown_CollectType();
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let collectType = $scope.filters.CollectType.Value;
        if (collectType && typeof collectType === 'string' && collectType.indexOf('(') >= 0) collectType = '';
        $scope.selectedCollectType = collectType;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_CollectType()
        ]);

        $rootScope.LoadFilterState('CollectReconciliation', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.reconcileClick = async function () {
        // Implementation for reconcile action
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('CollectRequestsCtrl', function ($rootScope, $scope, Utility_ERP, CollectRequests_Service, BusinessRelation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.orderByOptions = [
        { Value: 'CollectDate', Text: 'Collect Date' },
        { Value: 'DueDate', Text: 'Due Date' },
        { Value: 'Amount', Text: 'Amount' },
        { Value: 'Customer', Text: 'Customer' },
        { Value: 'Area', Text: 'Area' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'Branch', Operator: 'in', Value: '' },
        Customer: { PropertyName: 'CustomerCode', Operator: '=', Value: '' },
        OrderBy: { PropertyName: 'OrderBy', Operator: '=', Value: '' },
        CollectType: { PropertyName: 'CollectTypeCode', Operator: 'in', Value: '' },
        Age: { PropertyName: 'AgeCode', Operator: 'in', Value: '' },
        CollectDate_date: { PropertyName: 'CollectDate', Operator: '=', Value: '' },
        ShowInFollowUp: { PropertyName: 'InFollowUpList', Operator: '=', Value: null },
    };

    $scope.selectedBranch = '';
    $scope.selectedCustomer = '';
    $scope.selectedCollectType = '';
    $scope.selectedAge = '';
    $scope.selectedCollectDate = '';

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_CollectType = [];
    $scope.data_Age = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = CollectRequests_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Doc Nr.', 'DocNr', 'DocNr', 'Text', true],
            ['Cheque Nr.', 'ChequeNr', 'ChequeNr', 'Text', true],
            ['Cheque Date', 'ChequeDate', 'ChequeDate', 'Date', true],
            ['Collect Date', 'CollectDate', 'CollectDate', 'Date', true],
            ['Due Date', 'DueDate', 'DueDate', 'Date', true],
            ['Collect Type', 'CollectType', 'CollectType', 'Text', true],
            ['Address', 'Address', 'Address', 'Text', true],
            ['Area', 'Area', 'Area', 'Text', true],
            ['Amount', 'Amount', 'Amount', 'Currency', true],
            ['Notes', 'Notes', 'Notes', 'Text', true],
            ['Age', 'Age', 'Age', 'Number', true],
            ['Rev', 'Rev', 'Rev', 'Boolean', true],
            ['F', 'F', 'F', 'Boolean', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedCollectType) {
            $scope.filters.CollectType.Operator = 'in';
            $scope.filters.CollectType.Value = Utility_ERP.Value_OperatorIN_($scope.data_CollectType, 'Code');
        } else {
            $scope.filters.CollectType.Operator = '=';
            $scope.filters.CollectType.Value = $scope.selectedCollectType;
        }

        if (!$scope.selectedAge) {
            $scope.filters.Age.Operator = 'in';
            $scope.filters.Age.Value = Utility_ERP.Value_OperatorIN_($scope.data_Age, 'Code');
        } else {
            $scope.filters.Age.Operator = '=';
            $scope.filters.Age.Value = $scope.selectedAge;
        }

        $scope.filters.CollectDate_date.Value = $rootScope.Date_to_DB($scope.selectedCollectDate);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedCustomer'] = $scope.selectedCustomer;

        $rootScope.SaveFilterState('CollectRequests', $scope);

        delete $scope.filters['selectedCustomer'];
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.customerSelected = async function (flag = true) {
        if ($rootScope.Not_ValidString($scope.filters.Customer.Value)) {
            if (flag) {
                $scope.showData();
            }
            return;
        }

        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_CollectType = async function () {
        $scope.data_CollectType = await CollectRequests_Service.Dropdown_CollectType();
    };

    $scope.getData_Age = async function () {
        $scope.data_Age = await CollectRequests_Service.Dropdown_Age();
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let collectType = $scope.filters.CollectType.Value;
        if (collectType && typeof collectType === 'string' && collectType.indexOf('(') >= 0) collectType = '';
        $scope.selectedCollectType = collectType;

        let age = $scope.filters.Age.Value;
        if (age && typeof age === 'string' && age.indexOf('(') >= 0) age = '';
        $scope.selectedAge = age;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedCustomer = $scope.filters['selectedCustomer'];
            delete $scope.filters['selectedCustomer'];

            await $scope.customerSelected(false);
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_CollectType(),
            $scope.getData_Age()
        ]);

        $rootScope.LoadFilterState('CollectRequests', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.refreshCollectDate = async function () {
        // Implementation for refresh collect date
    };

    $scope.pickClick = async function () {
        // Implementation for pick action
    };

    $scope.viewPicked = async function () {
        // Implementation for view picked
    };

    $scope.reviseCollectDate = async function () {
        // Implementation for revise collect date
    };

    $scope.addToFollowUpList = async function () {
        // Implementation for add to follow up list
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('CollectRequestSelectionCtrl', function ($rootScope, $scope, Utility_ERP, CollectRequestSelection_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        DocType: { PropertyName: 'DocTypeCode', Operator: 'in', Value: '' },
        CollectDate_date: { PropertyName: 'CollectDate', Operator: '=', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedDocType = '';
    $scope.selectedCollectDate = '';

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_DocType = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = CollectRequestSelection_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Doc Nr.', 'DocNr', 'DocNr', 'Text', true],
            ['Collect Date', 'CollectDate', 'CollectDate', 'Date', true],
            ['Type', 'Type', 'Type', 'Text', true],
            ['Address', 'Address', 'Address', 'Text', true],
            ['Area', 'Area', 'Area', 'Text', true],
            ['Contact Person', 'ContactPerson', 'ContactPerson', 'Text', true],
            ['Contact Number', 'ContactNumber', 'ContactNumber', 'Text', true],
            ['Reff Nr.', 'ReffNr', 'ReffNr', 'Text', true],
            ['Amount', 'Amount', 'Amount', 'Number', true],
            ['Age', 'Age', 'Age', 'Number', true],
            ['Notes', 'Notes', 'Notes', 'Text', true],
            ['Adj', 'Adj', 'Adj', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedDocType) {
            $scope.filters.DocType.Operator = 'in';
            $scope.filters.DocType.Value = Utility_ERP.Value_OperatorIN_($scope.data_DocType, 'Code');
        } else {
            $scope.filters.DocType.Operator = '=';
            $scope.filters.DocType.Value = $scope.selectedDocType;
        }

        $scope.filters.CollectDate_date.Value = $rootScope.Date_to_DB($scope.selectedCollectDate);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('CollectRequestSelection', $scope);
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_DocType = async function () {
        $scope.data_DocType = await CollectRequestSelection_Service.Dropdown_DocType();
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let docType = $scope.filters.DocType.Value;
        if (docType && typeof docType === 'string' && docType.indexOf('(') >= 0) docType = '';
        $scope.selectedDocType = docType;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_DocType()
        ]);

        $rootScope.LoadFilterState('CollectRequestSelection', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.addSelectedRequests = async function () {
        // Implementation for adding selected requests
    };

    $scope.initialize_Page();
});
// ini file Controller.js

angular.module('app.erp').controller('CreditNotesCtrl', function ($rootScope, $scope, Utility_ERP, CreditNotes_Service, BusinessRelation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: '=', Value: '' },
        Currency: { PropertyName: 'CurrencyCode', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        DueDateFrom_date: { PropertyName: 'DueDate', Operator: '>=', Value: '' },
        DueDateTo_date: { PropertyName: 'DueDate', Operator: '<=', Value: '' },
        Vendor: { PropertyName: 'VendorID', Operator: '=', Value: '' },
        ReasonType: { PropertyName: 'ReasonTypeCode', Operator: 'in', Value: '' },
        Age: { PropertyName: 'Age', Operator: 'in', Value: '' },
        UnPrinted: { PropertyName: 'PrintCount', Operator: '<=', Value: null },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedCurrency = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedDueDateFrom = '';
    $scope.selectedDueDateTo = '';
    $scope.selectedVendor = '';
    $scope.selectedReasonType = '';
    $scope.selectedAge = '';
    $scope.selectedUnPrinted = false;
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_Currency = [];
    $scope.data_ReasonType = [];
    $scope.data_Age = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = CreditNotes_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Invoice #', 'Invoice', 'Invoice', 'Text', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Reason', 'Reason', 'Reason', 'Text', true],
            ['PO#', 'PO', 'PO', 'Text', true],
            ['Vendor', 'Vendor', 'Vendor', 'Text', true],
            ['Amount Due', 'AmountDue', 'AmountDue', 'Currency', true],
            ['Amount Paid', 'AmountPaid', 'AmountPaid', 'Currency', true],
            ['Due Date', 'DueDate', 'DueDate', 'Date', true],
            ['Age', 'Age', 'Age', 'Number', true],
            ['Status', 'Status', 'Status', 'Text', true],
            ['Printed', 'Printed', 'Printed', 'Number', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedCurrency) {
            $scope.filters.Currency.Operator = 'in';
            $scope.filters.Currency.Value = Utility_ERP.Value_OperatorIN_($scope.data_Currency, 'Code');
        } else {
            $scope.filters.Currency.Operator = '=';
            $scope.filters.Currency.Value = $scope.selectedCurrency;
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        $scope.filters.DueDateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDueDateFrom);
        $scope.filters.DueDateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDueDateTo);

        if (!$scope.selectedReasonType) {
            $scope.filters.ReasonType.Operator = 'in';
            $scope.filters.ReasonType.Value = Utility_ERP.Value_OperatorIN_($scope.data_ReasonType, 'Code');
        } else {
            $scope.filters.ReasonType.Operator = '=';
            $scope.filters.ReasonType.Value = $scope.selectedReasonType;
        }

        if (!$scope.selectedAge) {
            $scope.filters.Age.Operator = 'in';
            $scope.filters.Age.Value = Utility_ERP.Value_OperatorIN_($scope.data_Age, 'Code');
        } else {
            $scope.filters.Age.Operator = '=';
            $scope.filters.Age.Value = $scope.selectedAge;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        $scope.filters.UnPrinted.Value = null;
        if ($scope.selectedUnPrinted) {
            $scope.filters.UnPrinted.Value = 0;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedVendor'] = $scope.selectedVendor;
        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;
        $scope.filters['selectedUnPrinted'] = $scope.selectedUnPrinted;

        $rootScope.SaveFilterState('CreditNotes', $scope);

        delete $scope.filters['selectedVendor'];
        delete $scope.filters['selectedShowAll'];
        delete $scope.filters['selectedUnPrinted'];
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.vendorSelected = async function (flag = true) {
        if ($rootScope.Not_ValidString($scope.filters.Vendor.Value)) {
            if (flag) {
                $scope.showData();
            }
            return;
        }

        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_Currency = async function () {
        $scope.data_Currency = await Finance_Service.Dropdown_Currency();
    };

    $scope.getData_ReasonType = async function () {
        $scope.data_ReasonType = await Finance_Service.Dropdown_ReasonType();
    };

    $scope.getData_Age = async function () {
        $scope.data_Age = await Finance_Service.Dropdown_Age();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('CreditNote');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    ;

    async function Override_some_Filters() {
        let currency = $scope.filters.Currency.Value;
        if (currency && typeof currency === 'string' && currency.indexOf('(') >= 0) currency = '';
        $scope.selectedCurrency = currency;

        let reasonType = $scope.filters.ReasonType.Value;
        if (reasonType && typeof reasonType === 'string' && reasonType.indexOf('(') >= 0) reasonType = '';
        $scope.selectedReasonType = reasonType;

        let age = $scope.filters.Age.Value;
        if (age && typeof age === 'string' && age.indexOf('(') >= 0) age = '';
        $scope.selectedAge = age;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedVendor = $scope.filters['selectedVendor'];
            delete $scope.filters['selectedVendor'];

            await $scope.vendorSelected(false);

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);
            delete $scope.filters['selectedShowAll'];

            $scope.selectedUnPrinted = $scope.filters['selectedUnPrinted'];
            delete $scope.filters['selectedUnPrinted'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_Currency(),
            $scope.getData_ReasonType(),
            $scope.getData_Age(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('CreditNotes', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.printForm = async function () { };

    $scope.exportList = async function () { };

    $scope.refundClick = async function () { };

    $scope.voidClick = async function () { };

    $scope.dpClick = async function () { };

    $scope.convertToARDP = async function () { };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('CurrenciesCtrl', function ($rootScope, $scope, Utility_ERP, Currencies_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = Currencies_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('Currencies', $scope);
    };

    ;

    async function Override_some_Filters() {
        // No additional filter overrides needed for this page
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('Currencies', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.downloadSchema = async function () {
        // TODO: Implement download schema functionality
    };

    $scope.uploadFile = async function () {
        // TODO: Implement upload functionality
    };

    $scope.exportToExcel = async function () {
        // TODO: Implement export to excel functionality
    };

    $scope.initialize_Page();
});
// ini file Controller.js

angular.module('app.erp').controller('CurrencyRatesCtrl', function ($rootScope, $scope, Utility_ERP, CurrencyRates_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.periodOptions = [
        { Value: null, Text: 'All' },
        { Value: 'Daily', Text: 'Daily' },
        { Value: 'Weekly', Text: 'Weekly' },
        { Value: 'Monthly', Text: 'Monthly' },
        { Value: 'Yearly', Text: 'Yearly' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        RateType: { PropertyName: 'RateTypeCode', Operator: 'in', Value: '' },
        Period: { PropertyName: 'Period', Operator: '=', Value: null },
        BaseCurrency: { PropertyName: 'BaseCurrencyCode', Operator: 'in', Value: '' },
        ComparerCurrency: { PropertyName: 'ComparerCurrencyCode', Operator: 'in', Value: '' },
    };

    $scope.selectedRateType = '';
    $scope.selectedBaseCurrency = '';
    $scope.selectedComparerCurrency = '';

    $scope.data_RateType = [];
    $scope.data_Currency = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = CurrencyRates_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Date', 'Date', 'Date', 'Date', true],
            ['To Currency#', 'ToCurrency', 'ToCurrency', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['Rate', 'Rate', 'Rate', 'Number', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedRateType) {
            $scope.filters.RateType.Operator = 'in';
            $scope.filters.RateType.Value = Utility_ERP.Value_OperatorIN_($scope.data_RateType, 'Code');
        } else {
            $scope.filters.RateType.Operator = '=';
            $scope.filters.RateType.Value = $scope.selectedRateType;
        }

        if (!$scope.selectedBaseCurrency) {
            $scope.filters.BaseCurrency.Operator = 'in';
            $scope.filters.BaseCurrency.Value = Utility_ERP.Value_OperatorIN_($scope.data_Currency, 'Code');
        } else {
            $scope.filters.BaseCurrency.Operator = '=';
            $scope.filters.BaseCurrency.Value = $scope.selectedBaseCurrency;
        }

        if (!$scope.selectedComparerCurrency) {
            $scope.filters.ComparerCurrency.Operator = 'in';
            $scope.filters.ComparerCurrency.Value = Utility_ERP.Value_OperatorIN_($scope.data_Currency, 'Code');
        } else {
            $scope.filters.ComparerCurrency.Operator = '=';
            $scope.filters.ComparerCurrency.Value = $scope.selectedComparerCurrency;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('CurrencyRates', $scope);
    };

    $scope.getData_RateType = async function () {
        $scope.data_RateType = await CurrencyRates_Service.Dropdown_RateType();
    };

    $scope.getData_Currency = async function () {
        $scope.data_Currency = await CurrencyRates_Service.Dropdown_Currency();
    };

    ;

    async function Override_some_Filters() {
        let rateType = $scope.filters.RateType.Value;
        if (rateType && typeof rateType === 'string' && rateType.indexOf('(') >= 0) rateType = '';
        $scope.selectedRateType = rateType;

        let baseCurrency = $scope.filters.BaseCurrency.Value;
        if (baseCurrency && typeof baseCurrency === 'string' && baseCurrency.indexOf('(') >= 0) baseCurrency = '';
        $scope.selectedBaseCurrency = baseCurrency;

        let comparerCurrency = $scope.filters.ComparerCurrency.Value;
        if (comparerCurrency && typeof comparerCurrency === 'string' && comparerCurrency.indexOf('(') >= 0) comparerCurrency = '';
        $scope.selectedComparerCurrency = comparerCurrency;
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $scope.getData_RateType(),
            $scope.getData_Currency()
        ]);

        $rootScope.LoadFilterState('CurrencyRates', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.saveData = async function () {
        // TODO: Implement save functionality
    };

    $scope.exportToExcel = async function () {
        // TODO: Implement export to excel functionality
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('CustomerCategoriesCtrl', function ($rootScope, $scope, Utility_ERP, CustomerCategories_Service) {
    // Data table configuration
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // Filter configuration
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // Create DataTable
    $scope.CreateTable = function () {
        $scope.dt = CustomerCategories_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    // Show data function
    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('CustomerCategories', $scope);
    };

    // Toolbar action functions
    $scope.newCategory = async function () {
        // TODO: Implement new customer category functionality
        console.log('New Customer Category clicked');
    };

    $scope.editCategory = function (row) {
        // TODO: Implement edit customer category functionality
        console.log('Edit Customer Category:', row.Code);
    };

    // Toggle debug scope
    ;

    // Initialize page
    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('CustomerCategories', $scope);

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        await $scope.showData();

        Utility_ERP.Still_Processing($scope, false);
    };

    $scope.initialize_Page();
});

// ini file Controller.js

angular.module('app.erp').controller('CustomerReceiptsCtrl', function ($rootScope, $scope, Utility_ERP, CustomerReceipts_Service, BusinessRelation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        CashAccount: { PropertyName: 'CashAccountCode', Operator: 'in', Value: '' },
        ClearDateFrom_date: { PropertyName: 'ClearDate', Operator: '>=', Value: '' },
        ClearDateTo_date: { PropertyName: 'ClearDate', Operator: '<=', Value: '' },
        PaymentMethod: { PropertyName: 'PaymentMethodCode', Operator: 'in', Value: '' },
        Customer: { PropertyName: 'CustomerID', Operator: '=', Value: '' },
        Age: { PropertyName: 'Age', Operator: 'in', Value: '' },
        UnPrinted: { PropertyName: 'PrintCount', Operator: '<=', Value: null },
        UnreconciledOnly: { PropertyName: 'Reconciled', Operator: '=', Value: null },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedCashAccount = '';
    $scope.selectedClearDateFrom = '';
    $scope.selectedClearDateTo = '';
    $scope.selectedPaymentMethod = '';
    $scope.selectedCustomer = '';
    $scope.selectedAge = '';
    $scope.selectedUnPrinted = false;
    $scope.selectedUnreconciledOnly = false;
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_CashAccount = [];
    $scope.data_PaymentMethod = [];
    $scope.data_BillingAddressNames = [];
    $scope.data_Age = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = CustomerReceipts_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Payment#', 'Code', 'Code', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Branch', 'BranchName', 'BranchName', 'Text', true],
            ['Cash Account', 'CashAccountName', 'CashAccountName', 'Text', true],
            ['Method', 'PaymentMethodName', 'PaymentMethodName', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['Cheque Nr', 'ChequeNumber', 'ChequeNumber', 'Text', true],
            ['Clear Date', 'ClearDate', 'ClearDate', 'Date', true],
            ['Customer', 'CustomerName', 'CustomerName', 'Text', true],
            ['Amount', 'TotalAmount', 'TotalAmount', 'Currency', true],
            ['Status', 'StatusName', 'StatusName', 'Text', true],
            ['Age', 'Age', 'Age', 'Number', true],
            ['Printed', 'PrintCount', 'PrintCount', 'Number', true],
            ['R', 'Reconciled', 'Reconciled', 'Boolean', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        if (!$scope.selectedCashAccount) {
            $scope.filters.CashAccount.Operator = 'in';
            $scope.filters.CashAccount.Value = Utility_ERP.Value_OperatorIN_($scope.data_CashAccount, 'Code');
        } else {
            $scope.filters.CashAccount.Operator = '=';
            $scope.filters.CashAccount.Value = $scope.selectedCashAccount;
        }

        $scope.filters.ClearDateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedClearDateFrom);
        $scope.filters.ClearDateTo_date.Value = $rootScope.Date_to_DB($scope.selectedClearDateTo);

        if (!$scope.selectedPaymentMethod) {
            $scope.filters.PaymentMethod.Operator = 'in';
            $scope.filters.PaymentMethod.Value = Utility_ERP.Value_OperatorIN_($scope.data_PaymentMethod, 'Code');
        } else {
            $scope.filters.PaymentMethod.Operator = '=';
            $scope.filters.PaymentMethod.Value = $scope.selectedPaymentMethod;
        }

        if (!$scope.selectedAge) {
            $scope.filters.Age.Operator = 'in';
            $scope.filters.Age.Value = Utility_ERP.Value_OperatorIN_($scope.data_Age, 'Code');
        } else {
            $scope.filters.Age.Operator = '=';
            $scope.filters.Age.Value = $scope.selectedAge;
        }

        $scope.filters.UnPrinted.Value = null;
        if ($scope.selectedUnPrinted) {
            $scope.filters.UnPrinted.Value = 0;
        }

        $scope.filters.UnreconciledOnly.Value = null;
        if ($scope.selectedUnreconciledOnly) {
            $scope.filters.UnreconciledOnly.Value = false;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedCustomer'] = $scope.selectedCustomer;
        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;
        $scope.filters['selectedUnPrinted'] = $scope.selectedUnPrinted;
        $scope.filters['selectedUnreconciledOnly'] = $scope.selectedUnreconciledOnly;

        $rootScope.SaveFilterState('CustomerReceipts', $scope);

        delete $scope.filters['selectedCustomer'];
        delete $scope.filters['selectedShowAll'];
        delete $scope.filters['selectedUnPrinted'];
        delete $scope.filters['selectedUnreconciledOnly'];
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.customerSelected = async function (flag = true) {
        // reset
        $scope.data_BillingAddressNames = [];

        if ($rootScope.Not_ValidString($scope.filters.Customer.Value)) {
            if (flag) {
                $scope.showData();
            }
            return;
        }

        $scope.data_BillingAddressNames = await BusinessRelation_Service.GetBusinessRelationBillingAddressNames($scope.filters.Customer.Value);

        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_CashAccount = async function () {
        $scope.data_CashAccount = await CustomerReceipts_Service.Dropdown_CashAccount();
    };

    $scope.getData_PaymentMethod = async function () {
        $scope.data_PaymentMethod = await CustomerReceipts_Service.Dropdown_PaymentMethod();
    };

    $scope.getData_Age = async function () {
        $scope.data_Age = await CustomerReceipts_Service.Dropdown_Age();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('CustomerReceipt');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let cashAccount = $scope.filters.CashAccount.Value;
        if (cashAccount && typeof cashAccount === 'string' && cashAccount.indexOf('(') >= 0) cashAccount = '';
        $scope.selectedCashAccount = cashAccount;

        let paymentMethod = $scope.filters.PaymentMethod.Value;
        if (paymentMethod && typeof paymentMethod === 'string' && paymentMethod.indexOf('(') >= 0) paymentMethod = '';
        $scope.selectedPaymentMethod = paymentMethod;

        let age = $scope.filters.Age.Value;
        if (age && typeof age === 'string' && age.indexOf('(') >= 0) age = '';
        $scope.selectedAge = age;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedCustomer = $scope.filters['selectedCustomer'];
            delete $scope.filters['selectedCustomer'];

            await $scope.customerSelected(false);

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];

            $scope.selectedUnPrinted = $scope.filters['selectedUnPrinted'];
            delete $scope.filters['selectedUnPrinted'];

            $scope.selectedUnreconciledOnly = $scope.filters['selectedUnreconciledOnly'];
            delete $scope.filters['selectedUnreconciledOnly'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_CashAccount(),
            $scope.getData_PaymentMethod(),
            $scope.getData_Age(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('CustomerReceipts', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.printForm = async function () { }

    $scope.exportList = async function () { }

    $scope.voidReceipt = async function () { }

    $scope.deleteReceipt = async function () { }

    $scope.downloadSchema = async function () { }

    $scope.uploadData = async function () { }

    $scope.initialize_Page();
});
angular.module('app.erp').controller('CustomerSelectionCtrl', function ($rootScope, $scope, Utility_ERP, CustomerSelection_Service, BusinessRelation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Category: { PropertyName: 'Category', Operator: 'in', Value: '' },
        BusinessLine: { PropertyName: 'BusinessLine', Operator: 'in', Value: '' },
        Group: { PropertyName: 'Group', Operator: 'in', Value: '' },
        Title: { PropertyName: 'Title', Operator: 'in', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedCategory = '';
    $scope.selectedBusinessLine = '';
    $scope.selectedGroup = '';
    $scope.selectedTitle = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_Category = [];
    $scope.data_BusinessLine = [];
    $scope.data_Group = [];
    $scope.data_Title = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = CustomerSelection_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Name', 'Name', 'Name', 'Text', true],
            ['Category', 'Category', 'Category', 'Text', true],
            ['Title', 'Title', 'Title', 'Text', true],
            ['Group', 'Group', 'Group', 'Text', true],
            ['Business Line', 'BusinessLine', 'BusinessLine', 'Text', true],
            ['Status', 'Status', 'Status', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedCategory) {
            $scope.filters.Category.Operator = 'in';
            $scope.filters.Category.Value = Utility_ERP.Value_OperatorIN_($scope.data_Category, 'Code');
        } else {
            $scope.filters.Category.Operator = '=';
            $scope.filters.Category.Value = $scope.selectedCategory;
        }

        if (!$scope.selectedBusinessLine) {
            $scope.filters.BusinessLine.Operator = 'in';
            $scope.filters.BusinessLine.Value = Utility_ERP.Value_OperatorIN_($scope.data_BusinessLine, 'Code');
        } else {
            $scope.filters.BusinessLine.Operator = '=';
            $scope.filters.BusinessLine.Value = $scope.selectedBusinessLine;
        }

        if (!$scope.selectedGroup) {
            $scope.filters.Group.Operator = 'in';
            $scope.filters.Group.Value = Utility_ERP.Value_OperatorIN_($scope.data_Group, 'Code');
        } else {
            $scope.filters.Group.Operator = '=';
            $scope.filters.Group.Value = $scope.selectedGroup;
        }

        if (!$scope.selectedTitle) {
            $scope.filters.Title.Operator = 'in';
            $scope.filters.Title.Value = Utility_ERP.Value_OperatorIN_($scope.data_Title, 'Code');
        } else {
            $scope.filters.Title.Operator = '=';
            $scope.filters.Title.Value = $scope.selectedTitle;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('CustomerSelection', $scope);

        delete $scope.filters['selectedShowAll'];
    };

    $scope.getData_Category = async function () {
        $scope.data_Category = await BusinessRelation_Service.Dropdown_Category();
    };

    $scope.getData_BusinessLine = async function () {
        $scope.data_BusinessLine = await BusinessRelation_Service.Dropdown_BusinessLine();
    };

    $scope.getData_Group = async function () {
        $scope.data_Group = await BusinessRelation_Service.Dropdown_Group();
    };

    $scope.getData_Title = async function () {
        $scope.data_Title = await BusinessRelation_Service.Dropdown_Title();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('Customer');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    ;

    async function Override_some_Filters() {
        let category = $scope.filters.Category.Value;
        if (category && typeof category === 'string' && category.indexOf('(') >= 0) category = '';
        $scope.selectedCategory = category;

        let businessLine = $scope.filters.BusinessLine.Value;
        if (businessLine && typeof businessLine === 'string' && businessLine.indexOf('(') >= 0) businessLine = '';
        $scope.selectedBusinessLine = businessLine;

        let group = $scope.filters.Group.Value;
        if (group && typeof group === 'string' && group.indexOf('(') >= 0) group = '';
        $scope.selectedGroup = group;

        let title = $scope.filters.Title.Value;
        if (title && typeof title === 'string' && title.indexOf('(') >= 0) title = '';
        $scope.selectedTitle = title;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $scope.getData_Category(),
            $scope.getData_BusinessLine(),
            $scope.getData_Group(),
            $scope.getData_Title(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('CustomerSelection', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.addSelectedItems = async function () {
        // Implementasi untuk menambahkan item yang dipilih
        let selectedRows = $scope.dt.data.filter(function (row) {
            return row.rowSelected === true;
        });

        if (selectedRows.length === 0) {
            $rootScope.ShowNotification('warning', 'Please select at least one customer');
            return;
        }

        // Logic untuk menambahkan customer yang dipilih
        console.log('Selected customers:', selectedRows);
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('DailyReconciliationCtrl', function ($rootScope, $scope, Utility_ERP, DailyReconciliation_Service) {
    // Data table configuration
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // Filter configuration
    $scope.filters = {
        BankAccount: { PropertyName: 'BankAccountCode', Operator: '=', Value: '' },
        ClearDate: { PropertyName: 'ClearDate', Operator: '=', Value: '' },
        ShowUnreconciledOnly: { PropertyName: 'Reconciled', Operator: '=', Value: null },
    };

    // Filter data
    $scope.selectedClearDate = '';

    // Balance fields
    $scope.beginningBalance = 0;
    $scope.banksEndingBalance = 0;
    $scope.recordedEndingBalance = 0;
    $scope.discrepancyBalance = 0;
    $scope.reconciledInOut = 0;
    $scope.unReconciledInOut = 0;

    // Dropdown data
    $scope.data_BankAccounts = [];

    // Create DataTable
    $scope.CreateTable = function () {
        $scope.dt = DailyReconciliation_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Clear Date', 'ClearDate', 'ClearDate', 'Date', true],
            ['Recorded Date', 'RecordedDate', 'RecordedDate', 'Date', true],
            ['Payment Nr.', 'PaymentNr', 'PaymentNr', 'Text', true],
            ['Payee', 'Payee', 'Payee', 'Text', true],
            ['Cheque Nr.', 'ChequeNr', 'ChequeNr', 'Text', true],
            ['Cheque Date', 'ChequeDate', 'ChequeDate', 'Date', true],
            ['Notes', 'Notes', 'Notes', 'Text', true],
            ['Amount In', 'AmountIn', 'AmountIn', 'Currency', true],
            ['Amount Out', 'AmountOut', 'AmountOut', 'Currency', true],
            ['W', 'W', 'W', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    // Show data function
    $scope.showData = async function () {
        $scope.filters.ClearDate.Value = $rootScope.Date_to_DB($scope.selectedClearDate);

        if ($scope.filters.ShowUnreconciledOnly.Value === true) {
            $scope.filters.ShowUnreconciledOnly.Value = false;
        } else {
            $scope.filters.ShowUnreconciledOnly.Value = null;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        await $scope.calculateBalances();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('DailyReconciliation', $scope);
    };

    // Calculate balances
    $scope.calculateBalances = async function () {
        if (!$scope.filters.BankAccount.Value || !$scope.selectedClearDate) {
            return;
        }

        let balances = await DailyReconciliation_Service.GetBalances(
            $scope.filters.BankAccount.Value,
            $rootScope.Date_to_DB($scope.selectedClearDate)
        );

        if (balances) {
            $scope.beginningBalance = balances.BeginningBalance || 0;
            $scope.recordedEndingBalance = balances.RecordedEndingBalance || 0;
            $scope.reconciledInOut = balances.ReconciledInOut || 0;
            $scope.unReconciledInOut = balances.UnReconciledInOut || 0;

            $scope.calculateDiscrepancy();
        }
    };

    // Calculate discrepancy
    $scope.calculateDiscrepancy = function () {
        let banksBalance = parseFloat($scope.banksEndingBalance) || 0;
        let recordedBalance = parseFloat($scope.recordedEndingBalance) || 0;
        $scope.discrepancyBalance = banksBalance - recordedBalance;
    };

    // Bank account changed
    $scope.bankAccountChanged = async function () {
        await $scope.showData();
    };

    // Get Bank Accounts dropdown data
    $scope.getData_BankAccounts = async function () {
        $scope.data_BankAccounts = await DailyReconciliation_Service.Dropdown_BankAccounts();
    };

    // Toolbar action functions
    $scope.receiveDeposit = async function () {
        // TODO: Implement receive deposit functionality
        console.log('Receive Deposit clicked');
    };

    $scope.payDeposit = async function () {
        // TODO: Implement pay deposit functionality
        console.log('Pay Deposit clicked');
    };

    $scope.customerReceipt = async function () {
        // TODO: Implement customer receipt functionality
        console.log('Customer Receipt clicked');
    };

    $scope.vendorPayment = async function () {
        // TODO: Implement vendor payment functionality
        console.log('Vendor Payment clicked');
    };

    $scope.expense = async function () {
        // TODO: Implement expense functionality
        console.log('Expense clicked');
    };

    $scope.receipt = async function () {
        // TODO: Implement receipt functionality
        console.log('Receipt clicked');
    };

    $scope.adjustClearing = async function () {
        // TODO: Implement adjust clearing functionality
        console.log('Adjust Clearing clicked');
    };

    $scope.editTransaction = function (row) {
        // TODO: Implement edit transaction functionality
        console.log('Edit Transaction:', row.PaymentNr);
    };

    // Toggle debug scope
    ;

    // Initialize page
    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await $scope.getData_BankAccounts();

        $rootScope.LoadFilterState('DailyReconciliation', $scope);

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        if ($scope.filters.BankAccount.Value && $scope.selectedClearDate) {
            await $scope.showData();
        }

        Utility_ERP.Still_Processing($scope, false);
    };

    $scope.initialize_Page();
});

angular.module('app.erp').controller('DailyReconSummaryCtrl', function ($rootScope, $scope, Utility_ERP, DailyReconSummary_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        BankAccount: { PropertyName: 'BankAccountCode', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
    };

    $scope.selectedBankAccount = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';

    $scope.data_BankAccount = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = DailyReconSummary_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Cash Account', 'CashAccount', 'CashAccount', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Beginning Balance', 'BeginningBalance', 'BeginningBalance', 'Currency', true],
            ['Recorded Ending Balance', 'RecordedEndingBalance', 'RecordedEndingBalance', 'Currency', true],
            ['Bank\'s Ending Balance', 'BanksEndingBalance', 'BanksEndingBalance', 'Currency', true],
            ['Discrepancy', 'Discrepancy', 'Discrepancy', 'Currency', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBankAccount) {
            $scope.filters.BankAccount.Operator = 'in';
            $scope.filters.BankAccount.Value = Utility_ERP.Value_OperatorIN_($scope.data_BankAccount, 'Code');
        } else {
            $scope.filters.BankAccount.Operator = '=';
            $scope.filters.BankAccount.Value = $scope.selectedBankAccount;
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('DailyReconSummary', $scope);
    };

    $scope.getData_BankAccount = async function () {
        $scope.data_BankAccount = await DailyReconSummary_Service.Dropdown_BankAccount();
    };

    ;

    async function Override_some_Filters() {
        let bankAccount = $scope.filters.BankAccount.Value;
        if (bankAccount && typeof bankAccount === 'string' && bankAccount.indexOf('(') >= 0) bankAccount = '';
        $scope.selectedBankAccount = bankAccount;
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $scope.getData_BankAccount()
        ]);

        $rootScope.LoadFilterState('DailyReconSummary', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.exportList = async function () {
        // Implementation for export to excel
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('DebitNotesCtrl', function ($rootScope, $scope, Utility_ERP, DebitNotes_Service, BusinessRelation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Currency: { PropertyName: 'CurrencyCode', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        DueDateFrom_date: { PropertyName: 'DueDate', Operator: '>=', Value: '' },
        DueDateTo_date: { PropertyName: 'DueDate', Operator: '<=', Value: '' },
        Customer: { PropertyName: 'CustomerID', Operator: '=', Value: '' },
        ReasonType: { PropertyName: 'ReasonTypeCode', Operator: 'in', Value: '' },
        DueIn: { PropertyName: 'DueIn', Operator: 'in', Value: '' },
        Age: { PropertyName: 'Age', Operator: 'in', Value: '' },
        UnPrinted: { PropertyName: 'PrintCount', Operator: '<=', Value: null },
        RequireVATNr: { PropertyName: 'RequireVATNumber', Operator: '=', Value: null },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedCurrency = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedDueDateFrom = '';
    $scope.selectedDueDateTo = '';
    $scope.selectedCustomer = '';
    $scope.selectedReasonType = '';
    $scope.selectedDueIn = '';
    $scope.selectedAge = '';
    $scope.selectedUnPrinted = false;
    $scope.selectedRequireVATNr = false;
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_Currency = [];
    $scope.data_ReasonType = [];
    $scope.data_DueIn = [];
    $scope.data_Age = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = DebitNotes_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Debit Note #', 'DebitNoteNr', 'DebitNoteNr', 'Text', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Reason', 'Reason', 'Reason', 'Text', true],
            ['PO#', 'PONr', 'PONr', 'Text', true],
            ['Customer', 'Customer', 'Customer', 'Text', true],
            ['Amount Due', 'AmountDue', 'AmountDue', 'Currency', true],
            ['Amount Paid', 'AmountPaid', 'AmountPaid', 'Currency', true],
            ['Due Date', 'DueDate', 'DueDate', 'Date', true],
            ['Age', 'Age', 'Age', 'Number', true],
            ['Status', 'Status', 'Status', 'Text', true],
            ['Printed', 'Printed', 'Printed', 'Number', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedCurrency) {
            $scope.filters.Currency.Operator = 'in';
            $scope.filters.Currency.Value = Utility_ERP.Value_OperatorIN_($scope.data_Currency, 'Code');
        } else {
            $scope.filters.Currency.Operator = '=';
            $scope.filters.Currency.Value = $scope.selectedCurrency;
        }

        if (!$scope.selectedReasonType) {
            $scope.filters.ReasonType.Operator = 'in';
            $scope.filters.ReasonType.Value = Utility_ERP.Value_OperatorIN_($scope.data_ReasonType, 'Code');
        } else {
            $scope.filters.ReasonType.Operator = '=';
            $scope.filters.ReasonType.Value = $scope.selectedReasonType;
        }

        if (!$scope.selectedDueIn) {
            $scope.filters.DueIn.Operator = 'in';
            $scope.filters.DueIn.Value = Utility_ERP.Value_OperatorIN_($scope.data_DueIn, 'Code');
        } else {
            $scope.filters.DueIn.Operator = '=';
            $scope.filters.DueIn.Value = $scope.selectedDueIn;
        }

        if (!$scope.selectedAge) {
            $scope.filters.Age.Operator = 'in';
            $scope.filters.Age.Value = Utility_ERP.Value_OperatorIN_($scope.data_Age, 'Code');
        } else {
            $scope.filters.Age.Operator = '=';
            $scope.filters.Age.Value = $scope.selectedAge;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        $scope.filters.DueDateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDueDateFrom);
        $scope.filters.DueDateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDueDateTo);

        $scope.filters.UnPrinted.Value = null;
        if ($scope.selectedUnPrinted) {
            $scope.filters.UnPrinted.Value = 0;
        }

        $scope.filters.RequireVATNr.Value = null;
        if ($scope.selectedRequireVATNr) {
            $scope.filters.RequireVATNr.Value = true;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedCustomer'] = $scope.selectedCustomer;
        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;
        $scope.filters['selectedUnPrinted'] = $scope.selectedUnPrinted;
        $scope.filters['selectedRequireVATNr'] = $scope.selectedRequireVATNr;

        $rootScope.SaveFilterState('DebitNotes', $scope);

        delete $scope.filters['selectedCustomer'];
        delete $scope.filters['selectedShowAll'];
        delete $scope.filters['selectedUnPrinted'];
        delete $scope.filters['selectedRequireVATNr'];
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.customerSelected = async function (flag = true) {
        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_Currency = async function () {
        $scope.data_Currency = await Finance_Service.Dropdown_Currency();
    };

    $scope.getData_ReasonType = async function () {
        $scope.data_ReasonType = await Finance_Service.Dropdown_DebitNoteReasonType();
    };

    $scope.getData_DueIn = async function () {
        $scope.data_DueIn = await Finance_Service.Dropdown_DueIn();
    };

    $scope.getData_Age = async function () {
        $scope.data_Age = await Finance_Service.Dropdown_Age();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('DebitNote');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let currency = $scope.filters.Currency.Value;
        if (currency && typeof currency === 'string' && currency.indexOf('(') >= 0) currency = '';
        $scope.selectedCurrency = currency;

        let reasonType = $scope.filters.ReasonType.Value;
        if (reasonType && typeof reasonType === 'string' && reasonType.indexOf('(') >= 0) reasonType = '';
        $scope.selectedReasonType = reasonType;

        let dueIn = $scope.filters.DueIn.Value;
        if (dueIn && typeof dueIn === 'string' && dueIn.indexOf('(') >= 0) dueIn = '';
        $scope.selectedDueIn = dueIn;

        let age = $scope.filters.Age.Value;
        if (age && typeof age === 'string' && age.indexOf('(') >= 0) age = '';
        $scope.selectedAge = age;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedCustomer = $scope.filters['selectedCustomer'];
            delete $scope.filters['selectedCustomer'];

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);
            delete $scope.filters['selectedShowAll'];

            $scope.selectedUnPrinted = $scope.filters['selectedUnPrinted'];
            delete $scope.filters['selectedUnPrinted'];

            $scope.selectedRequireVATNr = $scope.filters['selectedRequireVATNr'];
            delete $scope.filters['selectedRequireVATNr'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_Currency(),
            $scope.getData_ReasonType(),
            $scope.getData_DueIn(),
            $scope.getData_Age(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('DebitNotes', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.printForm = async function () { }

    $scope.exportList = async function () { }

    $scope.initialize_Page();
});
angular.module('app.erp').controller('DefaultChargesCtrl', function ($rootScope, $scope, Utility_ERP, DefaultCharges_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = DefaultCharges_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Charge Name', 'ChargeName', 'ChargeName', 'Text', true],
            ['Active', 'Active', 'Active', 'Boolean', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('DefaultCharges', $scope);
    };

    ;

    async function Override_some_Filters() {
        // No special filters to override for this page
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('DefaultCharges', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.setARAPCharge = async function () {
        // Implementation for Set AR / AP Charge
    };

    $scope.setMutationCharge = async function () {
        // Implementation for Set Mutation Charge
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('DeferredRevenuesCtrl', function ($rootScope, $scope, Utility_ERP, DeferredRevenues_Service, BusinessRelation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Year: { PropertyName: 'Year', Operator: 'in', Value: '' },
        Period: { PropertyName: 'Period', Operator: 'in', Value: '' },
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        ReasonType: { PropertyName: 'ReasonType', Operator: 'in', Value: '' },
        TotalAmount: { PropertyName: 'TotalAmount', Operator: '=', Value: null },
        Customer: { PropertyName: 'CustomerID', Operator: '=', Value: '' },
    };

    $scope.selectedYear = '';
    $scope.selectedPeriod = '';
    $scope.selectedBranch = '';
    $scope.selectedReasonType = '';
    $scope.selectedCustomer = '';

    $scope.data_Year = [];
    $scope.data_Period = [];
    $scope.data_EmployeeLocationAccess = [];
    $scope.data_ReasonType = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = DeferredRevenues_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Invoice Nr.', 'InvoiceNr', 'InvoiceNr', 'Text', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Reason', 'Reason', 'Reason', 'Text', true],
            ['PO#', 'PONo', 'PONo', 'Text', true],
            ['Customer', 'Customer', 'Customer', 'Text', true],
            ['Deferred Amount', 'DeferredAmount', 'DeferredAmount', 'Number', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedYear) {
            $scope.filters.Year.Operator = 'in';
            $scope.filters.Year.Value = Utility_ERP.Value_OperatorIN_($scope.data_Year, 'Code');
        } else {
            $scope.filters.Year.Operator = '=';
            $scope.filters.Year.Value = $scope.selectedYear;
        }

        if (!$scope.selectedPeriod) {
            $scope.filters.Period.Operator = 'in';
            $scope.filters.Period.Value = Utility_ERP.Value_OperatorIN_($scope.data_Period, 'Code');
        } else {
            $scope.filters.Period.Operator = '=';
            $scope.filters.Period.Value = $scope.selectedPeriod;
        }

        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedReasonType) {
            $scope.filters.ReasonType.Operator = 'in';
            $scope.filters.ReasonType.Value = Utility_ERP.Value_OperatorIN_($scope.data_ReasonType, 'Code');
        } else {
            $scope.filters.ReasonType.Operator = '=';
            $scope.filters.ReasonType.Value = $scope.selectedReasonType;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedCustomer'] = $scope.selectedCustomer;

        $rootScope.SaveFilterState('DeferredRevenues', $scope);

        delete $scope.filters['selectedCustomer'];
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_Year = async function () {
        $scope.data_Year = await DeferredRevenues_Service.Dropdown_Year();
    };

    $scope.getData_Period = async function () {
        $scope.data_Period = await DeferredRevenues_Service.Dropdown_Period();
    };

    $scope.getData_ReasonType = async function () {
        $scope.data_ReasonType = await DeferredRevenues_Service.Dropdown_ReasonType();
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.customerSelected = async function (flag = true) {
        if (flag) {
            $scope.showData();
        }
    };

    ;

    async function Override_some_Filters() {
        let year = $scope.filters.Year.Value;
        if (year && typeof year === 'string' && year.indexOf('(') >= 0) year = '';
        $scope.selectedYear = year;

        let period = $scope.filters.Period.Value;
        if (period && typeof period === 'string' && period.indexOf('(') >= 0) period = '';
        $scope.selectedPeriod = period;

        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let reasonType = $scope.filters.ReasonType.Value;
        if (reasonType && typeof reasonType === 'string' && reasonType.indexOf('(') >= 0) reasonType = '';
        $scope.selectedReasonType = reasonType;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedCustomer = $scope.filters['selectedCustomer'];
            delete $scope.filters['selectedCustomer'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $scope.getData_Year(),
            $scope.getData_Period(),
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_ReasonType()
        ]);

        $rootScope.LoadFilterState('DeferredRevenues', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.exportList = async function () {
        // Implementasi export to excel
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('DepositTypesCtrl', function ($rootScope, $scope, Utility_ERP, DepositTypes_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = DepositTypes_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Description', 'Description', 'Description', 'Text', true],
            ['Receivable Account', 'ReceivableAccount', 'ReceivableAccount', 'Text', true],
            ['Deposit Account', 'DepositAccount', 'DepositAccount', 'Text', true],
            ['Deposit Charge', 'DepositCharge', 'DepositCharge', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('DepositTypes', $scope);
    };

    ;

    async function Override_some_Filters() {
        // No additional filter overrides needed for this page
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('DepositTypes', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.saveData = async function () {
        // TODO: Implement save functionality
    };

    $scope.exportToExcel = async function () {
        // TODO: Implement export to excel functionality
    };

    $scope.initialize_Page();
});
// ini file Controller.js

angular.module('app.erp').controller('DiscountsFinCtrl', function ($rootScope, $scope, Utility_ERP, DiscountsFin_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = DiscountsFin_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('DiscountsFin', $scope);
    };

    

    async function Override_some_Filters() {
        // No additional overrides needed for this simple case
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('DiscountsFin', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('DisposalMethodsFinCtrl', function ($rootScope, $scope, Utility_ERP, DisposalMethodsFin_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = DisposalMethodsFin_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Module', 'Module', 'Module', 'Text', true],
            ['Name', 'Name', 'Name', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('DisposalMethodsFin', $scope);
    };

    ;

    async function Override_some_Filters() {
        // No additional filters to override for this page
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('DisposalMethodsFin', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.exportList = async function () {
        // Export functionality to be implemented
    };

    $scope.initialize_Page();
});
// ini file Controller.js

//
angular.module('app.erp').controller('DownPaymentsCtrl', function ($rootScope, $scope, Utility_ERP, DownPayments_Service, BusinessRelation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Customer: { PropertyName: 'CustomerID', Operator: '=', Value: '' },
        Currency: { PropertyName: 'CurrencyCode', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        ReasonType: { PropertyName: 'ReasonTypeCode', Operator: 'in', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedCustomer = '';
    $scope.selectedCurrency = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedReasonType = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_BillingAddressNames = [];
    $scope.data_Currency = [];
    $scope.data_ReasonType = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = DownPayments_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Deposit #', 'DepositNo', 'DepositNo', 'Text', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Reason', 'Reason', 'Reason', 'Text', true],
            ['PO#', 'PONo', 'PONo', 'Text', true],
            ['Customer', 'Customer', 'Customer', 'Text', true],
            ['Deposit Balance', 'DepositBalance', 'DepositBalance', 'Number', true],
            ['Status', 'Status', 'Status', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedCurrency) {
            $scope.filters.Currency.Operator = 'in';
            $scope.filters.Currency.Value = Utility_ERP.Value_OperatorIN_($scope.data_Currency, 'Code');
        } else {
            $scope.filters.Currency.Operator = '=';
            $scope.filters.Currency.Value = $scope.selectedCurrency;
        }

        if (!$scope.selectedReasonType) {
            $scope.filters.ReasonType.Operator = 'in';
            $scope.filters.ReasonType.Value = Utility_ERP.Value_OperatorIN_($scope.data_ReasonType, 'Code');
        } else {
            $scope.filters.ReasonType.Operator = '=';
            $scope.filters.ReasonType.Value = $scope.selectedReasonType;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedCustomer'] = $scope.selectedCustomer;
        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('DownPayments', $scope);

        delete $scope.filters['selectedCustomer'];
        delete $scope.filters['selectedShowAll'];
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.customerSelected = async function (flag = true) {
        // reset
        $scope.data_BillingAddressNames = [];

        if ($rootScope.Not_ValidString($scope.filters.Customer.Value)) {
            if (flag) {
                $scope.showData();
            }

            return;
        }

        $scope.data_BillingAddressNames = await BusinessRelation_Service.GetBusinessRelationBillingAddressNames($scope.filters.Customer.Value);

        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_Currency = async function () {
        $scope.data_Currency = await DownPayments_Service.Dropdown_Currency();
    };

    $scope.getData_ReasonType = async function () {
        $scope.data_ReasonType = await DownPayments_Service.Dropdown_ReasonType();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('DownPayment');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let currency = $scope.filters.Currency.Value;
        if (currency && typeof currency === 'string' && currency.indexOf('(') >= 0) currency = '';
        $scope.selectedCurrency = currency;

        let reasonType = $scope.filters.ReasonType.Value;
        if (reasonType && typeof reasonType === 'string' && reasonType.indexOf('(') >= 0) reasonType = '';
        $scope.selectedReasonType = reasonType;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedCustomer = $scope.filters['selectedCustomer'];
            delete $scope.filters['selectedCustomer'];

            await $scope.customerSelected(false);

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_Currency(),
            $scope.getData_ReasonType(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('DownPayments', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.printForm = async function () {
        // Implementation for print
    };

    $scope.refundClick = async function () {
        // Implementation for refund
    };

    $scope.disposeClick = async function () {
        // Implementation for dispose
    };

    $scope.voidClick = async function () {
        // Implementation for void
    };

    $scope.deleteClick = async function () {
        // Implementation for delete
    };

    $scope.initialize_Page();
});
//
angular.module('app.erp').controller('FinancialPeriodsCtrl', function ($rootScope, $scope, Utility_ERP, FinancialPeriods_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.yearOptions = [];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Year: { PropertyName: 'Year', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = FinancialPeriods_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['Status', 'Status', 'Status', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('FinancialPeriods', $scope);
    };

    $scope.generateYearOptions = function () {
        const currentYear = new Date().getFullYear();
        const startYear = currentYear - 5;
        const endYear = currentYear + 5;

        $scope.yearOptions = [{ Value: null, Text: 'All' }];

        for (let year = endYear; year >= startYear; year--) {
            $scope.yearOptions.push({ Value: year, Text: year.toString() });
        }
    };

    ;

    async function Override_some_Filters() {
        // No additional filter overrides needed for this page
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $scope.generateYearOptions();

        $rootScope.LoadFilterState('FinancialPeriods', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.newYear = async function () {
        // TODO: Implement new year functionality
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('FinancialReportsCtrl', function ($rootScope, $scope, Utility_ERP, FinancialReports_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = FinancialReports_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Short Name', 'ShortName', 'ShortName', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['Active', 'Active', 'Active', 'Boolean', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('FinancialReports', $scope);
    };

    ;

    async function Override_some_Filters() {
        // No special override needed for this simple filter
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            // No additional data loading needed
        ]);

        $rootScope.LoadFilterState('FinancialReports', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.downloadSchema = async function () { };

    $scope.uploadReport = async function () { };

    $scope.initialize_Page();
});
//
angular.module('app.erp').controller('FollowUpRequestsCtrl', function ($rootScope, $scope, Utility_ERP, FollowUpRequests_Service, BusinessRelation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        CollectType: { PropertyName: 'CollectTypeCode', Operator: 'in', Value: '' },
        Customer: { PropertyName: 'CustomerID', Operator: '=', Value: '' },
        Age: { PropertyName: 'AgeCode', Operator: 'in', Value: '' },
        OrderBy: { PropertyName: 'OrderByCode', Operator: 'in', Value: '' },
        FollowUpDate_date: { PropertyName: 'FollowUpDate', Operator: '=', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedCollectType = '';
    $scope.selectedCustomer = '';
    $scope.selectedAge = '';
    $scope.selectedOrderBy = '';
    $scope.selectedFollowUpDate = '';

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_CollectType = [];
    $scope.data_BillingAddressNames = [];
    $scope.data_Age = [];
    $scope.data_OrderBy = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = FollowUpRequests_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Doc Nr.', 'DocNr', 'DocNr', 'Text', true],
            ['Cheque Nr.', 'ChequeNr', 'ChequeNr', 'Text', true],
            ['Cheque Date', 'ChequeDate', 'ChequeDate', 'Date', true],
            ['Collect Date', 'CollectDate', 'CollectDate', 'Date', true],
            ['Due Date', 'DueDate', 'DueDate', 'Date', true],
            ['Collect Type', 'CollectType', 'CollectType', 'Text', true],
            ['Contact Person', 'ContactPerson', 'ContactPerson', 'Text', true],
            ['Contact Nr.', 'ContactNr', 'ContactNr', 'Text', true],
            ['Amount', 'Amount', 'Amount', 'Currency', true],
            ['Notes', 'Notes', 'Notes', 'Text', true],
            ['Age', 'Age', 'Age', 'Number', true],
            ['Rev', 'Rev', 'Rev', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedCollectType) {
            $scope.filters.CollectType.Operator = 'in';
            $scope.filters.CollectType.Value = Utility_ERP.Value_OperatorIN_($scope.data_CollectType, 'Code');
        } else {
            $scope.filters.CollectType.Operator = '=';
            $scope.filters.CollectType.Value = $scope.selectedCollectType;
        }

        if (!$scope.selectedAge) {
            $scope.filters.Age.Operator = 'in';
            $scope.filters.Age.Value = Utility_ERP.Value_OperatorIN_($scope.data_Age, 'Code');
        } else {
            $scope.filters.Age.Operator = '=';
            $scope.filters.Age.Value = $scope.selectedAge;
        }

        if (!$scope.selectedOrderBy) {
            $scope.filters.OrderBy.Operator = 'in';
            $scope.filters.OrderBy.Value = Utility_ERP.Value_OperatorIN_($scope.data_OrderBy, 'Code');
        } else {
            $scope.filters.OrderBy.Operator = '=';
            $scope.filters.OrderBy.Value = $scope.selectedOrderBy;
        }

        $scope.filters.FollowUpDate_date.Value = $rootScope.Date_to_DB($scope.selectedFollowUpDate);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedCustomer'] = $scope.selectedCustomer;

        $rootScope.SaveFilterState('FollowUpRequests', $scope);

        delete $scope.filters['selectedCustomer'];
    };

    $scope.Branch_Changed = async function () {
        // reset
        $scope.selectedCollectType = '';
        $scope.selectedCustomer = '';
        $scope.selectedAge = '';
        $scope.selectedOrderBy = '';

        await $scope.showData();
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.customerSelected = async function (flag = true) {
        // reset
        $scope.data_BillingAddressNames = [];

        if ($rootScope.Not_ValidString($scope.filters.Customer.Value)) {
            if (flag) {
                $scope.showData();
            }

            return;
        }

        $scope.data_BillingAddressNames = await BusinessRelation_Service.GetBusinessRelationBillingAddressNames($scope.filters.Customer.Value);

        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_CollectType = async function () {
        $scope.data_CollectType = await FollowUpRequests_Service.Dropdown_CollectType();
    };

    $scope.getData_Age = async function () {
        $scope.data_Age = await FollowUpRequests_Service.Dropdown_Age();
    };

    $scope.getData_OrderBy = async function () {
        $scope.data_OrderBy = await FollowUpRequests_Service.Dropdown_OrderBy();
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let collectType = $scope.filters.CollectType.Value;
        if (collectType && typeof collectType === 'string' && collectType.indexOf('(') >= 0) collectType = '';
        $scope.selectedCollectType = collectType;

        let age = $scope.filters.Age.Value;
        if (age && typeof age === 'string' && age.indexOf('(') >= 0) age = '';
        $scope.selectedAge = age;

        let orderBy = $scope.filters.OrderBy.Value;
        if (orderBy && typeof orderBy === 'string' && orderBy.indexOf('(') >= 0) orderBy = '';
        $scope.selectedOrderBy = orderBy;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedCustomer = $scope.filters['selectedCustomer'];
            delete $scope.filters['selectedCustomer'];

            await $scope.customerSelected(false);
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_CollectType(),
            $scope.getData_Age(),
            $scope.getData_OrderBy()
        ]);

        $rootScope.LoadFilterState('FollowUpRequests', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.updateFollowUpDate = async function () {
        // Update Follow Up Date implementation
    };

    $scope.releaseToCollectList = async function () {
        // Release to Collect List implementation
    };

    $scope.initialize_Page();
});
//
angular.module('app.erp').controller('FReportSettingsCtrl', function ($rootScope, $scope, Utility_ERP, FReportSettings_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = FReportSettings_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('FReportSettings', $scope);
    };

    ;

    async function Override_some_Filters() {
        // No override needed for simple dropdown filter
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('FReportSettings', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('GeneralLedgerCtrl', function ($rootScope, $scope, Utility_ERP, GeneralLedger_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    // Generate year options (current year ± 5 years)
    const currentYear = new Date().getFullYear();
    $scope.yearOptions = [];
    for (let i = currentYear - 5; i <= currentYear + 5; i++) {
        $scope.yearOptions.push({ Value: i, Text: i.toString() });
    }

    // Period options (1-12)
    $scope.periodOptions = [];
    for (let i = 1; i <= 12; i++) {
        $scope.periodOptions.push({ Value: i, Text: i.toString() });
    }

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        StartYear: { PropertyName: 'StartYear', Operator: '=', Value: null },
        StartPeriod: { PropertyName: 'StartPeriod', Operator: '=', Value: null },
        EndYear: { PropertyName: 'EndYear', Operator: '=', Value: null },
        EndPeriod: { PropertyName: 'EndPeriod', Operator: '=', Value: null },
        Company: { PropertyName: 'CompanyCode', Operator: 'in', Value: '' },
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Account: { PropertyName: 'AccountCode', Operator: 'in', Value: '' },
        SubAccount: { PropertyName: 'SubAccountCode', Operator: 'in', Value: '' },
        TotalDebet: { PropertyName: 'TotalDebet', Operator: '=', Value: '' },
        TotalCredit: { PropertyName: 'TotalCredit', Operator: '=', Value: '' },
        BeginningBalance: { PropertyName: 'BeginningBalance', Operator: '=', Value: '' },
        EndingBalance: { PropertyName: 'EndingBalance', Operator: '=', Value: '' },
    };

    $scope.selectedCompany = '';
    $scope.selectedBranch = '';
    $scope.selectedAccount = '';
    $scope.selectedSubAccount = '';

    $scope.data_Company = [];
    $scope.data_EmployeeLocationAccess = [];
    $scope.data_Account = [];
    $scope.data_SubAccount = [];
    $scope.data_SubAccount_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = GeneralLedger_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Date', 'Date', 'Date', 'Date', true],
            ['Module', 'Module', 'Module', 'Text', true],
            ['Journal Nr.', 'JournalNr', 'JournalNr', 'Text', true],
            ['Company', 'Company', 'Company', 'Text', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Division', 'Division', 'Division', 'Text', true],
            ['Department', 'Department', 'Department', 'Text', true],
            ['Sub Account', 'SubAccount', 'SubAccount', 'Text', true],
            ['B/R', 'BR', 'BR', 'Text', true],
            ['Reff Nr.', 'ReffNr', 'ReffNr', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['Debet', 'Debet', 'Debet', 'Currency', true],
            ['Credit', 'Credit', 'Credit', 'Currency', true],
            ['Balance', 'Balance', 'Balance', 'Currency', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedCompany) {
            $scope.filters.Company.Operator = 'in';
            $scope.filters.Company.Value = Utility_ERP.Value_OperatorIN_($scope.data_Company, 'Code');
        } else {
            $scope.filters.Company.Operator = '=';
            $scope.filters.Company.Value = $scope.selectedCompany;
        }

        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedAccount) {
            $scope.filters.Account.Operator = 'in';
            $scope.filters.Account.Value = Utility_ERP.Value_OperatorIN_($scope.data_Account, 'Code');
        } else {
            $scope.filters.Account.Operator = '=';
            $scope.filters.Account.Value = $scope.selectedAccount;
        }

        if (!$scope.selectedSubAccount) {
            $scope.filters.SubAccount.Operator = 'in';
            $scope.filters.SubAccount.Value = Utility_ERP.Value_OperatorIN_($scope.data_SubAccount, 'Code');
        } else {
            $scope.filters.SubAccount.Operator = '=';
            $scope.filters.SubAccount.Value = $scope.selectedSubAccount;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('GeneralLedger', $scope);
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.Account_Changed = async function () {
        // reset SubAccount when Account changes
        $scope.selectedSubAccount = '';

        $scope.Reorganize_SubAccount();

        await $scope.showData();
    };

    $scope.Reorganize_SubAccount = function () {
        var data = [];

        if (!$scope.selectedAccount) {
            // tanpa Filter Account
            data = $scope.data_SubAccount_All;
        } else {
            // filter berdasarkan Account
            data = $scope.data_SubAccount_All.filter(function (e) {
                return e.AccountCode == $scope.selectedAccount;
            });
        }

        $scope.data_SubAccount = [...new Map(data.map((item) => [item['Code'], item])).values()].sort((x, y) => x.Code.localeCompare(y.Code));
    };

    $scope.getData_Company = async function () {
        $scope.data_Company = await GeneralLedger_Service.Dropdown_Company();
    };

    $scope.getData_Account = async function () {
        $scope.data_Account = await GeneralLedger_Service.Dropdown_Account();
    };

    $scope.getData_SubAccount = async function () {
        $scope.data_SubAccount_All = await GeneralLedger_Service.Dropdown_SubAccount();
    };

    ;

    async function Override_some_Filters() {
        let company = $scope.filters.Company.Value;
        if (company && typeof company === 'string' && company.indexOf('(') >= 0) company = '';
        $scope.selectedCompany = company;

        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let account = $scope.filters.Account.Value;
        if (account && typeof account === 'string' && account.indexOf('(') >= 0) account = '';
        $scope.selectedAccount = account;

        let subAccount = $scope.filters.SubAccount.Value;
        if (subAccount && typeof subAccount === 'string' && subAccount.indexOf('(') >= 0) subAccount = '';
        $scope.selectedSubAccount = subAccount;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_Company(),
            $scope.getData_Account(),
            $scope.getData_SubAccount()
        ]);

        $rootScope.LoadFilterState('GeneralLedger', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.Reorganize_SubAccount();

        $scope.showData();
    };

    $scope.exportToExcel = async function () { };

    $scope.exportPerSubAccount = async function () { };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('GLJournalsCtrl', function ($rootScope, $scope, Utility_ERP, GLJournals_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.moduleOptions = [
        { Value: null, Text: 'All' },
        { Value: 'AP', Text: 'AP' },
        { Value: 'AR', Text: 'AR' },
        { Value: 'GL', Text: 'GL' },
        { Value: 'INV', Text: 'INV' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Module: { PropertyName: 'Module', Operator: '=', Value: null },
        ProjectNr: { PropertyName: 'ProjectCode', Operator: 'in', Value: '' },
        Currency: { PropertyName: 'CurrencyCode', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedProjectNr = '';
    $scope.selectedCurrency = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_ProjectNr = [];
    $scope.data_Currency = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = GLJournals_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Journal #', 'JournalNr', 'JournalNr', 'Text', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Subject', 'Subject', 'Subject', 'Text', true],
            ['Mod', 'Mod', 'Mod', 'Text', true],
            ['Doc Nr.', 'DocNr', 'DocNr', 'Text', true],
            ['Project', 'Project', 'Project', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['Amount', 'Amount', 'Amount', 'Currency', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedProjectNr) {
            $scope.filters.ProjectNr.Operator = 'in';
            $scope.filters.ProjectNr.Value = Utility_ERP.Value_OperatorIN_($scope.data_ProjectNr, 'Code');
        } else {
            $scope.filters.ProjectNr.Operator = '=';
            $scope.filters.ProjectNr.Value = $scope.selectedProjectNr;
        }

        if (!$scope.selectedCurrency) {
            $scope.filters.Currency.Operator = 'in';
            $scope.filters.Currency.Value = Utility_ERP.Value_OperatorIN_($scope.data_Currency, 'Code');
        } else {
            $scope.filters.Currency.Operator = '=';
            $scope.filters.Currency.Value = $scope.selectedCurrency;
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('GLJournals', $scope);
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_ProjectNr = async function () {
        $scope.data_ProjectNr = await GLJournals_Service.Dropdown_ProjectNr();
    };

    $scope.getData_Currency = async function () {
        $scope.data_Currency = await GLJournals_Service.Dropdown_Currency();
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let projectNr = $scope.filters.ProjectNr.Value;
        if (projectNr && typeof projectNr === 'string' && projectNr.indexOf('(') >= 0) projectNr = '';
        $scope.selectedProjectNr = projectNr;

        let currency = $scope.filters.Currency.Value;
        if (currency && typeof currency === 'string' && currency.indexOf('(') >= 0) currency = '';
        $scope.selectedCurrency = currency;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_ProjectNr(),
            $scope.getData_Currency()
        ]);

        $rootScope.LoadFilterState('GLJournals', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.voidJournal = async function () { };

    $scope.deleteJournal = async function () { };

    $scope.downloadSchema = async function () { };

    $scope.uploadJournal = async function () { };

    $scope.printForm = async function () { };

    $scope.exportList = async function () { };

    $scope.initialize_Page();
});
//
angular.module('app.erp').controller('GroupsCtrl', function ($rootScope, $scope, Utility_ERP, Groups_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = Groups_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('Groups', $scope);
    };

    ;

    async function Override_some_Filters() {
        if ($scope.LoadFilterState_) {
            // No special overrides needed for this simple case
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('Groups', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('IBSchemasCtrl', function ($rootScope, $scope, Utility_ERP, IBSchemas_Service) {
    // Data table configuration
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // Filter configuration
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // Create DataTable
    $scope.CreateTable = function () {
        $scope.dt = IBSchemas_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Short Name', 'ShortName', 'ShortName', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['Active', 'Active', 'Active', 'Boolean', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    // Show data function
    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('IBSchemas', $scope);
    };

    // Toolbar action functions
    $scope.newSchema = async function () {
        // TODO: Implement new schema functionality
        console.log('New Schema clicked');
    };

    $scope.downloadSchema = async function () {
        // TODO: Implement download schema functionality
        console.log('Download Schema clicked');
    };

    $scope.uploadSchema = async function () {
        // TODO: Implement upload schema functionality
        console.log('Upload Schema clicked');
    };

    $scope.editSchema = function (row) {
        // TODO: Implement edit schema functionality
        console.log('Edit Schema:', row.Code);
    };

    // Toggle debug scope
    ;

    // Initialize page
    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('IBSchemas', $scope);

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        await $scope.showData();

        Utility_ERP.Still_Processing($scope, false);
    };

    $scope.initialize_Page();
});

angular.module('app.erp').controller('InvoiceListCtrl', function ($rootScope, $scope, Utility_ERP, InvoiceList_Service, BusinessRelation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Currency: { PropertyName: 'CurrencyCode', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        DueDateFrom_date: { PropertyName: 'DueDate', Operator: '>=', Value: '' },
        DueDateTo_date: { PropertyName: 'DueDate', Operator: '<=', Value: '' },
        BR: { PropertyName: 'CustomerID', Operator: '=', Value: '' },
        ReasonType: { PropertyName: 'ReasonTypeCode', Operator: 'in', Value: '' },
        ReceiptNr: { PropertyName: 'ReceiptNr', Operator: 'contains', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedCurrency = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedDueDateFrom = '';
    $scope.selectedDueDateTo = '';
    $scope.selectedBR = '';
    $scope.selectedReasonType = '';

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_Currency = [];
    $scope.data_BillingAddressNames = [];
    $scope.data_ReasonType = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = InvoiceList_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Invoice #', 'InvoiceNo', 'InvoiceNo', 'Text', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Reason', 'Reason', 'Reason', 'Text', true],
            ['PO#', 'PONo', 'PONo', 'Text', true],
            ['Amount Due', 'AmountDue', 'AmountDue', 'Number', true],
            ['Due Date', 'DueDate', 'DueDate', 'Date', true],
            ['Receipt Nr.', 'ReceiptNr', 'ReceiptNr', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedCurrency) {
            $scope.filters.Currency.Operator = 'in';
            $scope.filters.Currency.Value = Utility_ERP.Value_OperatorIN_($scope.data_Currency, 'Code');
        } else {
            $scope.filters.Currency.Operator = '=';
            $scope.filters.Currency.Value = $scope.selectedCurrency;
        }

        if (!$scope.selectedReasonType) {
            $scope.filters.ReasonType.Operator = 'in';
            $scope.filters.ReasonType.Value = Utility_ERP.Value_OperatorIN_($scope.data_ReasonType, 'Code');
        } else {
            $scope.filters.ReasonType.Operator = '=';
            $scope.filters.ReasonType.Value = $scope.selectedReasonType;
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        $scope.filters.DueDateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDueDateFrom);
        $scope.filters.DueDateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDueDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedBR'] = $scope.selectedBR;

        $rootScope.SaveFilterState('InvoiceList', $scope);

        delete $scope.filters['selectedBR'];
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.customerSelected = async function (flag = true) {
        // reset
        $scope.data_BillingAddressNames = [];

        if ($rootScope.Not_ValidString($scope.filters.BR.Value)) {
            if (flag) {
                $scope.showData();
            }

            return;
        }

        $scope.data_BillingAddressNames = await BusinessRelation_Service.GetBusinessRelationBillingAddressNames($scope.filters.BR.Value);

        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_Currency = async function () {
        $scope.data_Currency = await InvoiceList_Service.Dropdown_Currency();
    };

    $scope.getData_ReasonType = async function () {
        $scope.data_ReasonType = await InvoiceList_Service.Dropdown_ReasonType();
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let currency = $scope.filters.Currency.Value;
        if (currency && typeof currency === 'string' && currency.indexOf('(') >= 0) currency = '';
        $scope.selectedCurrency = currency;

        let reasonType = $scope.filters.ReasonType.Value;
        if (reasonType && typeof reasonType === 'string' && reasonType.indexOf('(') >= 0) reasonType = '';
        $scope.selectedReasonType = reasonType;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedBR = $scope.filters['selectedBR'];
            delete $scope.filters['selectedBR'];

            await $scope.customerSelected(false);
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_Currency(),
            $scope.getData_ReasonType()
        ]);

        $rootScope.LoadFilterState('InvoiceList', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.addClick = async function () {
        // Implementation for add
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('InvoiceReceiptItemListCtrl', function ($rootScope, $scope, Utility_ERP, InvoiceReceiptItemList_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        BR: { PropertyName: 'EmployeeCode', Operator: '=', Value: '' },
        ReceiptNr: { PropertyName: 'ReceiptNr', Operator: '=', Value: null },
    };

    $scope.selectedBranch = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedBR = '';

    $scope.data_EmployeeLocationAccess = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = InvoiceReceiptItemList_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Doc Nr.', 'DocNr', 'DocNr', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Amount', 'Amount', 'Amount', 'Number', true],
            ['Due Date', 'DueDate', 'DueDate', 'Date', true],
            ['PO Nr.', 'PONr', 'PONr', 'Text', true],
            ['Comments', 'Comments', 'Comments', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedBR'] = $scope.selectedBR;

        $rootScope.SaveFilterState('InvoiceReceiptItemList', $scope);

        delete $scope.filters['selectedBR'];
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_Employee = async function (val) {
        return await $rootScope.getData_Employee(val, $scope);
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedBR = $scope.filters['selectedBR'];
            delete $scope.filters['selectedBR'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, '')
        ]);

        $rootScope.LoadFilterState('InvoiceReceiptItemList', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('InvoiceReqReconCtrl', function ($rootScope, $scope, Utility_ERP, InvoiceReqRecon_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        RequestDate_date: { PropertyName: 'RequestDate', Operator: '=', Value: '' },
        RequestedInvoice: { PropertyName: 'RequestedInvoice', Operator: '=', Value: null },
        PhysicalOnHand: { PropertyName: 'PhysicalOnHand', Operator: 'contains', Value: '' },
        OnHold: { PropertyName: 'OnHold', Operator: '=', Value: null },
        Discrepancy: { PropertyName: 'Discrepancy', Operator: '=', Value: null },
        ProcessedRequest: { PropertyName: 'ProcessedRequest', Operator: '=', Value: null },
        PendingRequest: { PropertyName: 'PendingRequest', Operator: '=', Value: null },
        ShowUnreconOnly: { PropertyName: 'Reconciled', Operator: '=', Value: null },
    };

    $scope.selectedBranch = '';
    $scope.selectedRequestDate = '';
    $scope.selectedShowUnreconOnly = false;

    $scope.data_EmployeeLocationAccess = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = InvoiceReqRecon_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Doc Type', 'DocType', 'DocType', 'Text', true],
            ['Doc Nr.', 'DocNr', 'DocNr', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['PO Nr.', 'PONr', 'PONr', 'Text', true],
            ['Contract Nr.', 'ContractNr', 'ContractNr', 'Text', true],
            ['Doc Reference Nr.', 'DocReferenceNr', 'DocReferenceNr', 'Text', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Amount', 'Amount', 'Amount', 'Number', true],
            ['Requested', 'Requested', 'Requested', 'Text', true],
            ['Requested By', 'RequestedBy', 'RequestedBy', 'Text', true],
            ['Status', 'Status', 'Status', 'Text', true],
            ['Invoice Nr.', 'InvoiceNr', 'InvoiceNr', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        $scope.filters.RequestDate_date.Value = $rootScope.Date_to_DB($scope.selectedRequestDate);

        $scope.filters.ShowUnreconOnly.Value = null;
        if ($scope.selectedShowUnreconOnly) {
            $scope.filters.ShowUnreconOnly.Value = false;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedShowUnreconOnly'] = $scope.selectedShowUnreconOnly;

        $rootScope.SaveFilterState('InvoiceReqRecon', $scope);

        delete $scope.filters['selectedShowUnreconOnly'];
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedShowUnreconOnly = $scope.filters['selectedShowUnreconOnly'];
            delete $scope.filters['selectedShowUnreconOnly'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, '')
        ]);

        $rootScope.LoadFilterState('InvoiceReqRecon', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.createInvoiceClick = async function () {
        // Implementation for create invoice
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('InvoiceRequestsCtrl', function ($rootScope, $scope, Utility_ERP, InvoiceRequests_Service, BusinessRelation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        BR: { PropertyName: 'BusinessRelationID', Operator: '=', Value: '' },
        ReasonType: { PropertyName: 'ReasonTypeCode', Operator: 'in', Value: '' },
        RequestDateFrom_date: { PropertyName: 'RequestDate', Operator: '>=', Value: '' },
        RequestDateTo_date: { PropertyName: 'RequestDate', Operator: '<=', Value: '' },
        Age: { PropertyName: 'Age', Operator: 'in', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedBR = '';
    $scope.selectedReasonType = '';
    $scope.selectedRequestDateFrom = '';
    $scope.selectedRequestDateTo = '';
    $scope.selectedAge = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_ReasonType = [];
    $scope.data_Age = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = InvoiceRequests_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Doc Type', 'DocType', 'DocType', 'Text', true],
            ['Doc Nr.', 'DocNr', 'DocNr', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['PO Nr.', 'PONr', 'PONr', 'Text', true],
            ['Contract Nr.', 'ContractNr', 'ContractNr', 'Text', true],
            ['Doc Reference Nr.', 'DocReferenceNr', 'DocReferenceNr', 'Text', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Amount', 'Amount', 'Amount', 'Currency', true],
            ['Requested By', 'RequestedBy', 'RequestedBy', 'Text', true],
            ['Status', 'Status', 'Status', 'Text', true],
            ['Invoice Nr.', 'InvoiceNr', 'InvoiceNr', 'Text', true],
            ['Age', 'Age', 'Age', 'Number', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedReasonType) {
            $scope.filters.ReasonType.Operator = 'in';
            $scope.filters.ReasonType.Value = Utility_ERP.Value_OperatorIN_($scope.data_ReasonType, 'Code');
        } else {
            $scope.filters.ReasonType.Operator = '=';
            $scope.filters.ReasonType.Value = $scope.selectedReasonType;
        }

        if (!$scope.selectedAge) {
            $scope.filters.Age.Operator = 'in';
            $scope.filters.Age.Value = Utility_ERP.Value_OperatorIN_($scope.data_Age, 'Code');
        } else {
            $scope.filters.Age.Operator = '=';
            $scope.filters.Age.Value = $scope.selectedAge;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        $scope.filters.RequestDateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedRequestDateFrom);
        $scope.filters.RequestDateTo_date.Value = $rootScope.Date_to_DB($scope.selectedRequestDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedBR'] = $scope.selectedBR;
        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('InvoiceRequests', $scope);

        delete $scope.filters['selectedBR'];
        delete $scope.filters['selectedShowAll'];
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.brSelected = async function (flag = true) {
        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_ReasonType = async function () {
        $scope.data_ReasonType = await Finance_Service.Dropdown_InvoiceRequestReasonType();
    };

    $scope.getData_Age = async function () {
        $scope.data_Age = await Finance_Service.Dropdown_Age();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('InvoiceRequest');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let reasonType = $scope.filters.ReasonType.Value;
        if (reasonType && typeof reasonType === 'string' && reasonType.indexOf('(') >= 0) reasonType = '';
        $scope.selectedReasonType = reasonType;

        let age = $scope.filters.Age.Value;
        if (age && typeof age === 'string' && age.indexOf('(') >= 0) age = '';
        $scope.selectedAge = age;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedBR = $scope.filters['selectedBR'];
            delete $scope.filters['selectedBR'];

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);
            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_ReasonType(),
            $scope.getData_Age(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('InvoiceRequests', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.createInvoice = async function () { }

    $scope.exportList = async function () { }

    $scope.initialize_Page();
});
angular.module('app.erp').controller('InvoiceRequestsSelectionCtrl', function ($rootScope, $scope, Utility_ERP, InvoiceRequestsSelection_Service, BusinessRelation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        BR: { PropertyName: 'CustomerID', Operator: '=', Value: '' },
        ReasonType: { PropertyName: 'ReasonType', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedBR = '';
    $scope.selectedReasonType = '';

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_ReasonType = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = InvoiceRequestsSelection_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Doc Type', 'DocType', 'DocType', 'Text', true],
            ['Doc Nr.', 'DocNr', 'DocNr', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['PO Nr.', 'PONr', 'PONr', 'Text', true],
            ['Contract Nr.', 'ContractNr', 'ContractNr', 'Text', true],
            ['Doc Reference Nr.', 'DocReferenceNr', 'DocReferenceNr', 'Text', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Requested By', 'RequestedBy', 'RequestedBy', 'Text', true],
            ['Notes', 'Notes', 'Notes', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        if (!$scope.selectedReasonType) {
            $scope.filters.ReasonType.Operator = 'in';
            $scope.filters.ReasonType.Value = Utility_ERP.Value_OperatorIN_($scope.data_ReasonType, 'Code');
        } else {
            $scope.filters.ReasonType.Operator = '=';
            $scope.filters.ReasonType.Value = $scope.selectedReasonType;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedBR'] = $scope.selectedBR;

        $rootScope.SaveFilterState('InvoiceRequestsSelection', $scope);

        delete $scope.filters['selectedBR'];
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_ReasonType = async function () {
        $scope.data_ReasonType = await InvoiceRequestsSelection_Service.Dropdown_ReasonType();
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.customerSelected = async function (flag = true) {
        if (flag) {
            $scope.showData();
        }
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let reasonType = $scope.filters.ReasonType.Value;
        if (reasonType && typeof reasonType === 'string' && reasonType.indexOf('(') >= 0) reasonType = '';
        $scope.selectedReasonType = reasonType;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedBR = $scope.filters['selectedBR'];
            delete $scope.filters['selectedBR'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_ReasonType()
        ]);

        $rootScope.LoadFilterState('InvoiceRequestsSelection', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.addSelectedItems = async function () {
        // Implementasi untuk menambahkan item yang dipilih
        let selectedRows = $scope.dt.data.filter(function (row) {
            return row.rowSelected === true;
        });

        if (selectedRows.length === 0) {
            $rootScope.ShowNotification('warning', 'Please select at least one invoice request');
            return;
        }

        // Logic untuk menambahkan invoice request yang dipilih
        console.log('Selected invoice requests:', selectedRows);
    };

    $scope.closeForm = async function () {
        // Implementasi untuk menutup form
        window.history.back();
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('IssuedChequesCtrl', function ($rootScope, $scope, Utility_ERP, IssuedCheques_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        CashAccount: { PropertyName: 'CashAccountCode', Operator: 'in', Value: '' },
        DueDateFrom_date: { PropertyName: 'DueDate', Operator: '>=', Value: '' },
        DueDateTo_date: { PropertyName: 'DueDate', Operator: '<=', Value: '' },
        IssuedBy: { PropertyName: 'IssuedBy', Operator: '=', Value: '' },
        Type: { PropertyName: 'TypeCode', Operator: 'in', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedCashAccount = '';
    $scope.selectedDueDateFrom = '';
    $scope.selectedDueDateTo = '';
    $scope.selectedIssuedBy = '';
    $scope.selectedType = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_CashAccount = [];
    $scope.data_Type = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = IssuedCheques_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Payments', 'Payments', 'Payments', 'Text', true],
            ['Cheque#', 'Cheque', 'Cheque', 'Text', true],
            ['Type', 'Type', 'Type', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Cash Account', 'CashAccount', 'CashAccount', 'Text', true],
            ['Issued By', 'IssuedBy', 'IssuedBy', 'Text', true],
            ['Amount', 'Amount', 'Amount', 'Number', true],
            ['Received Date', 'ReceivedDate', 'ReceivedDate', 'Date', true],
            ['Due Date', 'DueDate', 'DueDate', 'Date', true],
            ['Cleared Date', 'ClearedDate', 'ClearedDate', 'Date', true],
            ['Status', 'Status', 'Status', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedCashAccount) {
            $scope.filters.CashAccount.Operator = 'in';
            $scope.filters.CashAccount.Value = Utility_ERP.Value_OperatorIN_($scope.data_CashAccount, 'Code');
        } else {
            $scope.filters.CashAccount.Operator = '=';
            $scope.filters.CashAccount.Value = $scope.selectedCashAccount;
        }

        if (!$scope.selectedType) {
            $scope.filters.Type.Operator = 'in';
            $scope.filters.Type.Value = Utility_ERP.Value_OperatorIN_($scope.data_Type, 'Code');
        } else {
            $scope.filters.Type.Operator = '=';
            $scope.filters.Type.Value = $scope.selectedType;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        $scope.filters.DueDateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDueDateFrom);
        $scope.filters.DueDateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDueDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedIssuedBy'] = $scope.selectedIssuedBy;
        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('IssuedCheques', $scope);

        delete $scope.filters['selectedIssuedBy'];
        delete $scope.filters['selectedShowAll'];
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_Employee = async function (val) {
        return await $rootScope.getData_Employee(val, $scope);
    };

    $scope.getData_CashAccount = async function () {
        $scope.data_CashAccount = await IssuedCheques_Service.Dropdown_CashAccount();
    };

    $scope.getData_Type = async function () {
        $scope.data_Type = await IssuedCheques_Service.Dropdown_Type();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('IssuedCheque');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let cashAccount = $scope.filters.CashAccount.Value;
        if (cashAccount && typeof cashAccount === 'string' && cashAccount.indexOf('(') >= 0) cashAccount = '';
        $scope.selectedCashAccount = cashAccount;

        let type = $scope.filters.Type.Value;
        if (type && typeof type === 'string' && type.indexOf('(') >= 0) type = '';
        $scope.selectedType = type;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedIssuedBy = $scope.filters['selectedIssuedBy'];
            delete $scope.filters['selectedIssuedBy'];

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_CashAccount(),
            $scope.getData_Type(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('IssuedCheques', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.chequeSentClick = async function () {
        // Implementation for cheque sent
    };

    $scope.returnForRevisionClick = async function () {
        // Implementation for return for revision
    };

    $scope.clearChequeClick = async function () {
        // Implementation for clear cheque
    };

    $scope.voidClick = async function () {
        // Implementation for void
    };

    $scope.initialize_Page();
});


angular.module('app.erp').controller('ItemChargesCtrl', function ($rootScope, $scope, Utility_ERP, ItemCharges_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = ItemCharges_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Charge Name', 'ChargeName', 'ChargeName', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('ItemCharges', $scope);
    };

    ;

    async function Override_some_Filters() {
        // No additional filters to override for this page
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('ItemCharges', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.downloadSchema = async function () {
        // Download schema functionality to be implemented
    };

    $scope.uploadData = async function () {
        // Upload functionality to be implemented
    };

    $scope.exportList = async function () {
        // Export functionality to be implemented
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('LedgerPerAccountCtrl', function ($rootScope, $scope, Utility_ERP, LedgerPerAccount_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        StartYear: { PropertyName: 'StartYear', Operator: 'in', Value: '' },
        StartPeriod: { PropertyName: 'StartPeriod', Operator: 'in', Value: '' },
        EndYear: { PropertyName: 'EndYear', Operator: 'in', Value: '' },
        EndPeriod: { PropertyName: 'EndPeriod', Operator: 'in', Value: '' },
        Company: { PropertyName: 'CompanyCode', Operator: 'in', Value: '' },
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Division: { PropertyName: 'DivisionCode', Operator: 'in', Value: '' },
        Department: { PropertyName: 'DepartmentCode', Operator: 'in', Value: '' },
        Asset: { PropertyName: 'Asset', Operator: '=', Value: null },
        Liability: { PropertyName: 'Liability', Operator: '=', Value: null },
        Capital: { PropertyName: 'Capital', Operator: '=', Value: null },
        Expense: { PropertyName: 'Expense', Operator: '=', Value: null },
        Income: { PropertyName: 'Income', Operator: '=', Value: null },
        TotalDebet: { PropertyName: 'TotalDebet', Operator: '=', Value: null },
        TotalCredit: { PropertyName: 'TotalCredit', Operator: '=', Value: null },
        BeginningBalance: { PropertyName: 'BeginningBalance', Operator: '=', Value: null },
        EndingBalance: { PropertyName: 'EndingBalance', Operator: '=', Value: null },
    };

    $scope.selectedStartYear = '';
    $scope.selectedStartPeriod = '';
    $scope.selectedEndYear = '';
    $scope.selectedEndPeriod = '';
    $scope.selectedCompany = '';
    $scope.selectedBranch = '';
    $scope.selectedDivision = '';
    $scope.selectedDepartment = '';

    $scope.data_StartYear = [];
    $scope.data_StartPeriod = [];
    $scope.data_EndYear = [];
    $scope.data_EndPeriod = [];
    $scope.data_Company = [];
    $scope.data_EmployeeLocationAccess = [];
    $scope.data_Division = [];
    $scope.data_Department = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = LedgerPerAccount_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['Type', 'Type', 'Type', 'Text', true],
            ['Currency', 'Currency', 'Currency', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedStartYear) {
            $scope.filters.StartYear.Operator = 'in';
            $scope.filters.StartYear.Value = Utility_ERP.Value_OperatorIN_($scope.data_StartYear, 'Code');
        } else {
            $scope.filters.StartYear.Operator = '=';
            $scope.filters.StartYear.Value = $scope.selectedStartYear;
        }

        if (!$scope.selectedStartPeriod) {
            $scope.filters.StartPeriod.Operator = 'in';
            $scope.filters.StartPeriod.Value = Utility_ERP.Value_OperatorIN_($scope.data_StartPeriod, 'Code');
        } else {
            $scope.filters.StartPeriod.Operator = '=';
            $scope.filters.StartPeriod.Value = $scope.selectedStartPeriod;
        }

        if (!$scope.selectedEndYear) {
            $scope.filters.EndYear.Operator = 'in';
            $scope.filters.EndYear.Value = Utility_ERP.Value_OperatorIN_($scope.data_EndYear, 'Code');
        } else {
            $scope.filters.EndYear.Operator = '=';
            $scope.filters.EndYear.Value = $scope.selectedEndYear;
        }

        if (!$scope.selectedEndPeriod) {
            $scope.filters.EndPeriod.Operator = 'in';
            $scope.filters.EndPeriod.Value = Utility_ERP.Value_OperatorIN_($scope.data_EndPeriod, 'Code');
        } else {
            $scope.filters.EndPeriod.Operator = '=';
            $scope.filters.EndPeriod.Value = $scope.selectedEndPeriod;
        }

        if (!$scope.selectedCompany) {
            $scope.filters.Company.Operator = 'in';
            $scope.filters.Company.Value = Utility_ERP.Value_OperatorIN_($scope.data_Company, 'Code');
        } else {
            $scope.filters.Company.Operator = '=';
            $scope.filters.Company.Value = $scope.selectedCompany;
        }

        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedDivision) {
            $scope.filters.Division.Operator = 'in';
            $scope.filters.Division.Value = Utility_ERP.Value_OperatorIN_($scope.data_Division, 'Code');
        } else {
            $scope.filters.Division.Operator = '=';
            $scope.filters.Division.Value = $scope.selectedDivision;
        }

        if (!$scope.selectedDepartment) {
            $scope.filters.Department.Operator = 'in';
            $scope.filters.Department.Value = Utility_ERP.Value_OperatorIN_($scope.data_Department, 'Code');
        } else {
            $scope.filters.Department.Operator = '=';
            $scope.filters.Department.Value = $scope.selectedDepartment;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('LedgerPerAccount', $scope);
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_StartYear = async function () {
        $scope.data_StartYear = await LedgerPerAccount_Service.Dropdown_Year();
    };

    $scope.getData_StartPeriod = async function () {
        $scope.data_StartPeriod = await LedgerPerAccount_Service.Dropdown_Period();
    };

    $scope.getData_EndYear = async function () {
        $scope.data_EndYear = await LedgerPerAccount_Service.Dropdown_Year();
    };

    $scope.getData_EndPeriod = async function () {
        $scope.data_EndPeriod = await LedgerPerAccount_Service.Dropdown_Period();
    };

    $scope.getData_Company = async function () {
        $scope.data_Company = await LedgerPerAccount_Service.Dropdown_Company();
    };

    $scope.getData_Division = async function () {
        $scope.data_Division = await LedgerPerAccount_Service.Dropdown_Division();
    };

    $scope.getData_Department = async function () {
        $scope.data_Department = await LedgerPerAccount_Service.Dropdown_Department();
    };

    ;

    async function Override_some_Filters() {
        let startYear = $scope.filters.StartYear.Value;
        if (startYear && typeof startYear === 'string' && startYear.indexOf('(') >= 0) startYear = '';
        $scope.selectedStartYear = startYear;

        let startPeriod = $scope.filters.StartPeriod.Value;
        if (startPeriod && typeof startPeriod === 'string' && startPeriod.indexOf('(') >= 0) startPeriod = '';
        $scope.selectedStartPeriod = startPeriod;

        let endYear = $scope.filters.EndYear.Value;
        if (endYear && typeof endYear === 'string' && endYear.indexOf('(') >= 0) endYear = '';
        $scope.selectedEndYear = endYear;

        let endPeriod = $scope.filters.EndPeriod.Value;
        if (endPeriod && typeof endPeriod === 'string' && endPeriod.indexOf('(') >= 0) endPeriod = '';
        $scope.selectedEndPeriod = endPeriod;

        let company = $scope.filters.Company.Value;
        if (company && typeof company === 'string' && company.indexOf('(') >= 0) company = '';
        $scope.selectedCompany = company;

        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let division = $scope.filters.Division.Value;
        if (division && typeof division === 'string' && division.indexOf('(') >= 0) division = '';
        $scope.selectedDivision = division;

        let department = $scope.filters.Department.Value;
        if (department && typeof department === 'string' && department.indexOf('(') >= 0) department = '';
        $scope.selectedDepartment = department;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $scope.getData_StartYear(),
            $scope.getData_StartPeriod(),
            $scope.getData_EndYear(),
            $scope.getData_EndPeriod(),
            $scope.getData_Company(),
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_Division(),
            $scope.getData_Department()
        ]);

        $rootScope.LoadFilterState('LedgerPerAccount', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.exportList = async function () {
        // Implementasi export to excel
    };

    $scope.closeForm = async function () {
        // Implementasi untuk menutup form
        window.history.back();
    };

    $scope.initialize_Page();
});


angular.module('app.erp').controller('MutationsCtrl', function ($rootScope, $scope, Utility_ERP, Mutations_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        CashAccount: { PropertyName: 'CashAccount', Operator: '=', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = Mutations_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Mutation #', 'MutationNr', 'MutationNr', 'Text', true],
            ['Cash Account', 'CashAccount', 'CashAccount', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Currency', 'Currency', 'Currency', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['Amount', 'Amount', 'Amount', 'Currency', true],
            ['Status', 'Status', 'Status', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('Mutations', $scope);

        delete $scope.filters['selectedShowAll'];
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('Mutation');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('Mutations', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.voidMutation = async function () {
        // TODO: implement void mutation functionality
    };

    $scope.requestClearing = async function () {
        // TODO: implement request clearing functionality
    };

    $scope.printForm = async function () {
        // TODO: implement print functionality
    };

    $scope.exportList = async function () {
        // TODO: implement export to excel functionality
    };

    $scope.downloadSchema = async function () {
        // TODO: implement download schema functionality
    };

    $scope.uploadFile = async function () {
        // TODO: implement upload file functionality
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('OnIssueClearingsCtrl', function ($rootScope, $scope, Utility_ERP, OnIssueClearings_Service, BusinessRelation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.collectTypeOptions = [
        { Value: null, Text: 'All' },
        { Value: 'Cash', Text: 'Cash' },
        { Value: 'Cheque', Text: 'Cheque' },
        { Value: 'Transfer', Text: 'Transfer' },
    ];
    $scope.ageOptions = [
        { Value: null, Text: 'All' },
        { Value: '0-30', Text: '0-30 days' },
        { Value: '31-60', Text: '31-60 days' },
        { Value: '61-90', Text: '61-90 days' },
        { Value: '90+', Text: '90+ days' },
    ];
    $scope.orderByOptions = [
        { Value: null, Text: 'All' },
        { Value: 'DocNr', Text: 'Doc Nr.' },
        { Value: 'ChequeDate', Text: 'Cheque Date' },
        { Value: 'RequestDate', Text: 'Request Date' },
        { Value: 'Amount', Text: 'Amount' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        CollectType: { PropertyName: 'CollectType', Operator: '=', Value: null },
        Customer: { PropertyName: 'CustomerID', Operator: '=', Value: '' },
        Age: { PropertyName: 'Age', Operator: '=', Value: null },
        OrderBy: { PropertyName: 'OrderBy', Operator: '=', Value: null },
        RequestDate_date: { PropertyName: 'RequestDate', Operator: '=', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedCustomer = '';
    $scope.selectedRequestDate = '';

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_BillingAddressNames = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = OnIssueClearings_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Doc Nr.', 'DocNr', 'DocNr', 'Text', true],
            ['Cheque Nr.', 'ChequeNr', 'ChequeNr', 'Text', true],
            ['Cheque Date', 'ChequeDate', 'ChequeDate', 'Date', true],
            ['Request Date', 'RequestDate', 'RequestDate', 'Date', true],
            ['Collect Type', 'CollectType', 'CollectType', 'Text', true],
            ['Contact Person', 'ContactPerson', 'ContactPerson', 'Text', true],
            ['Contact Nr.', 'ContactNr', 'ContactNr', 'Text', true],
            ['Amount', 'Amount', 'Amount', 'Currency', true],
            ['Notes', 'Notes', 'Notes', 'Text', true],
            ['Age', 'Age', 'Age', 'Number', true],
            ['Rev', 'Rev', 'Rev', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        $scope.filters.RequestDate_date.Value = $rootScope.Date_to_DB($scope.selectedRequestDate);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedCustomer'] = $scope.selectedCustomer;

        $rootScope.SaveFilterState('OnIssueClearings', $scope);

        delete $scope.filters['selectedCustomer'];
    };

    $scope.Branch_Changed = async function () {
        // reset
        $scope.selectedCustomer = '';

        await $scope.showData();
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.customerSelected = async function (flag = true) {
        // reset
        $scope.data_BillingAddressNames = [];

        if ($rootScope.Not_ValidString($scope.filters.Customer.Value)) {
            if (flag) {
                $scope.showData();
            }

            return;
        }

        $scope.data_BillingAddressNames = await BusinessRelation_Service.GetBusinessRelationBillingAddressNames($scope.filters.Customer.Value);

        if (flag) {
            $scope.showData();
        }
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedCustomer = $scope.filters['selectedCustomer'];
            delete $scope.filters['selectedCustomer'];

            await $scope.customerSelected(false);
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, '')
        ]);

        $rootScope.LoadFilterState('OnIssueClearings', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.pickRequest = async function () {
        // Pick implementation
    };

    $scope.viewPicked = async function () {
        // View Picked implementation
    };

    $scope.adjustCollectDate = async function () {
        // Adjust Collect Date implementation
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('OrderVerificationCtrl', function ($rootScope, $scope, Utility_ERP, OrderVerification_Service) {
    // Main Table
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Additional Tasks Table
    $scope.dtAdditional = {};
    $scope.dtAdditional.pageLength = 20;
    $scope.dtAdditional.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = OrderVerification_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Collect Type', 'CollectType', 'CollectType', 'Text', true],
            ['Document Nr.', 'DocumentNr', 'DocumentNr', 'Text', true],
            ['Cheque Nr.', 'ChequeNr', 'ChequeNr', 'Text', true],
            ['Cheque/Due Date', 'ChequeDueDate', 'ChequeDueDate', 'Date', true],
            ['Amount', 'Amount', 'Amount', 'Numeric', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.CreateAdditionalTable = function () {
        $scope.dtAdditional = OrderVerification_Service.TableAdditional($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Description', 'Description', 'Description', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dtAdditional, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('OrderVerification', $scope);
    };

    $scope.showAdditionalData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dtAdditional.loadData();
        Utility_ERP.Still_Processing($scope, false);
    };

    ;

    async function Override_some_Filters() {
        // No override needed for simple dropdown filter
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('OrderVerification', $scope);

        await Override_some_Filters();

        $scope.CreateTable();
        $scope.CreateAdditionalTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
        $scope.showAdditionalData();
    };

    // Toolbar Actions
    $scope.verifyDocument = async function () {
        // Implementasi verify document
        let selectedRows = $scope.dt.data.filter(function (row) {
            return row.rowSelected === true;
        });

        if (selectedRows.length === 0) {
            $rootScope.ShowNotification('warning', 'Please select at least one document to verify');
            return;
        }

        console.log('Verifying documents:', selectedRows);
    };

    $scope.failCollect = async function () {
        // Implementasi fail collect
        let selectedRows = $scope.dt.data.filter(function (row) {
            return row.rowSelected === true;
        });

        if (selectedRows.length === 0) {
            $rootScope.ShowNotification('warning', 'Please select at least one order to fail');
            return;
        }

        console.log('Fail collect orders:', selectedRows);
    };

    $scope.closeCollectOrder = async function () {
        // Implementasi close collect order
        let selectedRows = $scope.dt.data.filter(function (row) {
            return row.rowSelected === true;
        });

        if (selectedRows.length === 0) {
            $rootScope.ShowNotification('warning', 'Please select at least one order to close');
            return;
        }

        console.log('Close collect orders:', selectedRows);
    };

    $scope.closeForm = async function () {
        // Implementasi untuk menutup form
        window.history.back();
    };

    $scope.verifyAdditionalTasks = async function () {
        // Implementasi verify additional tasks
        let selectedRows = $scope.dtAdditional.data.filter(function (row) {
            return row.rowSelected === true;
        });

        if (selectedRows.length === 0) {
            $rootScope.ShowNotification('warning', 'Please select at least one task to verify');
            return;
        }

        console.log('Verifying additional tasks:', selectedRows);
    };

    // Additional table checkbox handlers
    $scope.selectAllRowsAdditional = false;

    $scope.selectAllRowsAdditional_Change = function () {
        $scope.dtAdditional.data.forEach(function (row) {
            row.rowSelected = $scope.selectAllRowsAdditional;
        });
    };

    $scope.ProcessRowAdditional = function (index) {
        // Update selectAllRowsAdditional based on individual row selections
        let allSelected = $scope.dtAdditional.data.every(function (row) {
            return row.rowSelected === true;
        });
        $scope.selectAllRowsAdditional = allSelected;
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('PaidDepositsCtrl', function ($rootScope, $scope, Utility_ERP, PaidDeposits_Service, BusinessRelation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Currency: { PropertyName: 'CurrencyCode', Operator: 'in', Value: '' },
        Vendor: { PropertyName: 'VendorID', Operator: '=', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        ReasonType: { PropertyName: 'ReasonTypeCode', Operator: 'in', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedCurrency = '';
    $scope.selectedVendor = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedReasonType = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_Currency = [];
    $scope.data_ReasonType = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = PaidDeposits_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Deposit #', 'DepositNr', 'DepositNr', 'Text', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Reason', 'Reason', 'Reason', 'Text', true],
            ['PO#', 'PONr', 'PONr', 'Text', true],
            ['Vendor', 'Vendor', 'Vendor', 'Text', true],
            ['Deposit Balance', 'DepositBalance', 'DepositBalance', 'Currency', true],
            ['Status', 'Status', 'Status', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedCurrency) {
            $scope.filters.Currency.Operator = 'in';
            $scope.filters.Currency.Value = Utility_ERP.Value_OperatorIN_($scope.data_Currency, 'Code');
        } else {
            $scope.filters.Currency.Operator = '=';
            $scope.filters.Currency.Value = $scope.selectedCurrency;
        }

        if (!$scope.selectedReasonType) {
            $scope.filters.ReasonType.Operator = 'in';
            $scope.filters.ReasonType.Value = Utility_ERP.Value_OperatorIN_($scope.data_ReasonType, 'Code');
        } else {
            $scope.filters.ReasonType.Operator = '=';
            $scope.filters.ReasonType.Value = $scope.selectedReasonType;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedVendor'] = $scope.selectedVendor;
        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('PaidDeposits', $scope);

        delete $scope.filters['selectedVendor'];
        delete $scope.filters['selectedShowAll'];
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_Vendor = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.vendorSelected = async function (flag = true) {
        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_Currency = async function () {
        $scope.data_Currency = await Finance_Service.Dropdown_Currency();
    };

    $scope.getData_ReasonType = async function () {
        $scope.data_ReasonType = await Finance_Service.Dropdown_DepositReasonType();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('PaidDeposit');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let currency = $scope.filters.Currency.Value;
        if (currency && typeof currency === 'string' && currency.indexOf('(') >= 0) currency = '';
        $scope.selectedCurrency = currency;

        let reasonType = $scope.filters.ReasonType.Value;
        if (reasonType && typeof reasonType === 'string' && reasonType.indexOf('(') >= 0) reasonType = '';
        $scope.selectedReasonType = reasonType;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedVendor = $scope.filters['selectedVendor'];
            delete $scope.filters['selectedVendor'];

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_Currency(),
            $scope.getData_ReasonType(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('PaidDeposits', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.printForm = async function () { }

    $scope.refundForm = async function () { }

    $scope.disposeForm = async function () { }

    $scope.voidForm = async function () { }

    $scope.deleteForm = async function () { }

    $scope.initialize_Page();
});
angular.module('app.erp').controller('PayableAgingsCtrl', function ($rootScope, $scope, Utility_ERP, PayableAgings_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';

    $scope.data_EmployeeLocationAccess = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = PayableAgings_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Supplier', 'Supplier', 'Supplier', 'Text', true],
            ['Current', 'Current', 'Current', 'Currency', true],
            ['1 - 7 Days', 'Days1To7', 'Days1To7', 'Currency', true],
            ['8 - 14 Days', 'Days8To14', 'Days8To14', 'Currency', true],
            ['15 - 30 Days', 'Days15To30', 'Days15To30', 'Currency', true],
            ['31 - 45 Days', 'Days31To45', 'Days31To45', 'Currency', true],
            ['> 45 Days', 'DaysOver45', 'DaysOver45', 'Currency', true],
            ['Total', 'Total', 'Total', 'Currency', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('PayableAgings', $scope);
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, '')
        ]);

        $rootScope.LoadFilterState('PayableAgings', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('PayableInvoicesCtrl', function ($rootScope, $scope, Utility_ERP, PayableInvoices_Service, BusinessRelation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Currency: { PropertyName: 'CurrencyCode', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        DueDateFrom_date: { PropertyName: 'DueDate', Operator: '>=', Value: '' },
        DueDateTo_date: { PropertyName: 'DueDate', Operator: '<=', Value: '' },
        Vendor: { PropertyName: 'VendorID', Operator: '=', Value: '' },
        ReasonType: { PropertyName: 'ReasonTypeCode', Operator: 'in', Value: '' },
        Age: { PropertyName: 'Age', Operator: 'in', Value: '' },
        UnPrinted: { PropertyName: 'PrintCount', Operator: '<=', Value: null },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedCurrency = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedDueDateFrom = '';
    $scope.selectedDueDateTo = '';
    $scope.selectedVendor = '';
    $scope.selectedReasonType = '';
    $scope.selectedAge = '';
    $scope.selectedUnPrinted = false;
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_Currency = [];
    $scope.data_ReasonType = [];
    $scope.data_Age = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = PayableInvoices_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Invoice #', 'InvoiceNr', 'InvoiceNr', 'Text', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Reason', 'Reason', 'Reason', 'Text', true],
            ['PO#', 'PONr', 'PONr', 'Text', true],
            ['Vendor', 'Vendor', 'Vendor', 'Text', true],
            ['Amount Due', 'AmountDue', 'AmountDue', 'Currency', true],
            ['Amount Paid', 'AmountPaid', 'AmountPaid', 'Currency', true],
            ['Due Date', 'DueDate', 'DueDate', 'Date', true],
            ['Age', 'Age', 'Age', 'Number', true],
            ['Status', 'Status', 'Status', 'Text', true],
            ['Printed', 'Printed', 'Printed', 'Number', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedCurrency) {
            $scope.filters.Currency.Operator = 'in';
            $scope.filters.Currency.Value = Utility_ERP.Value_OperatorIN_($scope.data_Currency, 'Code');
        } else {
            $scope.filters.Currency.Operator = '=';
            $scope.filters.Currency.Value = $scope.selectedCurrency;
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        $scope.filters.DueDateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDueDateFrom);
        $scope.filters.DueDateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDueDateTo);

        if (!$scope.selectedReasonType) {
            $scope.filters.ReasonType.Operator = 'in';
            $scope.filters.ReasonType.Value = Utility_ERP.Value_OperatorIN_($scope.data_ReasonType, 'Code');
        } else {
            $scope.filters.ReasonType.Operator = '=';
            $scope.filters.ReasonType.Value = $scope.selectedReasonType;
        }

        if (!$scope.selectedAge) {
            $scope.filters.Age.Operator = 'in';
            $scope.filters.Age.Value = Utility_ERP.Value_OperatorIN_($scope.data_Age, 'Code');
        } else {
            $scope.filters.Age.Operator = '=';
            $scope.filters.Age.Value = $scope.selectedAge;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        $scope.filters.UnPrinted.Value = null;
        if ($scope.selectedUnPrinted) {
            $scope.filters.UnPrinted.Value = 0;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedVendor'] = $scope.selectedVendor;
        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;
        $scope.filters['selectedUnPrinted'] = $scope.selectedUnPrinted;

        $rootScope.SaveFilterState('PayableInvoices', $scope);

        delete $scope.filters['selectedVendor'];
        delete $scope.filters['selectedShowAll'];
        delete $scope.filters['selectedUnPrinted'];
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.vendorSelected = async function (flag = true) {
        if ($rootScope.Not_ValidString($scope.filters.Vendor.Value)) {
            if (flag) {
                $scope.showData();
            }
            return;
        }

        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_Currency = async function () {
        $scope.data_Currency = await Finance_Service.Dropdown_Currency();
    };

    $scope.getData_ReasonType = async function () {
        $scope.data_ReasonType = await Finance_Service.Dropdown_ReasonType();
    };

    $scope.getData_Age = async function () {
        $scope.data_Age = await Finance_Service.Dropdown_Age();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('PayableInvoice');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let currency = $scope.filters.Currency.Value;
        if (currency && typeof currency === 'string' && currency.indexOf('(') >= 0) currency = '';
        $scope.selectedCurrency = currency;

        let reasonType = $scope.filters.ReasonType.Value;
        if (reasonType && typeof reasonType === 'string' && reasonType.indexOf('(') >= 0) reasonType = '';
        $scope.selectedReasonType = reasonType;

        let age = $scope.filters.Age.Value;
        if (age && typeof age === 'string' && age.indexOf('(') >= 0) age = '';
        $scope.selectedAge = age;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedVendor = $scope.filters['selectedVendor'];
            delete $scope.filters['selectedVendor'];

            await $scope.vendorSelected(false);

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);
            delete $scope.filters['selectedShowAll'];

            $scope.selectedUnPrinted = $scope.filters['selectedUnPrinted'];
            delete $scope.filters['selectedUnPrinted'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_Currency(),
            $scope.getData_ReasonType(),
            $scope.getData_Age(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('PayableInvoices', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.exportList = async function () { };

    $scope.refundClick = async function () { };

    $scope.voidClick = async function () { };

    $scope.deleteClick = async function () { };

    $scope.downloadSchema = async function () { };

    $scope.uploadClick = async function () { };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('PayableListByAgeCtrl', function ($rootScope, $scope, Utility_ERP, PayableListByAge_Service, BusinessRelation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        ReasonType: { PropertyName: 'ReasonTypeCode', Operator: 'in', Value: '' },
        Currency: { PropertyName: 'CurrencyCode', Operator: 'in', Value: '' },
        HoldReason: { PropertyName: 'HoldReasonCode', Operator: 'in', Value: '' },
        BR: { PropertyName: 'CustomerID', Operator: '=', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedReasonType = '';
    $scope.selectedCurrency = '';
    $scope.selectedHoldReason = '';
    $scope.selectedBR = '';

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_ReasonType = [];
    $scope.data_Currency = [];
    $scope.data_HoldReason = [];
    $scope.data_BillingAddressNames = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = PayableListByAge_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Invoice #', 'Invoice', 'Invoice', 'Text', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Reason', 'Reason', 'Reason', 'Text', true],
            ['Amount Due', 'AmountDue', 'AmountDue', 'Number', true],
            ['Due Date', 'DueDate', 'DueDate', 'Date', true],
            ['Age', 'Age', 'Age', 'Number', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedReasonType) {
            $scope.filters.ReasonType.Operator = 'in';
            $scope.filters.ReasonType.Value = Utility_ERP.Value_OperatorIN_($scope.data_ReasonType, 'Code');
        } else {
            $scope.filters.ReasonType.Operator = '=';
            $scope.filters.ReasonType.Value = $scope.selectedReasonType;
        }

        if (!$scope.selectedCurrency) {
            $scope.filters.Currency.Operator = 'in';
            $scope.filters.Currency.Value = Utility_ERP.Value_OperatorIN_($scope.data_Currency, 'Code');
        } else {
            $scope.filters.Currency.Operator = '=';
            $scope.filters.Currency.Value = $scope.selectedCurrency;
        }

        if (!$scope.selectedHoldReason) {
            $scope.filters.HoldReason.Operator = 'in';
            $scope.filters.HoldReason.Value = Utility_ERP.Value_OperatorIN_($scope.data_HoldReason, 'Code');
        } else {
            $scope.filters.HoldReason.Operator = '=';
            $scope.filters.HoldReason.Value = $scope.selectedHoldReason;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedBR'] = $scope.selectedBR;

        $rootScope.SaveFilterState('PayableListByAge', $scope);

        delete $scope.filters['selectedBR'];
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.customerSelected = async function (flag = true) {
        // reset
        $scope.data_BillingAddressNames = [];

        if ($rootScope.Not_ValidString($scope.filters.BR.Value)) {
            if (flag) {
                $scope.showData();
            }

            return;
        }

        $scope.data_BillingAddressNames = await BusinessRelation_Service.GetBusinessRelationBillingAddressNames($scope.filters.BR.Value);

        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_ReasonType = async function () {
        $scope.data_ReasonType = await PayableListByAge_Service.Dropdown_ReasonType();
    };

    $scope.getData_Currency = async function () {
        $scope.data_Currency = await PayableListByAge_Service.Dropdown_Currency();
    };

    $scope.getData_HoldReason = async function () {
        $scope.data_HoldReason = await PayableListByAge_Service.Dropdown_HoldReason();
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let reasonType = $scope.filters.ReasonType.Value;
        if (reasonType && typeof reasonType === 'string' && reasonType.indexOf('(') >= 0) reasonType = '';
        $scope.selectedReasonType = reasonType;

        let currency = $scope.filters.Currency.Value;
        if (currency && typeof currency === 'string' && currency.indexOf('(') >= 0) currency = '';
        $scope.selectedCurrency = currency;

        let holdReason = $scope.filters.HoldReason.Value;
        if (holdReason && typeof holdReason === 'string' && holdReason.indexOf('(') >= 0) holdReason = '';
        $scope.selectedHoldReason = holdReason;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedBR = $scope.filters['selectedBR'];
            delete $scope.filters['selectedBR'];

            await $scope.customerSelected(false);
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_ReasonType(),
            $scope.getData_Currency(),
            $scope.getData_HoldReason()
        ]);

        $rootScope.LoadFilterState('PayableListByAge', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.closeClick = async function () {
        // Implementation for close (Esc)
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('PayableReceiptsCtrl', function ($rootScope, $scope, Utility_ERP, PayableReceipts_Service, BusinessRelation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Currency: { PropertyName: 'CurrencyCode', Operator: 'in', Value: '' },
        Vendor: { PropertyName: 'VendorID', Operator: '=', Value: '' },
        BilledBy: { PropertyName: 'BilledByCode', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        UnPrinted: { PropertyName: 'PrintCount', Operator: '<=', Value: null },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedCurrency = '';
    $scope.selectedVendor = '';
    $scope.selectedBilledBy = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedUnPrinted = false;
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_Currency = [];
    $scope.data_BilledBy = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = PayableReceipts_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Receipt Nr.', 'ReceiptNr', 'ReceiptNr', 'Text', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Vendor', 'Vendor', 'Vendor', 'Text', true],
            ['Submitted By', 'SubmittedBy', 'SubmittedBy', 'Text', true],
            ['Issued By', 'IssuedBy', 'IssuedBy', 'Text', true],
            ['Doc Qty', 'DocQty', 'DocQty', 'Number', true],
            ['Currency', 'Currency', 'Currency', 'Text', true],
            ['Amount', 'Amount', 'Amount', 'Currency', true],
            ['Status', 'Status', 'Status', 'Text', true],
            ['Printed', 'Printed', 'Printed', 'Number', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedCurrency) {
            $scope.filters.Currency.Operator = 'in';
            $scope.filters.Currency.Value = Utility_ERP.Value_OperatorIN_($scope.data_Currency, 'Code');
        } else {
            $scope.filters.Currency.Operator = '=';
            $scope.filters.Currency.Value = $scope.selectedCurrency;
        }

        if (!$scope.selectedBilledBy) {
            $scope.filters.BilledBy.Operator = 'in';
            $scope.filters.BilledBy.Value = Utility_ERP.Value_OperatorIN_($scope.data_BilledBy, 'Code');
        } else {
            $scope.filters.BilledBy.Operator = '=';
            $scope.filters.BilledBy.Value = $scope.selectedBilledBy;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        $scope.filters.UnPrinted.Value = null;
        if ($scope.selectedUnPrinted) {
            $scope.filters.UnPrinted.Value = 0;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedVendor'] = $scope.selectedVendor;
        $scope.filters['selectedUnPrinted'] = $scope.selectedUnPrinted;
        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('PayableReceipts', $scope);

        delete $scope.filters['selectedVendor'];
        delete $scope.filters['selectedUnPrinted'];
        delete $scope.filters['selectedShowAll'];
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_Vendor = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.vendorSelected = async function (flag = true) {
        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_Currency = async function () {
        $scope.data_Currency = await Finance_Service.Dropdown_Currency();
    };

    $scope.getData_BilledBy = async function () {
        $scope.data_BilledBy = await Finance_Service.Dropdown_BilledBy();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('PayableReceipt');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let currency = $scope.filters.Currency.Value;
        if (currency && typeof currency === 'string' && currency.indexOf('(') >= 0) currency = '';
        $scope.selectedCurrency = currency;

        let billedBy = $scope.filters.BilledBy.Value;
        if (billedBy && typeof billedBy === 'string' && billedBy.indexOf('(') >= 0) billedBy = '';
        $scope.selectedBilledBy = billedBy;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedVendor = $scope.filters['selectedVendor'];
            delete $scope.filters['selectedVendor'];

            $scope.selectedUnPrinted = $scope.filters['selectedUnPrinted'];
            delete $scope.filters['selectedUnPrinted'];

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_Currency(),
            $scope.getData_BilledBy(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('PayableReceipts', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.printForm = async function () { }

    $scope.voidForm = async function () { }

    $scope.initialize_Page();
});
angular.module('app.erp').controller('PaymentMethodsCtrl', function ($rootScope, $scope, Utility_ERP, PaymentMethods_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = PaymentMethods_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['Create Cheque', 'CreateCheque', 'CreateCheque', 'Boolean', true],
            ['Cheque Type Code', 'ChequeTypeCode', 'ChequeTypeCode', 'Text', true],
            ['OrderID', 'OrderID', 'OrderID', 'Number', true],
            ['Attachment Required', 'AttachmentRequired', 'AttachmentRequired', 'Boolean', true],
            ['DueDate Required', 'DueDateRequired', 'DueDateRequired', 'Boolean', true],
            ['Use Bank Account', 'UseBankAccount', 'UseBankAccount', 'Boolean', true],
            ['Active', 'Active', 'Active', 'Boolean', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('PaymentMethods', $scope);
    };

    ;

    async function Override_some_Filters() {
        // No override needed for simple dropdown filter
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('PaymentMethods', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('PaymentRequestsCtrl', function ($rootScope, $scope, Utility_ERP, PaymentRequests_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        VerifiedDateFrom_date: { PropertyName: 'VerifiedDate', Operator: '>=', Value: '' },
        VerifiedDateTo_date: { PropertyName: 'VerifiedDate', Operator: '<=', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedVerifiedDateFrom = '';
    $scope.selectedVerifiedDateTo = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // Date picker flags
    $scope.dateFromOpen = false;
    $scope.dateToOpen = false;
    $scope.verifiedDateFromOpen = false;
    $scope.verifiedDateToOpen = false;

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = PaymentRequests_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Plan Nr.', 'PlanNr', 'PlanNr', 'Text', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Total Amount', 'TotalAmount', 'TotalAmount', 'Currency', true],
            ['Required Date', 'RequiredDate', 'RequiredDate', 'Date', true],
            ['Issued By', 'IssuedBy', 'IssuedBy', 'Text', true],
            ['Notes', 'Notes', 'Notes', 'Text', true],
            ['Status', 'Status', 'Status', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);
        $scope.filters.VerifiedDateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedVerifiedDateFrom);
        $scope.filters.VerifiedDateTo_date.Value = $rootScope.Date_to_DB($scope.selectedVerifiedDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('PaymentRequests', $scope);

        delete $scope.filters['selectedShowAll'];
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('PaymentRequest');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('PaymentRequests', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.printForm = async function () {
        // TODO: Implement print functionality
    }

    $scope.initialize_Page();
});
angular.module('app.erp').controller('PaymentRequestVerificationCtrl', function ($rootScope, $scope, Utility_ERP, PaymentRequestVerification_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        PaymentDate_date: { PropertyName: 'PaymentDate', Operator: '=', Value: '' },
    };

    $scope.selectedPaymentDate = '';

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = PaymentRequestVerification_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Request #', 'Request', 'Request', 'Text', true],
            ['Reason Type', 'ReasonType', 'ReasonType', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['Amount', 'Amount', 'Amount', 'Numeric', true],
            ['Required Date', 'RequiredDate', 'RequiredDate', 'Date', true],
            ['Pay From', 'PayFrom', 'PayFrom', 'Text', true],
            ['Payment Method', 'PaymentMethod', 'PaymentMethod', 'Text', true],
            ['Notes', 'Notes', 'Notes', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        $scope.filters.PaymentDate_date.Value = $rootScope.Date_to_DB($scope.selectedPaymentDate);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('PaymentRequestVerification', $scope);
    };

    ;

    async function Override_some_Filters() {
        // No override needed for simple date filter
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('PaymentRequestVerification', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.verifyAdvanceRequest = async function () {
        // Implementasi verify advance request
        let selectedRows = $scope.dt.data.filter(function (row) {
            return row.rowSelected === true;
        });

        if (selectedRows.length === 0) {
            $rootScope.ShowNotification('warning', 'Please select at least one payment request to verify');
            return;
        }

        // Logic untuk verify advance request
        console.log('Verifying advance requests:', selectedRows);
    };

    $scope.closeForm = async function () {
        // Implementasi untuk menutup form
        window.history.back();
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('PaymentTermsCtrl', function ($rootScope, $scope, Utility_ERP, PaymentTerms_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = PaymentTerms_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['Active', 'Active', 'Active', 'Boolean', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('PaymentTerms', $scope);
    };

    ;

    async function Override_some_Filters() {
        // No additional overrides needed for this simple filter
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('PaymentTerms', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.exportList = async function () {
        // Export to Excel implementation
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('PCashReconciliationCtrl', function ($rootScope, $scope, Utility_ERP, PCashReconciliation_Service) {
    // Data table configuration
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // Filter configuration
    $scope.filters = {
        CashAccount: { PropertyName: 'CashAccountCode', Operator: '=', Value: '' },
        ClearDateFrom: { PropertyName: 'ClearDate', Operator: '>=', Value: '' },
        ClearDateTo: { PropertyName: 'ClearDate', Operator: '<=', Value: '' },
        Year: { PropertyName: 'Year', Operator: '=', Value: '' },
        Period: { PropertyName: 'Period', Operator: '=', Value: '' },
        ShowUnreconciledOnly: { PropertyName: 'Reconciled', Operator: '=', Value: null },
    };

    // Filter data
    $scope.selectedClearDateFrom = '';
    $scope.selectedClearDateTo = '';

    // Balance fields
    $scope.reconciledInOut = 0;
    $scope.unReconciledInOut = 0;
    $scope.beginningBalance = 0;
    $scope.recordedEndingBalance = 0;
    $scope.cashEndingBalance = 0;
    $scope.discrepancyBalance = 0;

    // Dropdown data
    $scope.data_CashAccounts = [];
    $scope.data_Years = [];
    $scope.data_Periods = [];

    // Create DataTable
    $scope.CreateTable = function () {
        $scope.dt = PCashReconciliation_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['R', 'R', 'R', 'Boolean', true],
            ['Clear Date', 'ClearDate', 'ClearDate', 'Date', true],
            ['Recorded Date', 'RecordedDate', 'RecordedDate', 'Date', true],
            ['Payment Nr.', 'PaymentNr', 'PaymentNr', 'Text', true],
            ['Payee', 'Payee', 'Payee', 'Text', true],
            ['Cheque Nr.', 'ChequeNr', 'ChequeNr', 'Text', true],
            ['Cheque Date', 'ChequeDate', 'ChequeDate', 'Date', true],
            ['Notes', 'Notes', 'Notes', 'Text', true],
            ['Amount In', 'AmountIn', 'AmountIn', 'Currency', true],
            ['Amount Out', 'AmountOut', 'AmountOut', 'Currency', true],
            ['W', 'W', 'W', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    // Show data function
    $scope.showData = async function () {
        $scope.filters.ClearDateFrom.Value = $rootScope.Date_to_DB($scope.selectedClearDateFrom);
        $scope.filters.ClearDateTo.Value = $rootScope.Date_to_DB($scope.selectedClearDateTo);

        if ($scope.filters.ShowUnreconciledOnly.Value === true) {
            $scope.filters.ShowUnreconciledOnly.Value = false;
        } else {
            $scope.filters.ShowUnreconciledOnly.Value = null;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        await $scope.calculateBalances();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('PCashReconciliation', $scope);
    };

    // Calculate balances
    $scope.calculateBalances = async function () {
        if (!$scope.filters.CashAccount.Value || !$scope.filters.Year.Value || !$scope.filters.Period.Value) {
            return;
        }

        let balances = await PCashReconciliation_Service.GetBalances(
            $scope.filters.CashAccount.Value,
            $scope.filters.Year.Value,
            $scope.filters.Period.Value
        );

        if (balances) {
            $scope.reconciledInOut = balances.ReconciledInOut || 0;
            $scope.unReconciledInOut = balances.UnReconciledInOut || 0;
            $scope.beginningBalance = balances.BeginningBalance || 0;
            $scope.recordedEndingBalance = balances.RecordedEndingBalance || 0;
            $scope.cashEndingBalance = balances.CashEndingBalance || 0;
            $scope.discrepancyBalance = ($scope.cashEndingBalance - $scope.recordedEndingBalance) || 0;
        }
    };

    // Row reconcile changed
    $scope.rowReconcileChanged = async function (row) {
        // TODO: Implement save reconcile status
        await PCashReconciliation_Service.UpdateReconcileStatus(row.PaymentNr, row.R);
        await $scope.calculateBalances();
    };

    // Cash account changed
    $scope.cashAccountChanged = async function () {
        await $scope.loadPeriods();
        await $scope.showData();
    };

    // Year changed
    $scope.yearChanged = async function () {
        await $scope.loadPeriods();
        await $scope.showData();
    };

    // Get Cash Accounts dropdown data
    $scope.getData_CashAccounts = async function () {
        $scope.data_CashAccounts = await PCashReconciliation_Service.Dropdown_CashAccounts();
    };

    // Get Years dropdown data
    $scope.getData_Years = async function () {
        $scope.data_Years = await PCashReconciliation_Service.Dropdown_Years();
    };

    // Load Periods based on selected year
    $scope.loadPeriods = async function () {
        if ($scope.filters.Year.Value) {
            $scope.data_Periods = await PCashReconciliation_Service.Dropdown_Periods($scope.filters.Year.Value);
        } else {
            $scope.data_Periods = [];
        }
    };

    // Toolbar action functions
    $scope.receiveDeposit = async function () {
        // TODO: Implement receive deposit functionality
        console.log('Receive Deposit clicked');
    };

    $scope.payDeposit = async function () {
        // TODO: Implement pay deposit functionality
        console.log('Pay Deposit clicked');
    };

    $scope.customerReceipt = async function () {
        // TODO: Implement customer receipt functionality
        console.log('Customer Receipt clicked');
    };

    $scope.vendorPayment = async function () {
        // TODO: Implement vendor payment functionality
        console.log('Vendor Payment clicked');
    };

    $scope.expense = async function () {
        // TODO: Implement expense functionality
        console.log('Expense clicked');
    };

    $scope.receipt = async function () {
        // TODO: Implement receipt functionality
        console.log('Receipt clicked');
    };

    // Toggle debug scope
    ;

    // Initialize page
    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $scope.getData_CashAccounts(),
            $scope.getData_Years()
        ]);

        $rootScope.LoadFilterState('PCashReconciliation', $scope);

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        if ($scope.filters.CashAccount.Value && $scope.filters.Year.Value) {
            await $scope.loadPeriods();
            await $scope.showData();
        }

        Utility_ERP.Still_Processing($scope, false);
    };

    $scope.initialize_Page();
});

angular.module('app.erp').controller('PenaltiesCtrl', function ($rootScope, $scope, Utility_ERP, Penalties_Service, BusinessRelation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        BR: { PropertyName: 'BusinessRelationCode', Operator: '=', Value: '' },
        ARNumber: { PropertyName: 'ARCode', Operator: 'like', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedBR = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = Penalties_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Penalty #', 'Penalty', 'Penalty', 'Text', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['B/R', 'BR', 'BR', 'Text', true],
            ['A/R Code', 'ARCode', 'ARCode', 'Text', true],
            ['Principle Amount', 'PrincipleAmount', 'PrincipleAmount', 'Number', true],
            ['Rate %', 'Rate', 'Rate', 'Number', true],
            ['Start Date', 'StartDate', 'StartDate', 'Date', true],
            ['End Date', 'EndDate', 'EndDate', 'Date', true],
            ['Bill Amount', 'BillAmount', 'BillAmount', 'Number', true],
            ['Issued By', 'IssuedBy', 'IssuedBy', 'Text', true],
            ['Status', 'Status', 'Status', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedBR'] = $scope.selectedBR;
        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('Penalties', $scope);

        delete $scope.filters['selectedBR'];
        delete $scope.filters['selectedShowAll'];
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('Penalty');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedBR = $scope.filters['selectedBR'];
            delete $scope.filters['selectedBR'];

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('Penalties', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.invoiceRequest = async function () {
        // Implementation for Invoice Request
    };

    $scope.voidPenalty = async function () {
        // Implementation for Void
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('PendingReceiptsCtrl', function ($rootScope, $scope, Utility_ERP, PendingReceipts_Service, BusinessRelation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        CashAccount: { PropertyName: 'CashAccountCode', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        DueDateFrom_date: { PropertyName: 'DueDate', Operator: '>=', Value: '' },
        DueDateTo_date: { PropertyName: 'DueDate', Operator: '<=', Value: '' },
        PaymentMethod: { PropertyName: 'PaymentMethodCode', Operator: 'in', Value: '' },
        Customer: { PropertyName: 'CustomerID', Operator: '=', Value: '' },
        Status: { PropertyName: 'StatusCode', Operator: 'in', Value: '' },
        Age: { PropertyName: 'AgeCode', Operator: 'in', Value: '' }
    };

    $scope.selectedBranch = '';
    $scope.selectedCashAccount = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedDueDateFrom = '';
    $scope.selectedDueDateTo = '';
    $scope.selectedPaymentMethod = '';
    $scope.selectedCustomer = '';
    $scope.selectedStatus = '';
    $scope.selectedAge = '';

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_CashAccount = [];
    $scope.data_PaymentMethod = [];
    $scope.data_BillingAddressNames = [];
    $scope.data_Status = [];
    $scope.data_Age = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = PendingReceipts_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Payment#', 'PaymentNr', 'PaymentNr', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Cash Account', 'CashAccount', 'CashAccount', 'Text', true],
            ['Method', 'Method', 'Method', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['Cheque Nr', 'ChequeNr', 'ChequeNr', 'Text', true],
            ['Due Date', 'DueDate', 'DueDate', 'Date', true],
            ['Customer', 'Customer', 'Customer', 'Text', true],
            ['Amount', 'Amount', 'Amount', 'Currency', true],
            ['Status', 'Status', 'Status', 'Text', true],
            ['Age', 'Age', 'Age', 'Number', true]
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedCashAccount) {
            $scope.filters.CashAccount.Operator = 'in';
            $scope.filters.CashAccount.Value = Utility_ERP.Value_OperatorIN_($scope.data_CashAccount, 'Code');
        } else {
            $scope.filters.CashAccount.Operator = '=';
            $scope.filters.CashAccount.Value = $scope.selectedCashAccount;
        }

        if (!$scope.selectedPaymentMethod) {
            $scope.filters.PaymentMethod.Operator = 'in';
            $scope.filters.PaymentMethod.Value = Utility_ERP.Value_OperatorIN_($scope.data_PaymentMethod, 'Code');
        } else {
            $scope.filters.PaymentMethod.Operator = '=';
            $scope.filters.PaymentMethod.Value = $scope.selectedPaymentMethod;
        }

        if (!$scope.selectedStatus) {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN_($scope.data_Status, 'Code');
        } else {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        }

        if (!$scope.selectedAge) {
            $scope.filters.Age.Operator = 'in';
            $scope.filters.Age.Value = Utility_ERP.Value_OperatorIN_($scope.data_Age, 'Code');
        } else {
            $scope.filters.Age.Operator = '=';
            $scope.filters.Age.Value = $scope.selectedAge;
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);
        $scope.filters.DueDateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDueDateFrom);
        $scope.filters.DueDateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDueDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedCustomer'] = $scope.selectedCustomer;

        $rootScope.SaveFilterState('PendingReceipts', $scope);

        delete $scope.filters['selectedCustomer'];
    };

    $scope.Branch_Changed = async function () {
        // reset
        $scope.selectedCashAccount = '';

        await $scope.showData();
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.customerSelected = async function (flag = true) {
        // reset
        $scope.data_BillingAddressNames = [];

        if ($rootScope.Not_ValidString($scope.filters.Customer.Value)) {
            if (flag) {
                $scope.showData();
            }

            return;
        }

        $scope.data_BillingAddressNames = await BusinessRelation_Service.GetBusinessRelationBillingAddressNames($scope.filters.Customer.Value);

        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_CashAccount = async function () {
        // Implement service call for Cash Account dropdown
        $scope.data_CashAccount = await Finance_Service.Dropdown_CashAccount();
    };

    $scope.getData_PaymentMethod = async function () {
        // Implement service call for Payment Method dropdown
        $scope.data_PaymentMethod = await Finance_Service.Dropdown_PaymentMethod();
    };

    $scope.getData_Status = async function () {
        // Implement service call for Status dropdown
        $scope.data_Status = await Finance_Service.Dropdown_PendingReceiptsStatus();
    };

    $scope.getData_Age = async function () {
        // Implement service call for Age dropdown
        $scope.data_Age = await Finance_Service.Dropdown_Age();
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let cashAccount = $scope.filters.CashAccount.Value;
        if (cashAccount && typeof cashAccount === 'string' && cashAccount.indexOf('(') >= 0) cashAccount = '';
        $scope.selectedCashAccount = cashAccount;

        let paymentMethod = $scope.filters.PaymentMethod.Value;
        if (paymentMethod && typeof paymentMethod === 'string' && paymentMethod.indexOf('(') >= 0) paymentMethod = '';
        $scope.selectedPaymentMethod = paymentMethod;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        let age = $scope.filters.Age.Value;
        if (age && typeof age === 'string' && age.indexOf('(') >= 0) age = '';
        $scope.selectedAge = age;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedCustomer = $scope.filters['selectedCustomer'];
            delete $scope.filters['selectedCustomer'];

            await $scope.customerSelected(false);
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_CashAccount(),
            $scope.getData_PaymentMethod(),
            $scope.getData_Status(),
            $scope.getData_Age()
        ]);

        $rootScope.LoadFilterState('PendingReceipts', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.updateStatus = async function () {
        // Implement update status functionality
    };

    $scope.printForm = async function () {
        // Implement print functionality
    };

    $scope.exportList = async function () {
        // Implement export to Excel functionality
    };

    $scope.initialize_Page();
});


angular.module('app.erp').controller('PeriodClosingCtrl', function ($rootScope, $scope, Utility_ERP, PeriodClosing_Service, Company_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Year: { PropertyName: 'Year', Operator: '=', Value: null },
        Period: { PropertyName: 'Period', Operator: '=', Value: null },
        Company: { PropertyName: 'CompanyCode', Operator: 'in', Value: '' },
        Branch: { PropertyName: 'Branch', Operator: 'in', Value: '' }
    };

    $scope.selectedCompany = '';
    $scope.selectedBranch = '';

    $scope.data_Company = [];
    $scope.data_EmployeeLocationAccess = [];

    // Dropdown options for Year
    $scope.yearOptions = [
        { Value: null, Text: 'All' }
    ];

    // Generate year options (current year and 5 years back/forward)
    (function generateYearOptions() {
        const currentYear = new Date().getFullYear();
        for (let i = -5; i <= 5; i++) {
            const year = currentYear + i;
            $scope.yearOptions.push({ Value: year, Text: year.toString() });
        }
    })();

    // Dropdown options for Period (1-12 for months)
    $scope.periodOptions = [
        { Value: null, Text: 'All' }
    ];

    // Generate period options (months 1-12)
    (function generatePeriodOptions() {
        const monthNames = ['January', 'February', 'March', 'April', 'May', 'June',
            'July', 'August', 'September', 'October', 'November', 'December'];
        for (let i = 1; i <= 12; i++) {
            $scope.periodOptions.push({ Value: i, Text: i + ' - ' + monthNames[i - 1] });
        }
    })();

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = PeriodClosing_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Year', 'Year', 'Year', 'Number', true],
            ['Period', 'Period', 'Period', 'Number', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Total Revenue', 'TotalRevenue', 'TotalRevenue', 'Currency', true],
            ['Total Expenses', 'TotalExpenses', 'TotalExpenses', 'Currency', true],
            ['Profit/Loss', 'ProfitLoss', 'ProfitLoss', 'Currency', true],
            ['Processed Date', 'ProcessedDate', 'ProcessedDate', 'Date', true],
            ['Processed By', 'ProcessedBy', 'ProcessedBy', 'Text', true]
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedCompany) {
            $scope.filters.Company.Operator = 'in';
            $scope.filters.Company.Value = Utility_ERP.Value_OperatorIN_($scope.data_Company, 'Code');
        } else {
            $scope.filters.Company.Operator = '=';
            $scope.filters.Company.Value = $scope.selectedCompany;
        }

        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('PeriodClosing', $scope);
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_Company = async function () {
        $scope.data_Company = await Company_Service.Dropdown();
    };

    

    async function Override_some_Filters() {
        let company = $scope.filters.Company.Value;
        if (company && typeof company === 'string' && company.indexOf('(') >= 0) company = '';
        $scope.selectedCompany = company;

        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_Company()
        ]);

        $rootScope.LoadFilterState('PeriodClosing', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    // Toolbar functions
    $scope.closePeriod = async function () {
        // TODO: Implement Close Period logic
        console.log('Close Period clicked');
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('PersonnelsFinCtrl', function ($rootScope, $scope, Utility_ERP, PersonnelsFin_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';

    $scope.data_EmployeeLocationAccess = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = PersonnelsFin_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['No', 'No', 'No', 'Number', true],
            ['Personnel', 'Personnel', 'Personnel', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('PersonnelsFin', $scope);
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, '')
        ]);

        $rootScope.LoadFilterState('PersonnelsFin', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.savePersonnels = async function () { }

    $scope.initialize_Page();
});
angular.module('app.erp').controller('PickedClearingRequestCtrl', function ($rootScope, $scope, Utility_ERP, PickedClearingRequest_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        DocType: { PropertyName: 'DocType', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedDocType = '';

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_DocType = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = PickedClearingRequest_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Doc. Nr', 'DocNr', 'DocNr', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Type', 'Type', 'Type', 'Text', true],
            ['Address', 'Address', 'Address', 'Text', true],
            ['Area', 'Area', 'Area', 'Text', true],
            ['Amount', 'Amount', 'Amount', 'Currency', true],
            ['Age', 'Age', 'Age', 'Number', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedDocType) {
            $scope.filters.DocType.Operator = 'in';
            $scope.filters.DocType.Value = Utility_ERP.Value_OperatorIN_($scope.data_DocType, 'Code');
        } else {
            $scope.filters.DocType.Operator = '=';
            $scope.filters.DocType.Value = $scope.selectedDocType;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('PickedClearingRequest', $scope);
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_DocType = async function () {
        $scope.data_DocType = await PickedClearingRequest_Service.Dropdown_DocType();
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let docType = $scope.filters.DocType.Value;
        if (docType && typeof docType === 'string' && docType.indexOf('(') >= 0) docType = '';
        $scope.selectedDocType = docType;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_DocType()
        ]);

        $rootScope.LoadFilterState('PickedClearingRequest', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.unPick = async function () {
        // Un Pick implementation
    };

    $scope.viewDocument = function (row) {
        // View document implementation
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('PickedCollectRequestCtrl', function ($rootScope, $scope, Utility_ERP, PickedCollectRequest_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        DocType: { PropertyName: 'DocType', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedDocType = '';

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_DocType = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = PickedCollectRequest_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Doc. Nr', 'DocNr', 'DocNr', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Type', 'Type', 'Type', 'Text', true],
            ['Address', 'Address', 'Address', 'Text', true],
            ['Area', 'Area', 'Area', 'Text', true],
            ['Amount', 'Amount', 'Amount', 'Currency', true],
            ['Age', 'Age', 'Age', 'Number', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedDocType) {
            $scope.filters.DocType.Operator = 'in';
            $scope.filters.DocType.Value = Utility_ERP.Value_OperatorIN_($scope.data_DocType, 'Code');
        } else {
            $scope.filters.DocType.Operator = '=';
            $scope.filters.DocType.Value = $scope.selectedDocType;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('PickedCollectRequest', $scope);
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_DocType = async function () {
        $scope.data_DocType = await PickedCollectRequest_Service.Dropdown_DocType();
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let docType = $scope.filters.DocType.Value;
        if (docType && typeof docType === 'string' && docType.indexOf('(') >= 0) docType = '';
        $scope.selectedDocType = docType;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_DocType()
        ]);

        $rootScope.LoadFilterState('PickedCollectRequest', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.unPick = async function () {
        // Implementation for Un Pick
    };

    $scope.newCollectOrder = async function () {
        // Implementation for New Collect Order
    };

    $scope.addToCollectOrder = async function () {
        // Implementation for Add to Collect Order
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('PurchaseInvoiceSelectionCtrl', function ($rootScope, $scope, Utility_ERP, PurchaseInvoiceSelection_Service, BusinessRelation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        DueDateFrom_date: { PropertyName: 'DueDate', Operator: '>=', Value: '' },
        DueDateTo_date: { PropertyName: 'DueDate', Operator: '<=', Value: '' },
        Currency: { PropertyName: 'CurrencyCode', Operator: 'in', Value: '' },
        Vendor: { PropertyName: 'VendorID', Operator: '=', Value: '' },
        ReasonType: { PropertyName: 'ReasonType', Operator: 'in', Value: '' },
        Age: { PropertyName: 'Age', Operator: 'in', Value: '' },
        UnPrinted: { PropertyName: 'PrintCount', Operator: '<=', Value: null },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedDueDateFrom = '';
    $scope.selectedDueDateTo = '';
    $scope.selectedCurrency = '';
    $scope.selectedVendor = '';
    $scope.selectedReasonType = '';
    $scope.selectedAge = '';
    $scope.selectedUnPrinted = false;
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_Currency = [];
    $scope.data_ReasonType = [];
    $scope.data_Age = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];
    $scope.data_BillingAddressNames = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = PurchaseInvoiceSelection_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Invoice #', 'Invoice', 'Invoice', 'Text', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Reason', 'Reason', 'Reason', 'Text', true],
            ['PO#', 'PO', 'PO', 'Text', true],
            ['Vendor', 'Vendor', 'Vendor', 'Text', true],
            ['Amount Due', 'AmountDue', 'AmountDue', 'Numeric', true],
            ['Amount Paid', 'AmountPaid', 'AmountPaid', 'Numeric', true],
            ['Due Date', 'DueDate', 'DueDate', 'Date', true],
            ['Age', 'Age', 'Age', 'Text', true],
            ['Status', 'Status', 'Status', 'Text', true],
            ['Printed', 'Printed', 'Printed', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        $scope.filters.DueDateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDueDateFrom);
        $scope.filters.DueDateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDueDateTo);

        if (!$scope.selectedCurrency) {
            $scope.filters.Currency.Operator = 'in';
            $scope.filters.Currency.Value = Utility_ERP.Value_OperatorIN_($scope.data_Currency, 'Code');
        } else {
            $scope.filters.Currency.Operator = '=';
            $scope.filters.Currency.Value = $scope.selectedCurrency;
        }

        if (!$scope.selectedReasonType) {
            $scope.filters.ReasonType.Operator = 'in';
            $scope.filters.ReasonType.Value = Utility_ERP.Value_OperatorIN_($scope.data_ReasonType, 'Code');
        } else {
            $scope.filters.ReasonType.Operator = '=';
            $scope.filters.ReasonType.Value = $scope.selectedReasonType;
        }

        if (!$scope.selectedAge) {
            $scope.filters.Age.Operator = 'in';
            $scope.filters.Age.Value = Utility_ERP.Value_OperatorIN_($scope.data_Age, 'Code');
        } else {
            $scope.filters.Age.Operator = '=';
            $scope.filters.Age.Value = $scope.selectedAge;
        }

        $scope.filters.UnPrinted.Value = null;
        if ($scope.selectedUnPrinted) {
            $scope.filters.UnPrinted.Value = 0;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedVendor'] = $scope.selectedVendor;
        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;
        $scope.filters['selectedUnPrinted'] = $scope.selectedUnPrinted;

        $rootScope.SaveFilterState('PurchaseInvoiceSelection', $scope);

        delete $scope.filters['selectedVendor'];
        delete $scope.filters['selectedShowAll'];
        delete $scope.filters['selectedUnPrinted'];
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.customerSelected = async function (flag = true) {
        // reset
        $scope.data_BillingAddressNames = [];

        if ($rootScope.Not_ValidString($scope.filters.Vendor.Value)) {
            if (flag) {
                $scope.showData();
            }

            return;
        }

        $scope.data_BillingAddressNames = await BusinessRelation_Service.GetBusinessRelationBillingAddressNames($scope.filters.Vendor.Value);

        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_Currency = async function () {
        $scope.data_Currency = await PurchaseInvoiceSelection_Service.Dropdown_Currency();
    };

    $scope.getData_ReasonType = async function () {
        $scope.data_ReasonType = await PurchaseInvoiceSelection_Service.Dropdown_ReasonType();
    };

    $scope.getData_Age = async function () {
        $scope.data_Age = await PurchaseInvoiceSelection_Service.Dropdown_Age();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('PurchaseInvoice');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let currency = $scope.filters.Currency.Value;
        if (currency && typeof currency === 'string' && currency.indexOf('(') >= 0) currency = '';
        $scope.selectedCurrency = currency;

        let reasonType = $scope.filters.ReasonType.Value;
        if (reasonType && typeof reasonType === 'string' && reasonType.indexOf('(') >= 0) reasonType = '';
        $scope.selectedReasonType = reasonType;

        let age = $scope.filters.Age.Value;
        if (age && typeof age === 'string' && age.indexOf('(') >= 0) age = '';
        $scope.selectedAge = age;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedVendor = $scope.filters['selectedVendor'];
            delete $scope.filters['selectedVendor'];

            await $scope.customerSelected(false);

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];

            $scope.selectedUnPrinted = $scope.filters['selectedUnPrinted'];
            delete $scope.filters['selectedUnPrinted'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_Currency(),
            $scope.getData_ReasonType(),
            $scope.getData_Age(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('PurchaseInvoiceSelection', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.addSelectedItem = async function () {
        // Add selected item implementation
    };

    $scope.closeForm = function () {
        // Close form implementation
        window.history.back();
    };

    $scope.viewInvoice = function (row) {
        // View invoice implementation
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('PurchasePriceSelectionCtrl', function ($rootScope, $scope, Utility_ERP, PurchasePriceSelection_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Supplier: { PropertyName: 'SupplierCode', Operator: '=', Value: '' },
        Brand: { PropertyName: 'BrandCode', Operator: 'in', Value: '' },
        Category: { PropertyName: 'CategoryCode', Operator: 'in', Value: '' },
        Currency: { PropertyName: 'CurrencyCode', Operator: 'in', Value: '' },
        EffectiveDateFrom_date: { PropertyName: 'EffectiveDate', Operator: '>=', Value: '' },
        EffectiveDateTo_date: { PropertyName: 'EffectiveDate', Operator: '<=', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedSupplier = '';
    $scope.selectedBrand = '';
    $scope.selectedCategory = '';
    $scope.selectedCurrency = '';
    $scope.selectedEffectiveDateFrom = '';
    $scope.selectedEffectiveDateTo = '';

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_Brand = [];
    $scope.data_Category = [];
    $scope.data_Currency = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = PurchasePriceSelection_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Item #', 'Item', 'Item', 'Text', true],
            ['Category', 'Category', 'Category', 'Text', true],
            ['Brand', 'Brand', 'Brand', 'Text', true],
            ['Profile', 'Profile', 'Profile', 'Text', true],
            ['Name', 'Name', 'Name', 'Text', true],
            ['Purchase Uom', 'PurchaseUom', 'PurchaseUom', 'Text', true],
            ['Supplier', 'Supplier', 'Supplier', 'Text', true],
            ['Price', 'Price', 'Price', 'Number', true],
            ['Valid From', 'ValidFrom', 'ValidFrom', 'Date', true],
            ['Valid Until', 'ValidUntil', 'ValidUntil', 'Date', true],
            ['Inc Tax', 'IncTax', 'IncTax', 'Boolean', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedBrand) {
            $scope.filters.Brand.Operator = 'in';
            $scope.filters.Brand.Value = Utility_ERP.Value_OperatorIN_($scope.data_Brand, 'Code');
        } else {
            $scope.filters.Brand.Operator = '=';
            $scope.filters.Brand.Value = $scope.selectedBrand;
        }

        if (!$scope.selectedCategory) {
            $scope.filters.Category.Operator = 'in';
            $scope.filters.Category.Value = Utility_ERP.Value_OperatorIN_($scope.data_Category, 'Code');
        } else {
            $scope.filters.Category.Operator = '=';
            $scope.filters.Category.Value = $scope.selectedCategory;
        }

        if (!$scope.selectedCurrency) {
            $scope.filters.Currency.Operator = 'in';
            $scope.filters.Currency.Value = Utility_ERP.Value_OperatorIN_($scope.data_Currency, 'Code');
        } else {
            $scope.filters.Currency.Operator = '=';
            $scope.filters.Currency.Value = $scope.selectedCurrency;
        }

        $scope.filters.EffectiveDateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedEffectiveDateFrom);
        $scope.filters.EffectiveDateTo_date.Value = $rootScope.Date_to_DB($scope.selectedEffectiveDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedSupplier'] = $scope.selectedSupplier;

        $rootScope.SaveFilterState('PurchasePriceSelection', $scope);

        delete $scope.filters['selectedSupplier'];
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.getData_Brand = async function () {
        $scope.data_Brand = await PurchasePriceSelection_Service.Dropdown_Brand();
    };

    $scope.getData_Category = async function () {
        $scope.data_Category = await PurchasePriceSelection_Service.Dropdown_Category();
    };

    $scope.getData_Currency = async function () {
        $scope.data_Currency = await PurchasePriceSelection_Service.Dropdown_Currency();
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let brand = $scope.filters.Brand.Value;
        if (brand && typeof brand === 'string' && brand.indexOf('(') >= 0) brand = '';
        $scope.selectedBrand = brand;

        let category = $scope.filters.Category.Value;
        if (category && typeof category === 'string' && category.indexOf('(') >= 0) category = '';
        $scope.selectedCategory = category;

        let currency = $scope.filters.Currency.Value;
        if (currency && typeof currency === 'string' && currency.indexOf('(') >= 0) currency = '';
        $scope.selectedCurrency = currency;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedSupplier = $scope.filters['selectedSupplier'];
            delete $scope.filters['selectedSupplier'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_Brand(),
            $scope.getData_Category(),
            $scope.getData_Currency()
        ]);

        $rootScope.LoadFilterState('PurchasePriceSelection', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.addItem = async function () {
        // Implementation for Add
    };

    $scope.closeForm = async function () {
        // Implementation for Close (Esc)
    };

    $scope.initialize_Page();
});


angular.module('app.erp').controller('RateTypesCtrl', function ($rootScope, $scope, Utility_ERP, RateTypes_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = RateTypes_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('RateTypes', $scope);
    };

    ;

    async function Override_some_Filters() {
        // No additional filter overrides needed for this page
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('RateTypes', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.downloadSchema = async function () {
        // TODO: Implement download schema functionality
    };

    $scope.uploadFile = async function () {
        // TODO: Implement upload functionality
    };

    $scope.exportToExcel = async function () {
        // TODO: Implement export to excel functionality
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('ReceivableAgingsCtrl', function ($rootScope, $scope, Utility_ERP, ReceivableAgings_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'Branch', Operator: 'in', Value: '' },
        OpeningSOADate_date: { PropertyName: 'OpeningSOADate', Operator: '=', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedOpeningSOADate = '';

    $scope.data_EmployeeLocationAccess = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = ReceivableAgings_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Customer', 'Customer', 'Customer', 'Text', true],
            ['Current', 'Current', 'Current', 'Currency', true],
            ['1 - 7 Days', 'Days1To7', 'Days1To7', 'Currency', true],
            ['8 - 14 Days', 'Days8To14', 'Days8To14', 'Currency', true],
            ['15 - 30 Days', 'Days15To30', 'Days15To30', 'Currency', true],
            ['31 - 45 Days', 'Days31To45', 'Days31To45', 'Currency', true],
            ['> 45 Days', 'DaysOver45', 'DaysOver45', 'Currency', true],
            ['Total', 'Total', 'Total', 'Currency', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        $scope.filters.OpeningSOADate_date.Value = $rootScope.Date_to_DB($scope.selectedOpeningSOADate);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('ReceivableAgings', $scope);
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, '')
        ]);

        $rootScope.LoadFilterState('ReceivableAgings', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.printSOA = async function () {
        // Implementation for print SOA
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('ReceivableListByAgeCtrl', function ($rootScope, $scope, Utility_ERP, ReceivableListByAge_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = ReceivableListByAge_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Short Name', 'ShortName', 'ShortName', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['Active', 'Active', 'Active', 'Boolean', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('ReceivableListByAge', $scope);
    };

    ;

    async function Override_some_Filters() {
        // No complex filters to override for this page
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('ReceivableListByAge', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.downloadSchema = async function () {
        // Implementation for download schema
    };

    $scope.uploadClick = async function () {
        // Implementation for upload
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('ReceivableReceiptCtrl', function ($rootScope, $scope, Utility_ERP, ReceivableReceipt_Service, BusinessRelation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Currency: { PropertyName: 'CurrencyCode', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        DueDateFrom_date: { PropertyName: 'DueDate', Operator: '>=', Value: '' },
        DueDateTo_date: { PropertyName: 'DueDate', Operator: '<=', Value: '' },
        DueIn: { PropertyName: 'DueIn', Operator: 'in', Value: '' },
        Age: { PropertyName: 'Age', Operator: 'in', Value: '' },
        Customer: { PropertyName: 'CustomerID', Operator: '=', Value: '' },
        UnPrinted: { PropertyName: 'PrintCount', Operator: '<=', Value: null },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedCurrency = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedDueDateFrom = '';
    $scope.selectedDueDateTo = '';
    $scope.selectedDueIn = '';
    $scope.selectedAge = '';
    $scope.selectedCustomer = '';
    $scope.selectedUnPrinted = false;
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_Currency = [];
    $scope.data_DueIn = [];
    $scope.data_Age = [];
    $scope.data_BillingAddressNames = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = ReceivableReceipt_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Receipt Nr.', 'Code', 'Code', 'Text', true],
            ['Branch', 'BranchName', 'BranchName', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Customer', 'CustomerName', 'CustomerName', 'Text', true],
            ['Received By', 'ReceivedByName', 'ReceivedByName', 'Text', true],
            ['Issued By', 'IssuedByName', 'IssuedByName', 'Text', true],
            ['Doc Qty', 'DocumentQty', 'DocumentQty', 'Number', true],
            ['Currency', 'CurrencyCode', 'CurrencyCode', 'Text', true],
            ['Amount Due', 'TotalAmountDue', 'TotalAmountDue', 'Currency', true],
            ['Status', 'StatusName', 'StatusName', 'Text', true],
            ['Printed', 'PrintCount', 'PrintCount', 'Number', true],
            ['Collect #', 'CollectOrderCode', 'CollectOrderCode', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedCurrency) {
            $scope.filters.Currency.Operator = 'in';
            $scope.filters.Currency.Value = Utility_ERP.Value_OperatorIN_($scope.data_Currency, 'Code');
        } else {
            $scope.filters.Currency.Operator = '=';
            $scope.filters.Currency.Value = $scope.selectedCurrency;
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        $scope.filters.DueDateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDueDateFrom);
        $scope.filters.DueDateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDueDateTo);

        if (!$scope.selectedDueIn) {
            $scope.filters.DueIn.Operator = 'in';
            $scope.filters.DueIn.Value = Utility_ERP.Value_OperatorIN_($scope.data_DueIn, 'Code');
        } else {
            $scope.filters.DueIn.Operator = '=';
            $scope.filters.DueIn.Value = $scope.selectedDueIn;
        }

        if (!$scope.selectedAge) {
            $scope.filters.Age.Operator = 'in';
            $scope.filters.Age.Value = Utility_ERP.Value_OperatorIN_($scope.data_Age, 'Code');
        } else {
            $scope.filters.Age.Operator = '=';
            $scope.filters.Age.Value = $scope.selectedAge;
        }

        $scope.filters.UnPrinted.Value = null;
        if ($scope.selectedUnPrinted) {
            $scope.filters.UnPrinted.Value = 0;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedCustomer'] = $scope.selectedCustomer;
        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;
        $scope.filters['selectedUnPrinted'] = $scope.selectedUnPrinted;

        $rootScope.SaveFilterState('ReceivableReceipt', $scope);

        delete $scope.filters['selectedCustomer'];
        delete $scope.filters['selectedShowAll'];
        delete $scope.filters['selectedUnPrinted'];
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.customerSelected = async function (flag = true) {
        // reset
        $scope.data_BillingAddressNames = [];

        if ($rootScope.Not_ValidString($scope.filters.Customer.Value)) {
            if (flag) {
                $scope.showData();
            }
            return;
        }

        $scope.data_BillingAddressNames = await BusinessRelation_Service.GetBusinessRelationBillingAddressNames($scope.filters.Customer.Value);

        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_Currency = async function () {
        $scope.data_Currency = await ReceivableReceipt_Service.Dropdown_Currency();
    };

    $scope.getData_DueIn = async function () {
        $scope.data_DueIn = await ReceivableReceipt_Service.Dropdown_DueIn();
    };

    $scope.getData_Age = async function () {
        $scope.data_Age = await ReceivableReceipt_Service.Dropdown_Age();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('ReceivableReceipt');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let currency = $scope.filters.Currency.Value;
        if (currency && typeof currency === 'string' && currency.indexOf('(') >= 0) currency = '';
        $scope.selectedCurrency = currency;

        let dueIn = $scope.filters.DueIn.Value;
        if (dueIn && typeof dueIn === 'string' && dueIn.indexOf('(') >= 0) dueIn = '';
        $scope.selectedDueIn = dueIn;

        let age = $scope.filters.Age.Value;
        if (age && typeof age === 'string' && age.indexOf('(') >= 0) age = '';
        $scope.selectedAge = age;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedCustomer = $scope.filters['selectedCustomer'];
            delete $scope.filters['selectedCustomer'];

            await $scope.customerSelected(false);

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];

            $scope.selectedUnPrinted = $scope.filters['selectedUnPrinted'];
            delete $scope.filters['selectedUnPrinted'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_Currency(),
            $scope.getData_DueIn(),
            $scope.getData_Age(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('ReceivableReceipt', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.printForm = async function () { }

    $scope.exportList = async function () { }

    $scope.voidReceipt = async function () { }

    $scope.deleteReceipt = async function () { }

    $scope.newCollectOrder = async function () { }

    $scope.addToCollectOrder = async function () { }

    $scope.initialize_Page();
});
angular.module('app.erp').controller('ReceivedDepositsCtrl', function ($rootScope, $scope, Utility_ERP, ReceivedDeposits_Service, BusinessRelation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Currency: { PropertyName: 'CurrencyCode', Operator: 'in', Value: '' },
        Customer: { PropertyName: 'CustomerID', Operator: '=', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        ReasonType: { PropertyName: 'ReasonTypeCode', Operator: 'in', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedCurrency = '';
    $scope.selectedCustomer = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedReasonType = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_Currency = [];
    $scope.data_ReasonType = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = ReceivedDeposits_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Deposit #', 'DepositNr', 'DepositNr', 'Text', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Reason', 'Reason', 'Reason', 'Text', true],
            ['PO#', 'PONr', 'PONr', 'Text', true],
            ['Customer', 'Customer', 'Customer', 'Text', true],
            ['Deposit Balance', 'DepositBalance', 'DepositBalance', 'Currency', true],
            ['Status', 'Status', 'Status', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedCurrency) {
            $scope.filters.Currency.Operator = 'in';
            $scope.filters.Currency.Value = Utility_ERP.Value_OperatorIN_($scope.data_Currency, 'Code');
        } else {
            $scope.filters.Currency.Operator = '=';
            $scope.filters.Currency.Value = $scope.selectedCurrency;
        }

        if (!$scope.selectedReasonType) {
            $scope.filters.ReasonType.Operator = 'in';
            $scope.filters.ReasonType.Value = Utility_ERP.Value_OperatorIN_($scope.data_ReasonType, 'Code');
        } else {
            $scope.filters.ReasonType.Operator = '=';
            $scope.filters.ReasonType.Value = $scope.selectedReasonType;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedCustomer'] = $scope.selectedCustomer;
        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('ReceivedDeposits', $scope);

        delete $scope.filters['selectedCustomer'];
        delete $scope.filters['selectedShowAll'];
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.customerSelected = async function (flag = true) {
        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_Currency = async function () {
        $scope.data_Currency = await Finance_Service.Dropdown_Currency();
    };

    $scope.getData_ReasonType = async function () {
        $scope.data_ReasonType = await Finance_Service.Dropdown_ReasonType();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('ReceivedDeposit');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let currency = $scope.filters.Currency.Value;
        if (currency && typeof currency === 'string' && currency.indexOf('(') >= 0) currency = '';
        $scope.selectedCurrency = currency;

        let reasonType = $scope.filters.ReasonType.Value;
        if (reasonType && typeof reasonType === 'string' && reasonType.indexOf('(') >= 0) reasonType = '';
        $scope.selectedReasonType = reasonType;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedCustomer = $scope.filters['selectedCustomer'];
            delete $scope.filters['selectedCustomer'];

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_Currency(),
            $scope.getData_ReasonType(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('ReceivedDeposits', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.printForm = async function () { }

    $scope.refundClick = async function () { }

    $scope.disposeClick = async function () { }

    $scope.voidClick = async function () { }

    $scope.deleteClick = async function () { }

    $scope.initialize_Page();
});
angular.module('app.erp').controller('ReceivedItemListCtrl', function ($rootScope, $scope, Utility_ERP, ReceivedItemList_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        SourceType: { PropertyName: 'SourceType', Operator: 'in', Value: '' },
    };

    $scope.selectedSourceType = '';

    $scope.data_SourceType = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = ReceivedItemList_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Receipt #', 'Receipt', 'Receipt', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Warehouse', 'Warehouse', 'Warehouse', 'Text', true],
            ['Supplier', 'Supplier', 'Supplier', 'Text', true],
            ['Consignee', 'Consignee', 'Consignee', 'Text', true],
            ['Source Type', 'SourceType', 'SourceType', 'Text', true],
            ['DO#', 'DO', 'DO', 'Text', true],
            ['Total Qty', 'TotalQty', 'TotalQty', 'Numeric', true],
            ['Notes', 'Notes', 'Notes', 'Text', true],
            ['Status', 'Status', 'Status', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedSourceType) {
            $scope.filters.SourceType.Operator = 'in';
            $scope.filters.SourceType.Value = Utility_ERP.Value_OperatorIN_($scope.data_SourceType, 'Code');
        } else {
            $scope.filters.SourceType.Operator = '=';
            $scope.filters.SourceType.Value = $scope.selectedSourceType;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('ReceivedItemList', $scope);
    };

    $scope.getData_SourceType = async function () {
        $scope.data_SourceType = await ReceivedItemList_Service.Dropdown_SourceType();
    };

    ;

    async function Override_some_Filters() {
        let sourceType = $scope.filters.SourceType.Value;
        if (sourceType && typeof sourceType === 'string' && sourceType.indexOf('(') >= 0) sourceType = '';
        $scope.selectedSourceType = sourceType;
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $scope.getData_SourceType()
        ]);

        $rootScope.LoadFilterState('ReceivedItemList', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.addSelectedReceipts = async function () {
        // Add selected receipts implementation
    };

    $scope.closeForm = function () {
        // Close form implementation
        window.history.back();
    };

    $scope.viewReceipt = function (row) {
        // View receipt implementation
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('ReportSettingsCtrl', function ($rootScope, $scope, Utility_ERP, ReportSettings_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = ReportSettings_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('ReportSettings', $scope);
    };

    ;

    async function Override_some_Filters() {
        // No additional filter overrides needed for this page
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('ReportSettings', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('SalesInvoicesCtrl', function ($rootScope, $scope, Utility_ERP, SalesInvoices_Service, BusinessRelation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Currency: { PropertyName: 'CurrencyCode', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        DueDateFrom_date: { PropertyName: 'DueDate', Operator: '>=', Value: '' },
        DueDateTo_date: { PropertyName: 'DueDate', Operator: '<=', Value: '' },
        Customer: { PropertyName: 'CustomerID', Operator: '=', Value: '' },
        ReasonType: { PropertyName: 'ReasonTypeCode', Operator: 'in', Value: '' },
        DueIn: { PropertyName: 'DueIn', Operator: 'in', Value: '' },
        Age: { PropertyName: 'Age', Operator: 'in', Value: '' },
        UnPrinted: { PropertyName: 'PrintCount', Operator: '=', Value: null },
        RequireVATNr: { PropertyName: 'RequireVATNr', Operator: '=', Value: null },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedCurrency = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedDueDateFrom = '';
    $scope.selectedDueDateTo = '';
    $scope.selectedCustomer = '';
    $scope.selectedReasonType = '';
    $scope.selectedDueIn = '';
    $scope.selectedAge = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_Currency = [];
    $scope.data_ReasonType = [];
    $scope.data_DueIn = [];
    $scope.data_Age = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = SalesInvoices_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Invoice #', 'InvoiceNr', 'InvoiceNr', 'Text', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['PO#', 'PONr', 'PONr', 'Text', true],
            ['Customer', 'Customer', 'Customer', 'Text', true],
            ['Amount Due', 'AmountDue', 'AmountDue', 'Currency', true],
            ['Amount Paid', 'AmountPaid', 'AmountPaid', 'Currency', true],
            ['Due Date', 'DueDate', 'DueDate', 'Date', true],
            ['Age', 'Age', 'Age', 'Number', true],
            ['Status', 'Status', 'Status', 'Text', true],
            ['Printed', 'Printed', 'Printed', 'Number', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedCurrency) {
            $scope.filters.Currency.Operator = 'in';
            $scope.filters.Currency.Value = Utility_ERP.Value_OperatorIN_($scope.data_Currency, 'Code');
        } else {
            $scope.filters.Currency.Operator = '=';
            $scope.filters.Currency.Value = $scope.selectedCurrency;
        }

        if (!$scope.selectedReasonType) {
            $scope.filters.ReasonType.Operator = 'in';
            $scope.filters.ReasonType.Value = Utility_ERP.Value_OperatorIN_($scope.data_ReasonType, 'Code');
        } else {
            $scope.filters.ReasonType.Operator = '=';
            $scope.filters.ReasonType.Value = $scope.selectedReasonType;
        }

        if (!$scope.selectedDueIn) {
            $scope.filters.DueIn.Operator = 'in';
            $scope.filters.DueIn.Value = Utility_ERP.Value_OperatorIN_($scope.data_DueIn, 'Code');
        } else {
            $scope.filters.DueIn.Operator = '=';
            $scope.filters.DueIn.Value = $scope.selectedDueIn;
        }

        if (!$scope.selectedAge) {
            $scope.filters.Age.Operator = 'in';
            $scope.filters.Age.Value = Utility_ERP.Value_OperatorIN_($scope.data_Age, 'Code');
        } else {
            $scope.filters.Age.Operator = '=';
            $scope.filters.Age.Value = $scope.selectedAge;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        $scope.filters.DueDateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDueDateFrom);
        $scope.filters.DueDateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDueDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedCustomer'] = $scope.selectedCustomer;
        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('SalesInvoices', $scope);

        delete $scope.filters['selectedCustomer'];
        delete $scope.filters['selectedShowAll'];
    };

    $scope.Branch_Changed = async function () {
        // reset
        $scope.selectedWarehouse = '';

        await $scope.showData();
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.customerSelected = async function (flag = true) {
        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_Currency = async function () {
        $scope.data_Currency = await Finance_Service.Dropdown_Currency();
    };

    $scope.getData_ReasonType = async function () {
        $scope.data_ReasonType = await Finance_Service.Dropdown_ReasonType();
    };

    $scope.getData_DueIn = async function () {
        $scope.data_DueIn = await Finance_Service.Dropdown_DueIn();
    };

    $scope.getData_Age = async function () {
        $scope.data_Age = await Finance_Service.Dropdown_Age();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('SalesInvoice');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let currency = $scope.filters.Currency.Value;
        if (currency && typeof currency === 'string' && currency.indexOf('(') >= 0) currency = '';
        $scope.selectedCurrency = currency;

        let reasonType = $scope.filters.ReasonType.Value;
        if (reasonType && typeof reasonType === 'string' && reasonType.indexOf('(') >= 0) reasonType = '';
        $scope.selectedReasonType = reasonType;

        let dueIn = $scope.filters.DueIn.Value;
        if (dueIn && typeof dueIn === 'string' && dueIn.indexOf('(') >= 0) dueIn = '';
        $scope.selectedDueIn = dueIn;

        let age = $scope.filters.Age.Value;
        if (age && typeof age === 'string' && age.indexOf('(') >= 0) age = '';
        $scope.selectedAge = age;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedCustomer = $scope.filters['selectedCustomer'];
            delete $scope.filters['selectedCustomer'];

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_Currency(),
            $scope.getData_ReasonType(),
            $scope.getData_DueIn(),
            $scope.getData_Age(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('SalesInvoices', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.printForm = async function () { }

    $scope.exportList = async function () { }

    $scope.refundClick = async function () { }

    $scope.voidClick = async function () { }

    $scope.deleteClick = async function () { }

    $scope.disposeClick = async function () { }

    $scope.downloadSchemaClick = async function () { }

    $scope.uploadClick = async function () { }

    $scope.initialize_Page();
});
angular.module('app.erp').controller('SettlementVerificationCtrl', function ($rootScope, $scope, Utility_ERP, SettlementVerification_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        VerifiedDate_date: { PropertyName: 'VerifiedDate', Operator: '=', Value: '' },
    };

    $scope.selectedVerifiedDate = $rootScope.Date_to_UI(new Date());

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = SettlementVerification_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Settlement #', 'SettlementNo', 'SettlementNo', 'Text', true],
            ['Request #', 'RequestNo', 'RequestNo', 'Text', true],
            ['Reason Type', 'ReasonType', 'ReasonType', 'Text', true],
            ['Requested By', 'RequestedBy', 'RequestedBy', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['Requested Amount', 'RequestedAmount', 'RequestedAmount', 'Currency', true],
            ['Settlement Amount', 'SettlementAmount', 'SettlementAmount', 'Currency', true],
            ['Over/Short', 'OverShort', 'OverShort', 'Currency', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Pay From', 'PayFrom', 'PayFrom', 'Text', true],
            ['Payment Method', 'PaymentMethod', 'PaymentMethod', 'Text', true],
            ['Notes', 'Notes', 'Notes', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        $scope.filters.VerifiedDate_date.Value = $rootScope.Date_to_DB($scope.selectedVerifiedDate);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('SettlementVerification', $scope);
    };

    ;

    async function Override_some_Filters() {
        // No additional filter overrides needed for this simple case
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('SettlementVerification', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.verifyPaymentRequest = async function () {
        // Implementation for Verify Payment Request
    };

    $scope.initialize_Page();
});


angular.module('app.erp').controller('SubAccountsCtrl', function ($rootScope, $scope, Utility_ERP, SubAccounts_Service) {
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        AccountType: { PropertyName: 'AccountTypeCode', Operator: 'in', Value: '' },
    };

    $scope.selectedAccountType = '';

    $scope.data_AccountType = [];

    $scope.CreateTable = function () {
        $scope.dt = SubAccounts_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Type', 'TypeName', 'TypeName', 'Text', true],
            ['Code', 'Code', 'Code', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedAccountType) {
            $scope.filters.AccountType.Operator = 'in';
            $scope.filters.AccountType.Value = Utility_ERP.Value_OperatorIN_($scope.data_AccountType, 'Code');
        } else {
            $scope.filters.AccountType.Operator = '=';
            $scope.filters.AccountType.Value = $scope.selectedAccountType;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('SubAccounts', $scope);
    };

    $scope.getData_AccountType = async function () {
        $scope.data_AccountType = await SubAccounts_Service.Dropdown_AccountType();
    };

    

    async function Override_some_Filters() {
        let accountType = $scope.filters.AccountType.Value;
        if (accountType && typeof accountType === 'string' && accountType.indexOf('(') >= 0) accountType = '';
        $scope.selectedAccountType = accountType;

        if ($scope.LoadFilterState_) {
            $scope.selectedAccountType = accountType;
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $scope.getData_AccountType()
        ]);

        $rootScope.LoadFilterState('SubAccounts', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.downloadSchema = async function () { }

    $scope.uploadClick = async function () { }

    $scope.exportList = async function () { }

    $scope.initialize_Page();
});

angular.module('app.erp').controller('SupplierCategoriesCtrl', function ($rootScope, $scope, Utility_ERP, SupplierCategories_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = SupplierCategories_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('SupplierCategories', $scope);
    };

    ;

    async function Override_some_Filters() {
        if ($scope.LoadFilterState_) {
            // No special overrides needed for this simple case
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('SupplierCategories', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});




angular.module('app.erp').controller('SurveyRequestsCtrl', function ($rootScope, $scope, Utility_ERP, SurveyRequests_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'Branch', Operator: 'in', Value: '' },
        Category: { PropertyName: 'CategoryCode', Operator: 'in', Value: '' },
        BusinessLine: { PropertyName: 'BusinessLineCode', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedCategory = '';
    $scope.selectedBusinessLine = '';

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_Category = [];
    $scope.data_BusinessLine = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = SurveyRequests_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Name', 'Name', 'Name', 'Text', true],
            ['Category', 'Category', 'Category', 'Text', true],
            ['Business Line', 'BusinessLine', 'BusinessLine', 'Text', true],
            ['Requested By', 'RequestedBy', 'RequestedBy', 'Text', true],
            ['Status', 'Status', 'Status', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedCategory) {
            $scope.filters.Category.Operator = 'in';
            $scope.filters.Category.Value = Utility_ERP.Value_OperatorIN_($scope.data_Category, 'Code');
        } else {
            $scope.filters.Category.Operator = '=';
            $scope.filters.Category.Value = $scope.selectedCategory;
        }

        if (!$scope.selectedBusinessLine) {
            $scope.filters.BusinessLine.Operator = 'in';
            $scope.filters.BusinessLine.Value = Utility_ERP.Value_OperatorIN_($scope.data_BusinessLine, 'Code');
        } else {
            $scope.filters.BusinessLine.Operator = '=';
            $scope.filters.BusinessLine.Value = $scope.selectedBusinessLine;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('SurveyRequests', $scope);
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_Category = async function () {
        $scope.data_Category = await SurveyRequests_Service.Dropdown_Category();
    };

    $scope.getData_BusinessLine = async function () {
        $scope.data_BusinessLine = await SurveyRequests_Service.Dropdown_BusinessLine();
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let category = $scope.filters.Category.Value;
        if (category && typeof category === 'string' && category.indexOf('(') >= 0) category = '';
        $scope.selectedCategory = category;

        let businessLine = $scope.filters.BusinessLine.Value;
        if (businessLine && typeof businessLine === 'string' && businessLine.indexOf('(') >= 0) businessLine = '';
        $scope.selectedBusinessLine = businessLine;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_Category(),
            $scope.getData_BusinessLine()
        ]);

        $rootScope.LoadFilterState('SurveyRequests', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('TaxCategoriesCtrl', function ($rootScope, $scope, Utility_ERP, TaxCategories_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = TaxCategories_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('TaxCategories', $scope);
    };

    ;

    async function Override_some_Filters() {
        // No complex filters to override
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('TaxCategories', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.newForm = async function () {
        // Navigate to new form
    };

    $scope.exportToExcel = async function () {
        // Export to Excel functionality
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('TaxesCtrl', function ($rootScope, $scope, Utility_ERP, Taxes_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = Taxes_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['Type', 'TaxType', 'TaxType', 'Text', true],
            ['Rate %', 'CurrentTaxRatePercentage', 'CurrentTaxRatePercentage', 'Text', true],
            ['', 'Active', 'Active', 'Boolean', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('Taxes', $scope);
    };

    ;

    async function Override_some_Filters() {
        // No additional filter overrides needed for this page
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('Taxes', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.downloadSchema = async function () {
        // TODO: Implement download schema functionality
    };

    $scope.uploadFile = async function () {
        // TODO: Implement upload functionality
    };

    $scope.exportToExcel = async function () {
        // TODO: Implement export to excel functionality
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('TaxInvoiceReconCtrl', function ($rootScope, $scope, Utility_ERP, TaxInvoiceRecon_Service, BusinessRelation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Currency: { PropertyName: 'CurrencyCode', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        DueDateFrom_date: { PropertyName: 'DueDate', Operator: '>=', Value: '' },
        DueDateTo_date: { PropertyName: 'DueDate', Operator: '<=', Value: '' },
        Customer: { PropertyName: 'CustomerID', Operator: '=', Value: '' },
        DueIn: { PropertyName: 'DueIn', Operator: 'in', Value: '' },
        ReasonType: { PropertyName: 'ReasonTypeCode', Operator: 'in', Value: '' },
        Age: { PropertyName: 'Age', Operator: 'in', Value: '' },
        UnPrinted: { PropertyName: 'PrintCount', Operator: '<=', Value: null },
        RequireVATNr: { PropertyName: 'RequireVATNr', Operator: '=', Value: null },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedCurrency = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedDueDateFrom = '';
    $scope.selectedDueDateTo = '';
    $scope.selectedCustomer = '';
    $scope.selectedDueIn = '';
    $scope.selectedReasonType = '';
    $scope.selectedAge = '';
    $scope.selectedUnPrinted = false;
    $scope.selectedRequireVATNr = false;
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_Currency = [];
    $scope.data_BillingAddressNames = [];
    $scope.data_DueIn = [];
    $scope.data_ReasonType = [];
    $scope.data_Age = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = TaxInvoiceRecon_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Invoice #', 'InvoiceNumber', 'InvoiceNumber', 'Text', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['PO#', 'PONumber', 'PONumber', 'Text', true],
            ['Customer', 'Customer', 'Customer', 'Text', true],
            ['Amount Due', 'AmountDue', 'AmountDue', 'Currency', true],
            ['Tax Number', 'TaxNumber', 'TaxNumber', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedCurrency) {
            $scope.filters.Currency.Operator = 'in';
            $scope.filters.Currency.Value = Utility_ERP.Value_OperatorIN_($scope.data_Currency, 'Code');
        } else {
            $scope.filters.Currency.Operator = '=';
            $scope.filters.Currency.Value = $scope.selectedCurrency;
        }

        if (!$scope.selectedDueIn) {
            $scope.filters.DueIn.Operator = 'in';
            $scope.filters.DueIn.Value = Utility_ERP.Value_OperatorIN_($scope.data_DueIn, 'Code');
        } else {
            $scope.filters.DueIn.Operator = '=';
            $scope.filters.DueIn.Value = $scope.selectedDueIn;
        }

        if (!$scope.selectedReasonType) {
            $scope.filters.ReasonType.Operator = 'in';
            $scope.filters.ReasonType.Value = Utility_ERP.Value_OperatorIN_($scope.data_ReasonType, 'Code');
        } else {
            $scope.filters.ReasonType.Operator = '=';
            $scope.filters.ReasonType.Value = $scope.selectedReasonType;
        }

        if (!$scope.selectedAge) {
            $scope.filters.Age.Operator = 'in';
            $scope.filters.Age.Value = Utility_ERP.Value_OperatorIN_($scope.data_Age, 'Code');
        } else {
            $scope.filters.Age.Operator = '=';
            $scope.filters.Age.Value = $scope.selectedAge;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        $scope.filters.DueDateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDueDateFrom);
        $scope.filters.DueDateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDueDateTo);

        $scope.filters.UnPrinted.Value = null;
        if ($scope.selectedUnPrinted) {
            $scope.filters.UnPrinted.Value = 0;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedCustomer'] = $scope.selectedCustomer;
        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;
        $scope.filters['selectedUnPrinted'] = $scope.selectedUnPrinted;

        $rootScope.SaveFilterState('TaxInvoiceRecon', $scope);

        delete $scope.filters['selectedCustomer'];
        delete $scope.filters['selectedShowAll'];
        delete $scope.filters['selectedUnPrinted'];
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.customerSelected = async function (flag = true) {
        // reset
        $scope.data_BillingAddressNames = [];

        if ($rootScope.Not_ValidString($scope.filters.Customer.Value)) {
            if (flag) {
                $scope.showData();
            }
            return;
        }

        $scope.data_BillingAddressNames = await BusinessRelation_Service.GetBusinessRelationBillingAddressNames($scope.filters.Customer.Value);

        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_Currency = async function () {
        $scope.data_Currency = await Finance_Service.Dropdown_Currency();
    };

    $scope.getData_DueIn = async function () {
        $scope.data_DueIn = await Finance_Service.Dropdown_DueIn();
    };

    $scope.getData_ReasonType = async function () {
        $scope.data_ReasonType = await Finance_Service.Dropdown_ReasonType();
    };

    $scope.getData_Age = async function () {
        $scope.data_Age = await Finance_Service.Dropdown_Age();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('TaxInvoice');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let currency = $scope.filters.Currency.Value;
        if (currency && typeof currency === 'string' && currency.indexOf('(') >= 0) currency = '';
        $scope.selectedCurrency = currency;

        let dueIn = $scope.filters.DueIn.Value;
        if (dueIn && typeof dueIn === 'string' && dueIn.indexOf('(') >= 0) dueIn = '';
        $scope.selectedDueIn = dueIn;

        let reasonType = $scope.filters.ReasonType.Value;
        if (reasonType && typeof reasonType === 'string' && reasonType.indexOf('(') >= 0) reasonType = '';
        $scope.selectedReasonType = reasonType;

        let age = $scope.filters.Age.Value;
        if (age && typeof age === 'string' && age.indexOf('(') >= 0) age = '';
        $scope.selectedAge = age;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedCustomer = $scope.filters['selectedCustomer'];
            delete $scope.filters['selectedCustomer'];

            await $scope.customerSelected(false);

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];

            $scope.selectedUnPrinted = $scope.filters['selectedUnPrinted'];
            delete $scope.filters['selectedUnPrinted'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_Currency(),
            $scope.getData_DueIn(),
            $scope.getData_ReasonType(),
            $scope.getData_Age(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('TaxInvoiceRecon', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});


angular.module('app.erp').controller('TaxZonesCtrl', function ($rootScope, $scope, Utility_ERP, TaxZones_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    $scope.selectedActive = null;

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = TaxZones_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        $scope.filters.Active.Value = $scope.selectedActive;

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('TaxZones', $scope);
    };

    

    async function Override_some_Filters() {
        if ($scope.LoadFilterState_) {
            $scope.selectedActive = $scope.filters.Active.Value;
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('TaxZones', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('TrialBalanceCtrl', function ($rootScope, $scope, Utility_ERP, TrialBalance_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'Branch', Operator: 'in', Value: '' },
        Year: { PropertyName: 'Year', Operator: '=', Value: null },
        Period: { PropertyName: 'Period', Operator: '=', Value: null }
    };

    $scope.selectedBranch = '';

    $scope.data_EmployeeLocationAccess = [];

    // Dropdown options for Year
    $scope.yearOptions = [
        { Value: null, Text: 'All' }
    ];

    // Generate year options (current year and 5 years back/forward)
    (function generateYearOptions() {
        const currentYear = new Date().getFullYear();
        for (let i = -5; i <= 5; i++) {
            const year = currentYear + i;
            $scope.yearOptions.push({ Value: year, Text: year.toString() });
        }
    })();

    // Dropdown options for Period (1-12 for months)
    $scope.periodOptions = [
        { Value: null, Text: 'All' }
    ];

    // Generate period options (months 1-12)
    (function generatePeriodOptions() {
        const monthNames = ['January', 'February', 'March', 'April', 'May', 'June',
            'July', 'August', 'September', 'October', 'November', 'December'];
        for (let i = 1; i <= 12; i++) {
            $scope.periodOptions.push({ Value: i, Text: i + ' - ' + monthNames[i - 1] });
        }
    })();

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = TrialBalance_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Account', 'Account', 'Account', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['Opening (Debet)', 'OpeningDebet', 'OpeningDebet', 'Currency', true],
            ['Opening (Credit)', 'OpeningCredit', 'OpeningCredit', 'Currency', true],
            ['Change (Debet)', 'ChangeDebet', 'ChangeDebet', 'Currency', true],
            ['Change (Credit)', 'ChangeCredit', 'ChangeCredit', 'Currency', true],
            ['Ending (Debet)', 'EndingDebet', 'EndingDebet', 'Currency', true],
            ['Ending (Credit)', 'EndingCredit', 'EndingCredit', 'Currency', true]
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('TrialBalance', $scope);
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, '')
        ]);

        $rootScope.LoadFilterState('TrialBalance', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    // Toolbar functions
    $scope.reProcessGL = async function () {
        // TODO: Implement Re-Process GL logic
        console.log('Re-Process GL clicked');
    };

    $scope.closePeriod = async function () {
        // TODO: Implement Close Period logic
        console.log('Close Period clicked');
    };

    $scope.downloadSchema = async function () {
        // TODO: Implement Download Schema logic
        console.log('Download Schema clicked');
    };

    $scope.uploadData = async function () {
        // TODO: Implement Upload logic
        console.log('Upload clicked');
    };

    $scope.exportToExcel = async function () {
        // TODO: Implement Export to Excel logic
        console.log('Export to Excel clicked');
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('VATBalanceCtrl', function ($rootScope, $scope, Utility_ERP, VATBalance_Service, Inventory_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Category: { PropertyName: 'CategoryCode', Operator: 'in', Value: '' },
        Brand: { PropertyName: 'BrandCode', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedCategory = '';
    $scope.selectedBrand = '';

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_Category = [];
    $scope.data_Brand = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = VATBalance_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Item Code', 'ItemCode', 'ItemCode', 'Text', true],
            ['Item Name', 'ItemName', 'ItemName', 'Text', true],
            ['Brand', 'Brand', 'Brand', 'Text', true],
            ['Category', 'Category', 'Category', 'Text', true],
            ['Stock', 'Stock', 'Stock', 'Number', true],
            ['Value', 'Value', 'Value', 'Currency', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedCategory) {
            $scope.filters.Category.Operator = 'in';
            $scope.filters.Category.Value = Utility_ERP.Value_OperatorIN_($scope.data_Category, 'Code');
        } else {
            $scope.filters.Category.Operator = '=';
            $scope.filters.Category.Value = $scope.selectedCategory;
        }

        if (!$scope.selectedBrand) {
            $scope.filters.Brand.Operator = 'in';
            $scope.filters.Brand.Value = Utility_ERP.Value_OperatorIN_($scope.data_Brand, 'Code');
        } else {
            $scope.filters.Brand.Operator = '=';
            $scope.filters.Brand.Value = $scope.selectedBrand;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('VATBalance', $scope);
    };

    $scope.Branch_Changed = async function () {
        // reset
        $scope.selectedCategory = '';
        $scope.selectedBrand = '';

        await $scope.showData();
    };

    $scope.getData_Category = async function () {
        $scope.data_Category = await Inventory_Service.Dropdown_Category();
    };

    $scope.getData_Brand = async function () {
        $scope.data_Brand = await Inventory_Service.Dropdown_Brand();
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let category = $scope.filters.Category.Value;
        if (category && typeof category === 'string' && category.indexOf('(') >= 0) category = '';
        $scope.selectedCategory = category;

        let brand = $scope.filters.Brand.Value;
        if (brand && typeof brand === 'string' && brand.indexOf('(') >= 0) brand = '';
        $scope.selectedBrand = brand;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_Category(),
            $scope.getData_Brand()
        ]);

        $rootScope.LoadFilterState('VATBalance', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.exportList = async function () {
        // Export to Excel implementation
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('VATBalanceMovementCtrl', function ($rootScope, $scope, Utility_ERP, VATBalanceMovement_Service, Inventory_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        ItemCode: { PropertyName: 'ItemCode', Operator: '=', Value: '' },
    };

    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedItemCode = '';

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = VATBalanceMovement_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Date', 'Date', 'Date', 'Date', true],
            ['Item Code', 'ItemCode', 'ItemCode', 'Text', true],
            ['Item Name', 'ItemName', 'ItemName', 'Text', true],
            ['VAT Nr.', 'VATNr', 'VATNr', 'Text', true],
            ['B/R Issuer', 'BRIssuer', 'BRIssuer', 'Text', true],
            ['B/R Subject', 'BRSubject', 'BRSubject', 'Text', true],
            ['In', 'In', 'In', 'Currency', true],
            ['Out', 'Out', 'Out', 'Currency', true],
            ['Balance', 'Balance', 'Balance', 'Currency', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedItemCode'] = $scope.selectedItemCode;

        $rootScope.SaveFilterState('VATBalanceMovement', $scope);

        delete $scope.filters['selectedItemCode'];
    };

    $scope.getData_InventoryItem = function (val) {
        return Inventory_Service.Dropdown_InventoryItem(val);
    };

    ;

    async function Override_some_Filters() {
        if ($scope.LoadFilterState_) {
            $scope.selectedItemCode = $scope.filters['selectedItemCode'];
            delete $scope.filters['selectedItemCode'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('VATBalanceMovement', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.printForm = async function () {
        // Print implementation
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('VATBalancesCtrl', function ($rootScope, $scope, Utility_ERP, VATBalances_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Profile: { PropertyName: 'ProfileCode', Operator: 'in', Value: '' },
        Brand: { PropertyName: 'BrandCode', Operator: 'in', Value: '' },
        Category: { PropertyName: 'CategoryCode', Operator: 'in', Value: '' },
        Year: { PropertyName: 'Year', Operator: 'in', Value: '' },
        Period: { PropertyName: 'Period', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedProfile = '';
    $scope.selectedBrand = '';
    $scope.selectedCategory = '';
    $scope.selectedYear = '';
    $scope.selectedPeriod = '';

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_Profile = [];
    $scope.data_Brand = [];
    $scope.data_Category = [];
    $scope.data_Year = [];
    $scope.data_Period = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = VATBalances_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Item Code', 'ItemCode', 'ItemCode', 'Text', true],
            ['Item Name', 'ItemName', 'ItemName', 'Text', true],
            ['Brand', 'Brand', 'Brand', 'Text', true],
            ['Category', 'Category', 'Category', 'Text', true],
            ['Uom', 'Uom', 'Uom', 'Text', true],
            ['Opening Stock', 'OpeningStock', 'OpeningStock', 'Quantity', true],
            ['Opening Value', 'OpeningValue', 'OpeningValue', 'Currency', true],
            ['Stock In', 'StockIn', 'StockIn', 'Quantity', true],
            ['Value In', 'ValueIn', 'ValueIn', 'Currency', true],
            ['Stock Out', 'StockOut', 'StockOut', 'Quantity', true],
            ['Value Out', 'ValueOut', 'ValueOut', 'Currency', true],
            ['Ending Stock', 'EndingStock', 'EndingStock', 'Quantity', true],
            ['Ending Value', 'EndingValue', 'EndingValue', 'Currency', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedProfile) {
            $scope.filters.Profile.Operator = 'in';
            $scope.filters.Profile.Value = Utility_ERP.Value_OperatorIN_($scope.data_Profile, 'Code');
        } else {
            $scope.filters.Profile.Operator = '=';
            $scope.filters.Profile.Value = $scope.selectedProfile;
        }

        if (!$scope.selectedBrand) {
            $scope.filters.Brand.Operator = 'in';
            $scope.filters.Brand.Value = Utility_ERP.Value_OperatorIN_($scope.data_Brand, 'Code');
        } else {
            $scope.filters.Brand.Operator = '=';
            $scope.filters.Brand.Value = $scope.selectedBrand;
        }

        if (!$scope.selectedCategory) {
            $scope.filters.Category.Operator = 'in';
            $scope.filters.Category.Value = Utility_ERP.Value_OperatorIN_($scope.data_Category, 'Code');
        } else {
            $scope.filters.Category.Operator = '=';
            $scope.filters.Category.Value = $scope.selectedCategory;
        }

        if (!$scope.selectedYear) {
            $scope.filters.Year.Operator = 'in';
            $scope.filters.Year.Value = Utility_ERP.Value_OperatorIN_($scope.data_Year, 'Code');
        } else {
            $scope.filters.Year.Operator = '=';
            $scope.filters.Year.Value = $scope.selectedYear;
        }

        if (!$scope.selectedPeriod) {
            $scope.filters.Period.Operator = 'in';
            $scope.filters.Period.Value = Utility_ERP.Value_OperatorIN_($scope.data_Period, 'Code');
        } else {
            $scope.filters.Period.Operator = '=';
            $scope.filters.Period.Value = $scope.selectedPeriod;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('VATBalances', $scope);
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_Profile = async function () {
        $scope.data_Profile = await VATBalances_Service.Dropdown_Profile();
    };

    $scope.getData_Brand = async function () {
        $scope.data_Brand = await VATBalances_Service.Dropdown_Brand();
    };

    $scope.getData_Category = async function () {
        $scope.data_Category = await VATBalances_Service.Dropdown_Category();
    };

    $scope.getData_Year = async function () {
        $scope.data_Year = await VATBalances_Service.Dropdown_Year();
    };

    $scope.getData_Period = async function () {
        $scope.data_Period = await VATBalances_Service.Dropdown_Period();
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let profile = $scope.filters.Profile.Value;
        if (profile && typeof profile === 'string' && profile.indexOf('(') >= 0) profile = '';
        $scope.selectedProfile = profile;

        let brand = $scope.filters.Brand.Value;
        if (brand && typeof brand === 'string' && brand.indexOf('(') >= 0) brand = '';
        $scope.selectedBrand = brand;

        let category = $scope.filters.Category.Value;
        if (category && typeof category === 'string' && category.indexOf('(') >= 0) category = '';
        $scope.selectedCategory = category;

        let year = $scope.filters.Year.Value;
        if (year && typeof year === 'string' && year.indexOf('(') >= 0) year = '';
        $scope.selectedYear = year;

        let period = $scope.filters.Period.Value;
        if (period && typeof period === 'string' && period.indexOf('(') >= 0) period = '';
        $scope.selectedPeriod = period;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_Profile(),
            $scope.getData_Brand(),
            $scope.getData_Category(),
            $scope.getData_Year(),
            $scope.getData_Period()
        ]);

        $rootScope.LoadFilterState('VATBalances', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.rePostCOGS = async function () {
        // Implementation for Re - Post COGS
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('VATNrRegistrationsCtrl', function ($rootScope, $scope, Utility_ERP, VATNrRegistrations_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Year: { PropertyName: 'Year', Operator: '=', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedYear = '';

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_Years = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = VATNrRegistrations_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Registration Nr.', 'RegistrationNr', 'RegistrationNr', 'Text', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Range Start', 'RangeStart', 'RangeStart', 'Number', true],
            ['Range End', 'RangeEnd', 'RangeEnd', 'Number', true],
            ['Total Active', 'TotalActive', 'TotalActive', 'Number', true],
            ['Total Used', 'TotalUsed', 'TotalUsed', 'Number', true],
            ['Total Disposed', 'TotalDisposed', 'TotalDisposed', 'Number', true],
            ['Total Qty', 'TotalQty', 'TotalQty', 'Number', true],
            ['Issued By', 'IssuedBy', 'IssuedBy', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        $scope.filters.Year.Value = $scope.selectedYear;

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('VATNrRegistrations', $scope);
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_Years = function () {
        // Generate years from current year - 5 to current year + 2
        const currentYear = new Date().getFullYear();
        const startYear = currentYear - 5;
        const endYear = currentYear + 2;

        $scope.data_Years = [];
        for (let year = endYear; year >= startYear; year--) {
            $scope.data_Years.push(year);
        }
    };

    

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
        ]);

        $scope.getData_Years();

        $rootScope.LoadFilterState('VATNrRegistrations', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.disposeRegistration = async function () {
        // TODO: Implement dispose functionality
        const selectedRows = $scope.dt.data.filter(row => row.rowSelected);

        if (selectedRows.length === 0) {
            alert('Please select at least one registration to dispose');
            return;
        }

        // Add dispose logic here
        console.log('Dispose registrations:', selectedRows);
    }

    $scope.initialize_Page();
});
angular.module('app.erp').controller('VATNumbersCtrl', function ($rootScope, $scope, Utility_ERP, VATNumbers_Service, BusinessRelation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.yearOptions = [];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'Branch', Operator: 'in', Value: '' },
        Year: { PropertyName: 'Year', Operator: '=', Value: null },
        BR: { PropertyName: 'BusinessRelationCode', Operator: '=', Value: '' },
        RegistrationNr: { PropertyName: 'RegistrationNumber', Operator: 'contains', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedBR = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // Generate year options (current year ± 5 years)
    $scope.generateYearOptions = function () {
        const currentYear = new Date().getFullYear();
        $scope.yearOptions = [];
        for (let i = currentYear - 5; i <= currentYear + 5; i++) {
            $scope.yearOptions.push({ Value: i, Text: i.toString() });
        }
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = VATNumbers_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Number', 'Number', 'Number', 'Text', true],
            ['Year', 'Year', 'Year', 'Number', true],
            ['AR Nr.', 'ARNr', 'ARNr', 'Text', true],
            ['Issued To', 'IssuedTo', 'IssuedTo', 'Text', true],
            ['Status', 'Status', 'Status', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedBR'] = $scope.selectedBR;
        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('VATNumbers', $scope);

        delete $scope.filters['selectedBR'];
        delete $scope.filters['selectedShowAll'];
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.customerSelected = async function (flag = true) {
        if ($rootScope.Not_ValidString($scope.filters.BR.Value)) {
            if (flag) {
                $scope.showData();
            }
            return;
        }

        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('VATNumber');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedBR = $scope.filters['selectedBR'];
            delete $scope.filters['selectedBR'];

            await $scope.customerSelected(false);

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $scope.generateYearOptions();

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('VATNumbers', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.disposeClick = async function () {
        // Implementation for dispose action
    };

    $scope.closeForm = async function () {
        // Implementation for close action
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('VATReconciliationCtrl', function ($rootScope, $scope, Utility_ERP, VATReconciliation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Year: { PropertyName: 'Year', Operator: '=', Value: null },
        Period: { PropertyName: 'Period', Operator: '=', Value: null },
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
    };

    $scope.selectedYear = null;
    $scope.selectedPeriod = null;
    $scope.selectedBranch = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';

    $scope.data_Year = [];
    $scope.data_Period = [];
    $scope.data_EmployeeLocationAccess = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = VATReconciliation_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Invoice Nr.', 'InvoiceNr', 'InvoiceNr', 'Text', true],
            ['Type', 'Type', 'Type', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Posted Date', 'PostedDate', 'PostedDate', 'Date', true],
            ['B/R', 'BR', 'BR', 'Text', true],
            ['B/R Tax ID', 'BRTaxID', 'BRTaxID', 'Text', true],
            ['Subject Amount', 'SubjectAmount', 'SubjectAmount', 'Currency', true],
            ['VAT Amount In', 'VATAmountIn', 'VATAmountIn', 'Currency', true],
            ['VAT Amount Out', 'VATAmountOut', 'VATAmountOut', 'Currency', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('VATReconciliation', $scope);
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_Year = async function () {
        // Generate years dropdown (current year and previous years)
        const currentYear = new Date().getFullYear();
        $scope.data_Year = [];
        for (let i = 0; i < 10; i++) {
            $scope.data_Year.push({ Value: currentYear - i, Text: (currentYear - i).toString() });
        }
    };

    $scope.getData_Period = async function () {
        // Generate periods dropdown (1-12 for months)
        $scope.data_Period = [];
        for (let i = 1; i <= 12; i++) {
            $scope.data_Period.push({ Value: i, Text: i.toString() });
        }
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_Year(),
            $scope.getData_Period()
        ]);

        $rootScope.LoadFilterState('VATReconciliation', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.exportESPTVATOut = async function () {
        // Export e-SPT VAT Out functionality
    };

    $scope.exportESPTVATIn = async function () {
        // Export e-SPT VAT In functionality
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('VendorPaymentsCtrl', function ($rootScope, $scope, Utility_ERP, VendorPayments_Service, BusinessRelation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        CashAccount: { PropertyName: 'CashAccountCode', Operator: 'in', Value: '' },
        ClearDateFrom_date: { PropertyName: 'ClearDate', Operator: '>=', Value: '' },
        ClearDateTo_date: { PropertyName: 'ClearDate', Operator: '<=', Value: '' },
        PaymentMethod: { PropertyName: 'PaymentMethodCode', Operator: 'in', Value: '' },
        Vendor: { PropertyName: 'VendorID', Operator: '=', Value: '' },
        Age: { PropertyName: 'Age', Operator: 'in', Value: '' },
        UnPrinted: { PropertyName: 'PrintCount', Operator: '<=', Value: null },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedCashAccount = '';
    $scope.selectedClearDateFrom = '';
    $scope.selectedClearDateTo = '';
    $scope.selectedPaymentMethod = '';
    $scope.selectedVendor = '';
    $scope.selectedAge = '';
    $scope.selectedUnPrinted = false;
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_CashAccount = [];
    $scope.data_PaymentMethod = [];
    $scope.data_Age = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = VendorPayments_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Payment#', 'PaymentNumber', 'PaymentNumber', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Cash Account', 'CashAccount', 'CashAccount', 'Text', true],
            ['Method', 'Method', 'Method', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['Cheque Nr', 'ChequeNr', 'ChequeNr', 'Text', true],
            ['Clear Date', 'ClearDate', 'ClearDate', 'Date', true],
            ['Vendor', 'Vendor', 'Vendor', 'Text', true],
            ['Amount', 'Amount', 'Amount', 'Currency', true],
            ['Status', 'Status', 'Status', 'Text', true],
            ['Age', 'Age', 'Age', 'Number', true],
            ['P', 'P', 'P', 'Boolean', true],
            ['R', 'R', 'R', 'Boolean', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedCashAccount) {
            $scope.filters.CashAccount.Operator = 'in';
            $scope.filters.CashAccount.Value = Utility_ERP.Value_OperatorIN_($scope.data_CashAccount, 'Code');
        } else {
            $scope.filters.CashAccount.Operator = '=';
            $scope.filters.CashAccount.Value = $scope.selectedCashAccount;
        }

        if (!$scope.selectedPaymentMethod) {
            $scope.filters.PaymentMethod.Operator = 'in';
            $scope.filters.PaymentMethod.Value = Utility_ERP.Value_OperatorIN_($scope.data_PaymentMethod, 'Code');
        } else {
            $scope.filters.PaymentMethod.Operator = '=';
            $scope.filters.PaymentMethod.Value = $scope.selectedPaymentMethod;
        }

        if (!$scope.selectedAge) {
            $scope.filters.Age.Operator = 'in';
            $scope.filters.Age.Value = Utility_ERP.Value_OperatorIN_($scope.data_Age, 'Code');
        } else {
            $scope.filters.Age.Operator = '=';
            $scope.filters.Age.Value = $scope.selectedAge;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        $scope.filters.ClearDateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedClearDateFrom);
        $scope.filters.ClearDateTo_date.Value = $rootScope.Date_to_DB($scope.selectedClearDateTo);

        $scope.filters.UnPrinted.Value = null;
        if ($scope.selectedUnPrinted) {
            $scope.filters.UnPrinted.Value = 0;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedVendor'] = $scope.selectedVendor;
        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;
        $scope.filters['selectedUnPrinted'] = $scope.selectedUnPrinted;

        $rootScope.SaveFilterState('VendorPayments', $scope);

        delete $scope.filters['selectedVendor'];
        delete $scope.filters['selectedShowAll'];
        delete $scope.filters['selectedUnPrinted'];
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_Vendor = async function (val) {
        return await $rootScope.getData_Vendor(val, $scope);
    };

    $scope.vendorSelected = async function (flag = true) {
        if ($rootScope.Not_ValidString($scope.filters.Vendor.Value)) {
            if (flag) {
                $scope.showData();
            }
            return;
        }

        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_CashAccount = async function () {
        $scope.data_CashAccount = await Finance_Service.Dropdown_CashAccount();
    };

    $scope.getData_PaymentMethod = async function () {
        $scope.data_PaymentMethod = await Finance_Service.Dropdown_PaymentMethod();
    };

    $scope.getData_Age = async function () {
        $scope.data_Age = await Finance_Service.Dropdown_Age();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('VendorPayment');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let cashAccount = $scope.filters.CashAccount.Value;
        if (cashAccount && typeof cashAccount === 'string' && cashAccount.indexOf('(') >= 0) cashAccount = '';
        $scope.selectedCashAccount = cashAccount;

        let paymentMethod = $scope.filters.PaymentMethod.Value;
        if (paymentMethod && typeof paymentMethod === 'string' && paymentMethod.indexOf('(') >= 0) paymentMethod = '';
        $scope.selectedPaymentMethod = paymentMethod;

        let age = $scope.filters.Age.Value;
        if (age && typeof age === 'string' && age.indexOf('(') >= 0) age = '';
        $scope.selectedAge = age;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedVendor = $scope.filters['selectedVendor'];
            delete $scope.filters['selectedVendor'];

            await $scope.vendorSelected(false);

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];

            $scope.selectedUnPrinted = $scope.filters['selectedUnPrinted'];
            delete $scope.filters['selectedUnPrinted'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_CashAccount(),
            $scope.getData_PaymentMethod(),
            $scope.getData_Age(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('VendorPayments', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.printForm = async function () { }

    $scope.exportList = async function () { }

    $scope.voidPayment = async function () { }

    $scope.deletePayment = async function () { }

    $scope.downloadSchema = async function () { }

    $scope.uploadData = async function () { }

    $scope.initialize_Page();
});
angular.module('app.erp').controller('WHReconciliationCtrl', function ($rootScope, $scope, Utility_ERP, WHReconciliation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Year: { PropertyName: 'Year', Operator: '=', Value: null },
        Period: { PropertyName: 'Period', Operator: '=', Value: null },
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        WHTax: { PropertyName: 'WHTaxCode', Operator: 'in', Value: '' },
        Type: { PropertyName: 'TypeCode', Operator: 'in', Value: '' },
    };

    $scope.selectedYear = null;
    $scope.selectedPeriod = null;
    $scope.selectedBranch = '';
    $scope.selectedWHTax = '';
    $scope.selectedType = '';

    $scope.data_Year = [];
    $scope.data_Period = [];
    $scope.data_EmployeeLocationAccess = [];
    $scope.data_WHTax = [];
    $scope.data_Type = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = WHReconciliation_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Year', 'Year', 'Year', 'Number', true],
            ['Period', 'Period', 'Period', 'Number', true],
            ['B/R Tax ID', 'BRTaxID', 'BRTaxID', 'Text', true],
            ['B/R', 'BR', 'BR', 'Text', true],
            ['Tax Nr.', 'TaxNr', 'TaxNr', 'Text', true],
            ['Tax Date', 'TaxDate', 'TaxDate', 'Date', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['Gross Amount', 'GrossAmount', 'GrossAmount', 'Currency', true],
            ['Rate', 'Rate', 'Rate', 'Number', true],
            ['W/H Amount', 'WHAmount', 'WHAmount', 'Currency', true],
            ['Doc Nr.', 'DocNr', 'DocNr', 'Text', true],
            ['Type', 'Type', 'Type', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedWHTax) {
            $scope.filters.WHTax.Operator = 'in';
            $scope.filters.WHTax.Value = Utility_ERP.Value_OperatorIN_($scope.data_WHTax, 'Code');
        } else {
            $scope.filters.WHTax.Operator = '=';
            $scope.filters.WHTax.Value = $scope.selectedWHTax;
        }

        if (!$scope.selectedType) {
            $scope.filters.Type.Operator = 'in';
            $scope.filters.Type.Value = Utility_ERP.Value_OperatorIN_($scope.data_Type, 'Code');
        } else {
            $scope.filters.Type.Operator = '=';
            $scope.filters.Type.Value = $scope.selectedType;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('WHReconciliation', $scope);
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_Year = async function () {
        // Generate years dropdown (current year and previous years)
        const currentYear = new Date().getFullYear();
        $scope.data_Year = [];
        for (let i = 0; i < 10; i++) {
            $scope.data_Year.push({ Value: currentYear - i, Text: (currentYear - i).toString() });
        }
    };

    $scope.getData_Period = async function () {
        // Generate periods dropdown (1-12 for months)
        $scope.data_Period = [];
        for (let i = 1; i <= 12; i++) {
            $scope.data_Period.push({ Value: i, Text: i.toString() });
        }
    };

    $scope.getData_WHTax = async function () {
        $scope.data_WHTax = await WHReconciliation_Service.Dropdown_WHTax();
    };

    $scope.getData_Type = async function () {
        $scope.data_Type = await WHReconciliation_Service.Dropdown_WHReconciliationType();
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let whtax = $scope.filters.WHTax.Value;
        if (whtax && typeof whtax === 'string' && whtax.indexOf('(') >= 0) whtax = '';
        $scope.selectedWHTax = whtax;

        let type = $scope.filters.Type.Value;
        if (type && typeof type === 'string' && type.indexOf('(') >= 0) type = '';
        $scope.selectedType = type;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_Year(),
            $scope.getData_Period(),
            $scope.getData_WHTax(),
            $scope.getData_Type()
        ]);

        $rootScope.LoadFilterState('WHReconciliation', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.exportToExcel = async function () {
        // Export to Excel functionality
    };

    $scope.assignTaxNumber = async function () {
        // Assign Tax Number functionality
    };

    $scope.initialize_Page();
});




// ini file Controller.js


angular.module('app.erp').controller('InterbranchOrdersPurCtrl', function ($rootScope, $scope, Utility_ERP, InterbranchOrdersPur_Service, BusinessRelation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Warehouse: { PropertyName: 'WarehouseCode', Operator: 'in', Value: '' },
        Supplier: { PropertyName: 'SupplierID', Operator: '=', Value: '' },
        OrderTo: { PropertyName: 'OrderToLocationCode', Operator: 'in', Value: '' },
        Consignee: { PropertyName: 'ConsigneeID', Operator: '=', Value: '' },
        ShipTo: { PropertyName: 'ShippingAddressNumber', Operator: '=', Value: null },
        Date: { PropertyName: 'Date', Operator: '=', Value: null },
        Dropship: { PropertyName: 'Dropship', Operator: 'in', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedWarehouse = '';
    $scope.selectedSupplier = '';
    $scope.selectedOrderTo = '';
    $scope.selectedConsignee = '';
    $scope.selectedDropship = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_EmployeeWarehouseAccess = [];
    $scope.data_Warehouse_perBranch = [];
    $scope.data_SupplierShippingAddressNames = [];
    $scope.data_ConsigneeShippingAddressNames = [];
    $scope.data_OrderTo = [];
    $scope.data_Dropship = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = InterbranchOrdersPur_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['PO #', 'PONumber', 'PONumber', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Warehouse', 'Warehouse', 'Warehouse', 'Text', true],
            ['Supplier', 'Supplier', 'Supplier', 'Text', true],
            ['Open Qty', 'OpenQty', 'OpenQty', 'Number', true],
            ['Total Qty', 'TotalQty', 'TotalQty', 'Number', true],
            ['PO Value', 'POValue', 'POValue', 'Currency', true],
            ['Consignee', 'Consignee', 'Consignee', 'Text', true],
            ['Ship To', 'ShipTo', 'ShipTo', 'Text', true],
            ['Required At', 'RequiredAt', 'RequiredAt', 'Date', true],
            ['Notes', 'Notes', 'Notes', 'Text', true],
            ['Status', 'Status', 'Status', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedWarehouse) {
            $scope.filters.Warehouse.Operator = 'in';
            $scope.filters.Warehouse.Value = Utility_ERP.Value_OperatorIN_($scope.data_Warehouse_perBranch, 'Code');
        } else {
            $scope.filters.Warehouse.Operator = '=';
            $scope.filters.Warehouse.Value = $scope.selectedWarehouse;
        }

        if (!$scope.selectedOrderTo) {
            $scope.filters.OrderTo.Operator = 'in';
            $scope.filters.OrderTo.Value = Utility_ERP.Value_OperatorIN_($scope.data_OrderTo, 'Code');
        } else {
            $scope.filters.OrderTo.Operator = '=';
            $scope.filters.OrderTo.Value = $scope.selectedOrderTo;
        }

        if (!$scope.selectedDropship) {
            $scope.filters.Dropship.Operator = 'in';
            $scope.filters.Dropship.Value = Utility_ERP.Value_OperatorIN_($scope.data_Dropship, 'Code');
        } else {
            $scope.filters.Dropship.Operator = '=';
            $scope.filters.Dropship.Value = $scope.selectedDropship;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedSupplier'] = $scope.selectedSupplier;
        $scope.filters['selectedConsignee'] = $scope.selectedConsignee;
        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('InterbranchOrdersPur', $scope);

        delete $scope.filters['selectedSupplier'];
        delete $scope.filters['selectedConsignee'];
        delete $scope.filters['selectedShowAll'];
    };

    $scope.Branch_Changed = async function () {
        // --  untuk Page ini, setiap kali Branch berubah --> maka Warehouse ke posisi "All"
        // reset
        $scope.selectedWarehouse = '';

        $scope.Reorganize_Warehouse();

        await $scope.showData();
    };

    $scope.Reorganize_Warehouse = function () {
        var data = [];

        if (!$scope.selectedBranch) {
            // tanpa Filter Branch
            data = $scope.data_EmployeeWarehouseAccess;
        } else {
            // filter berdasarkan Branch
            data = $scope.data_EmployeeWarehouseAccess.filter(function (e) {
                return e.LocationCode == $scope.selectedBranch;
            });
        }

        $scope.data_Warehouse_perBranch = [...new Map(data.map((item) => [item['Code'], item])).values()].sort((x, y) => x.Code.localeCompare(y.Code));
    };

    $scope.getData_Supplier = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.supplierSelected = async function (flag = true) {
        // reset
        $scope.data_SupplierShippingAddressNames = [];
        $scope.filters.OrderTo.Value = null;

        if ($rootScope.Not_ValidString($scope.filters.Supplier.Value)) {
            if (flag) {
                $scope.showData();
            }

            return;
        }

        $scope.data_SupplierShippingAddressNames = await BusinessRelation_Service.GetBusinessRelationShippingAddressNames($scope.filters.Supplier.Value);

        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_Consignee = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.consigneeSelected = async function (flag = true) {
        // reset
        $scope.data_ConsigneeShippingAddressNames = [];
        $scope.filters.ShipTo.Value = null;

        if ($rootScope.Not_ValidString($scope.filters.Consignee.Value)) {
            if (flag) {
                $scope.showData();
            }

            return;
        }

        $scope.data_ConsigneeShippingAddressNames = await BusinessRelation_Service.GetBusinessRelationShippingAddressNames($scope.filters.Consignee.Value);

        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_OrderTo = async function () {
        $scope.data_OrderTo = await Location_Service.Dropdown_Location();
    };

    $scope.getData_Dropship = async function () {
        $scope.data_Dropship = [
            { Code: true, Name: 'Yes' },
            { Code: false, Name: 'No' }
        ];
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('InterbranchOrder');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let warehouse = $scope.filters.Warehouse.Value;
        if (warehouse && typeof warehouse === 'string' && warehouse.indexOf('(') >= 0) warehouse = '';
        $scope.selectedWarehouse = warehouse;

        let orderTo = $scope.filters.OrderTo.Value;
        if (orderTo && typeof orderTo === 'string' && orderTo.indexOf('(') >= 0) orderTo = '';
        $scope.selectedOrderTo = orderTo;

        let dropship = $scope.filters.Dropship.Value;
        if (dropship && typeof dropship === 'string' && dropship.indexOf('(') >= 0) dropship = '';
        $scope.selectedDropship = dropship;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedSupplier = $scope.filters['selectedSupplier'];
            delete $scope.filters['selectedSupplier'];

            let orderToValue = $scope.filters.OrderTo.Value;
            await $scope.supplierSelected(false);
            $scope.filters.OrderTo.Value = orderToValue;

            $scope.selectedConsignee = $scope.filters['selectedConsignee'];
            delete $scope.filters['selectedConsignee'];

            let shipTo = $scope.filters.ShipTo.Value;
            await $scope.consigneeSelected(false);
            $scope.filters.ShipTo.Value = shipTo;

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $rootScope.EmployeeWarehouseAccess($scope, ''),
            $scope.getData_OrderTo(),
            $scope.getData_Dropship(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('InterbranchOrdersPur', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.Reorganize_Warehouse();

        $scope.showData();
    };

    $scope.printForm = async function () { }

    $scope.exportList = async function () { }

    $scope.closeOrder = async function () { }

    $scope.deliveryOrder = async function () { }

    $scope.pickupOrder = async function () { }

    $scope.voidOrder = async function () { }

    $scope.initialize_Page();
});
angular.module('app.erp').controller('NonPRDemandCtrl', function ($rootScope, $scope, Utility_ERP, NonPRDemand_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Warehouse: { PropertyName: 'WarehouseCode', Operator: 'in', Value: '' }
    };

    $scope.selectedBranch = '';
    $scope.selectedWarehouse = '';

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_EmployeeWarehouseAccess = [];
    $scope.data_Warehouse_perBranch = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = NonPRDemand_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Item Code', 'ItemCode', 'ItemCode', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['Demanded Qty', 'DemandedQty', 'DemandedQty', 'Number', true]
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedWarehouse) {
            $scope.filters.Warehouse.Operator = 'in';
            $scope.filters.Warehouse.Value = Utility_ERP.Value_OperatorIN_($scope.data_Warehouse_perBranch, 'Code');
        } else {
            $scope.filters.Warehouse.Operator = '=';
            $scope.filters.Warehouse.Value = $scope.selectedWarehouse;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('NonPRDemand', $scope);
    };

    $scope.Branch_Changed = async function () {
        // --  untuk Page ini, setiap kali Branch berubah --> maka Warehouse ke posisi "All"
        // reset
        $scope.selectedWarehouse = '';

        $scope.Reorganize_Warehouse();

        await $scope.showData();
    };

    $scope.Reorganize_Warehouse = function () {
        var data = [];

        if (!$scope.selectedBranch) {
            // tanpa Filter Branch
            data = $scope.data_EmployeeWarehouseAccess;
        } else {
            // filter berdasarkan Branch
            data = $scope.data_EmployeeWarehouseAccess.filter(function (e) {
                return e.LocationCode == $scope.selectedBranch;
            });
        }

        $scope.data_Warehouse_perBranch = [...new Map(data.map((item) => [item['Code'], item])).values()].sort((x, y) => x.Code.localeCompare(y.Code));
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let warehouse = $scope.filters.Warehouse.Value;
        if (warehouse && typeof warehouse === 'string' && warehouse.indexOf('(') >= 0) warehouse = '';
        $scope.selectedWarehouse = warehouse;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $rootScope.EmployeeWarehouseAccess($scope, '')
        ]);

        $rootScope.LoadFilterState('NonPRDemand', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.Reorganize_Warehouse();

        $scope.showData();
    };

    $scope.addDemand = async function () {
        // TODO: Implement add demand functionality
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('OutstandingOrdersPurCtrl', function ($rootScope, $scope, Utility_ERP, OutstandingOrdersPur_Service, BusinessRelation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Warehouse: { PropertyName: 'WarehouseCode', Operator: 'in', Value: '' },
        Supplier: { PropertyName: 'SupplierID', Operator: '=', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedWarehouse = '';
    $scope.selectedSupplier = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_EmployeeWarehouseAccess = [];
    $scope.data_Warehouse_perBranch = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = OutstandingOrdersPur_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['PO #', 'PONumber', 'PONumber', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Warehouse', 'Warehouse', 'Warehouse', 'Text', true],
            ['Open Qty', 'OpenQty', 'OpenQty', 'Number', true],
            ['Total Qty', 'TotalQty', 'TotalQty', 'Number', true],
            ['Status', 'Status', 'Status', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedWarehouse) {
            $scope.filters.Warehouse.Operator = 'in';
            $scope.filters.Warehouse.Value = Utility_ERP.Value_OperatorIN_($scope.data_Warehouse_perBranch, 'Code');
        } else {
            $scope.filters.Warehouse.Operator = '=';
            $scope.filters.Warehouse.Value = $scope.selectedWarehouse;
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedSupplier'] = $scope.selectedSupplier;
        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('OutstandingOrdersPur', $scope);

        delete $scope.filters['selectedSupplier'];
        delete $scope.filters['selectedShowAll'];
    };

    $scope.Branch_Changed = async function () {
        // --  untuk Page ini, setiap kali Branch berubah --> maka Warehouse ke posisi "All"
        // reset
        $scope.selectedWarehouse = '';

        $scope.Reorganize_Warehouse();

        await $scope.showData();
    };

    $scope.Reorganize_Warehouse = function () {
        var data = [];

        if (!$scope.selectedBranch) {
            // tanpa Filter Branch
            data = $scope.data_EmployeeWarehouseAccess;
        } else {
            // filter berdasarkan Branch
            data = $scope.data_EmployeeWarehouseAccess.filter(function (e) {
                return e.LocationCode == $scope.selectedBranch;
            });
        }

        $scope.data_Warehouse_perBranch = [...new Map(data.map((item) => [item['Code'], item])).values()].sort((x, y) => x.Code.localeCompare(y.Code));
    };

    $scope.getData_Supplier = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.supplierSelected = async function (flag = true) {
        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('PurchaseOrder');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let warehouse = $scope.filters.Warehouse.Value;
        if (warehouse && typeof warehouse === 'string' && warehouse.indexOf('(') >= 0) warehouse = '';
        $scope.selectedWarehouse = warehouse;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedSupplier = $scope.filters['selectedSupplier'];
            delete $scope.filters['selectedSupplier'];

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $rootScope.EmployeeWarehouseAccess($scope, ''),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('OutstandingOrdersPur', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.Reorganize_Warehouse();

        $scope.showData();
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('OutstandingRequestsCtrl', function ($rootScope, $scope, Utility_ERP, OutstandingRequests_Service) {
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Warehouse: { PropertyName: 'WarehouseCode', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedWarehouse = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_EmployeeWarehouseAccess = [];
    $scope.data_Warehouse_perBranch = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    $scope.CreateTable = function () {
        $scope.dt = OutstandingRequests_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['PR #', 'PRNumber', 'PRNumber', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Branch', 'BranchName', 'BranchName', 'Text', true],
            ['Warehouse', 'WarehouseName', 'WarehouseName', 'Text', true],
            ['Open Qty', 'OpenQty', 'OpenQty', 'Number', true],
            ['Total Qty', 'TotalQty', 'TotalQty', 'Number', true],
            ['Reff. Number', 'ReffNumber', 'ReffNumber', 'Text', true],
            ['Consignee', 'ConsigneeName', 'ConsigneeName', 'Text', true],
            ['Required Date', 'RequiredDate', 'RequiredDate', 'Date', true],
            ['Requested By', 'RequestedByName', 'RequestedByName', 'Text', true],
            ['Status', 'StatusName', 'StatusName', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedWarehouse) {
            $scope.filters.Warehouse.Operator = 'in';
            $scope.filters.Warehouse.Value = Utility_ERP.Value_OperatorIN_($scope.data_Warehouse_perBranch, 'Code');
        } else {
            $scope.filters.Warehouse.Operator = '=';
            $scope.filters.Warehouse.Value = $scope.selectedWarehouse;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('OutstandingRequests', $scope);

        delete $scope.filters['selectedShowAll'];
    };

    $scope.Branch_Changed = async function () {
        $scope.selectedWarehouse = '';
        $scope.Reorganize_Warehouse();
        await $scope.showData();
    };

    $scope.Reorganize_Warehouse = function () {
        var data = [];

        if (!$scope.selectedBranch) {
            data = $scope.data_EmployeeWarehouseAccess;
        } else {
            data = $scope.data_EmployeeWarehouseAccess.filter(function (e) {
                return e.LocationCode == $scope.selectedBranch;
            });
        }

        $scope.data_Warehouse_perBranch = [...new Map(data.map((item) => [item['Code'], item])).values()].sort((x, y) => x.Code.localeCompare(y.Code));
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('PurchaseRequest');

        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let warehouse = $scope.filters.Warehouse.Value;
        if (warehouse && typeof warehouse === 'string' && warehouse.indexOf('(') >= 0) warehouse = '';
        $scope.selectedWarehouse = warehouse;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $rootScope.EmployeeWarehouseAccess($scope, ''),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('OutstandingRequests', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.Reorganize_Warehouse();

        $scope.showData();
    };

    $scope.initialize_Page();
});

angular.module('app.erp').controller('PendingGoodsCtrl', function ($rootScope, $scope, Utility_ERP, PendingGoods_Service, BusinessRelation_Service) {
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Warehouse: { PropertyName: 'WarehouseCode', Operator: 'in', Value: '' },
        Supplier: { PropertyName: 'SupplierID', Operator: '=', Value: '' },
        OrderTo: { PropertyName: 'OrderToAddressNumber', Operator: '=', Value: null },
        Brand: { PropertyName: 'BrandCode', Operator: 'in', Value: '' },
        ItemCode: { PropertyName: 'ItemCode', Operator: '=', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedWarehouse = '';
    $scope.selectedSupplier = '';
    $scope.selectedBrand = '';
    $scope.selectedItemCode = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_EmployeeWarehouseAccess = [];
    $scope.data_Warehouse_perBranch = [];
    $scope.data_OrderToAddressNames = [];
    $scope.data_Brand = [];

    $scope.CreateTable = function () {
        $scope.dt = PendingGoods_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Branch', 'BranchName', 'BranchName', 'Text', true],
            ['Warehouse', 'WarehouseName', 'WarehouseName', 'Text', true],
            ['Supplier', 'SupplierName', 'SupplierName', 'Text', true],
            ['PO Nr.', 'PONr', 'PONr', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Open Qty', 'OpenQty', 'OpenQty', 'Number', true],
            ['Uom', 'Uom', 'Uom', 'Text', true],
            ['On Demand', 'OnDemand', 'OnDemand', 'Boolean', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedWarehouse) {
            $scope.filters.Warehouse.Operator = 'in';
            $scope.filters.Warehouse.Value = Utility_ERP.Value_OperatorIN_($scope.data_Warehouse_perBranch, 'Code');
        } else {
            $scope.filters.Warehouse.Operator = '=';
            $scope.filters.Warehouse.Value = $scope.selectedWarehouse;
        }

        if (!$scope.selectedBrand) {
            $scope.filters.Brand.Operator = 'in';
            $scope.filters.Brand.Value = Utility_ERP.Value_OperatorIN_($scope.data_Brand, 'Code');
        } else {
            $scope.filters.Brand.Operator = '=';
            $scope.filters.Brand.Value = $scope.selectedBrand;
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedSupplier'] = $scope.selectedSupplier;
        $scope.filters['selectedItemCode'] = $scope.selectedItemCode;

        $rootScope.SaveFilterState('PendingGoods', $scope);

        delete $scope.filters['selectedSupplier'];
        delete $scope.filters['selectedItemCode'];
    };

    $scope.Branch_Changed = async function () {
        $scope.selectedWarehouse = '';
        $scope.Reorganize_Warehouse();
        await $scope.showData();
    };

    $scope.Reorganize_Warehouse = function () {
        var data = [];

        if (!$scope.selectedBranch) {
            data = $scope.data_EmployeeWarehouseAccess;
        } else {
            data = $scope.data_EmployeeWarehouseAccess.filter(function (e) {
                return e.LocationCode == $scope.selectedBranch;
            });
        }

        $scope.data_Warehouse_perBranch = [...new Map(data.map((item) => [item['Code'], item])).values()].sort((x, y) => x.Code.localeCompare(y.Code));
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.getData_Item = async function (val) {
        return await $rootScope.getData_Item(val, $scope);
    };

    $scope.supplierSelected = async function (flag = true) {
        $scope.data_OrderToAddressNames = [];
        $scope.filters.OrderTo.Value = null;

        if ($rootScope.Not_ValidString($scope.filters.Supplier.Value)) {
            if (flag) {
                $scope.showData();
            }
            return;
        }

        $scope.data_OrderToAddressNames = await BusinessRelation_Service.GetBusinessRelationOrderToAddressNames($scope.filters.Supplier.Value);

        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_Brand = async function () {
        $scope.data_Brand = await PendingGoods_Service.Dropdown_Brand();
    };

    

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let warehouse = $scope.filters.Warehouse.Value;
        if (warehouse && typeof warehouse === 'string' && warehouse.indexOf('(') >= 0) warehouse = '';
        $scope.selectedWarehouse = warehouse;

        let brand = $scope.filters.Brand.Value;
        if (brand && typeof brand === 'string' && brand.indexOf('(') >= 0) brand = '';
        $scope.selectedBrand = brand;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedSupplier = $scope.filters['selectedSupplier'];
            delete $scope.filters['selectedSupplier'];

            let orderTo = $scope.filters.OrderTo.Value;
            await $scope.supplierSelected(false);
            $scope.filters.OrderTo.Value = orderTo;

            $scope.selectedItemCode = $scope.filters['selectedItemCode'];
            delete $scope.filters['selectedItemCode'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $rootScope.EmployeeWarehouseAccess($scope, ''),
            $scope.getData_Brand()
        ]);

        $rootScope.LoadFilterState('PendingGoods', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.Reorganize_Warehouse();

        $scope.showData();
    };

    $scope.exportList = async function () { }

    $scope.initialize_Page();
});

// ini file Controller.js
angular.module('app.erp').controller('POItemSelectionCtrl', function ($rootScope, $scope, Utility_ERP, POItemSelection_Service, BusinessRelation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.viewByOptions = [
        { Value: null, Text: 'All' },
        { Value: 'item', Text: 'Item' },
        { Value: 'supplier', Text: 'Supplier' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Warehouse: { PropertyName: 'WarehouseCode', Operator: 'in', Value: '' },
        Supplier: { PropertyName: 'SupplierID', Operator: '=', Value: '' },
        OrderTo: { PropertyName: 'OrderToAddressNumber', Operator: '=', Value: null },
        Brand: { PropertyName: 'BrandCode', Operator: 'in', Value: '' },
        ItemCode: { PropertyName: 'ItemCode', Operator: '=', Value: '' },
        ViewBy: { PropertyName: 'ViewBy', Operator: '=', Value: null },
        PONr: { PropertyName: 'PONr', Operator: '=', Value: '' },
        Dropship: { PropertyName: 'Dropship', Operator: '=', Value: null },
    };

    $scope.selectedBranch = '';
    $scope.selectedWarehouse = '';
    $scope.selectedSupplier = '';
    $scope.selectedBrand = '';
    $scope.selectedItemCode = '';

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_EmployeeWarehouseAccess = [];
    $scope.data_Warehouse_perBranch = [];
    $scope.data_OrderToAddressNames = [];
    $scope.data_Brand = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = POItemSelection_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Warehouse', 'Warehouse', 'Warehouse', 'Text', true],
            ['Supplier', 'Supplier', 'Supplier', 'Text', true],
            ['PO Nr.', 'PONr', 'PONr', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Open Qty', 'OpenQty', 'OpenQty', 'Number', true],
            ['Uom', 'Uom', 'Uom', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedWarehouse) {
            $scope.filters.Warehouse.Operator = 'in';
            $scope.filters.Warehouse.Value = Utility_ERP.Value_OperatorIN_($scope.data_Warehouse_perBranch, 'Code');
        } else {
            $scope.filters.Warehouse.Operator = '=';
            $scope.filters.Warehouse.Value = $scope.selectedWarehouse;
        }

        if (!$scope.selectedBrand) {
            $scope.filters.Brand.Operator = 'in';
            $scope.filters.Brand.Value = Utility_ERP.Value_OperatorIN_($scope.data_Brand, 'Code');
        } else {
            $scope.filters.Brand.Operator = '=';
            $scope.filters.Brand.Value = $scope.selectedBrand;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedSupplier'] = $scope.selectedSupplier;
        $scope.filters['selectedItemCode'] = $scope.selectedItemCode;

        $rootScope.SaveFilterState('POItemSelection', $scope);

        delete $scope.filters['selectedSupplier'];
        delete $scope.filters['selectedItemCode'];
    };

    $scope.Branch_Changed = async function () {
        // reset
        $scope.selectedWarehouse = '';

        $scope.Reorganize_Warehouse();

        await $scope.showData();
    };

    $scope.Reorganize_Warehouse = function () {
        var data = [];

        if (!$scope.selectedBranch) {
            // tanpa Filter Branch
            data = $scope.data_EmployeeWarehouseAccess;
        } else {
            // filter berdasarkan Branch
            data = $scope.data_EmployeeWarehouseAccess.filter(function (e) {
                return e.LocationCode == $scope.selectedBranch;
            });
        }

        $scope.data_Warehouse_perBranch = [...new Map(data.map((item) => [item['Code'], item])).values()].sort((x, y) => x.Code.localeCompare(y.Code));
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.supplierSelected = async function (flag = true) {
        // reset
        $scope.data_OrderToAddressNames = [];
        $scope.filters.OrderTo.Value = null;

        if ($rootScope.Not_ValidString($scope.filters.Supplier.Value)) {
            if (flag) {
                $scope.showData();
            }

            return;
        }

        $scope.data_OrderToAddressNames = await BusinessRelation_Service.GetBusinessRelationBillingAddressNames($scope.filters.Supplier.Value);

        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_Brand = async function () {
        $scope.data_Brand = await POItemSelection_Service.Dropdown_Brand();
    };

    $scope.getData_InventoryItem = async function (val) {
        return await $rootScope.getData_InventoryItem(val, $scope);
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let warehouse = $scope.filters.Warehouse.Value;
        if (warehouse && typeof warehouse === 'string' && warehouse.indexOf('(') >= 0) warehouse = '';
        $scope.selectedWarehouse = warehouse;

        let brand = $scope.filters.Brand.Value;
        if (brand && typeof brand === 'string' && brand.indexOf('(') >= 0) brand = '';
        $scope.selectedBrand = brand;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedSupplier = $scope.filters['selectedSupplier'];
            delete $scope.filters['selectedSupplier'];

            let orderTo = $scope.filters.OrderTo.Value;
            await $scope.supplierSelected(false);
            $scope.filters.OrderTo.Value = orderTo;

            $scope.selectedItemCode = $scope.filters['selectedItemCode'];
            delete $scope.filters['selectedItemCode'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $rootScope.EmployeeWarehouseAccess($scope, ''),
            $scope.getData_Brand()
        ]);

        $rootScope.LoadFilterState('POItemSelection', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.Reorganize_Warehouse();

        $scope.showData();
    };

    $scope.addClick = async function () {
        // Implementation for Add
    };

    $scope.initialize_Page();
});
// ini file Controller.js
angular.module('app.erp').controller('PReceiptItemSelectionCtrl', function ($rootScope, $scope, Utility_ERP, PReceiptItemSelection_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Warehouse: { PropertyName: 'WarehouseCode', Operator: 'in', Value: '' },
        Supplier: { PropertyName: 'SupplierID', Operator: '=', Value: '' },
        ReturnTo: { PropertyName: 'ReturnToCode', Operator: 'in', Value: '' },
        Consignee: { PropertyName: 'ConsigneeID', Operator: '=', Value: '' },
        PickupFrom: { PropertyName: 'PickupFromCode', Operator: 'in', Value: '' },
        ReceiptNr: { PropertyName: 'ReceiptNr', Operator: 'like', Value: '' }
    };

    $scope.selectedBranch = '';
    $scope.selectedWarehouse = '';
    $scope.selectedSupplier = '';
    $scope.selectedReturnTo = '';
    $scope.selectedConsignee = '';
    $scope.selectedPickupFrom = '';

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_EmployeeWarehouseAccess = [];
    $scope.data_Warehouse_perBranch = [];
    $scope.data_ReturnTo = [];
    $scope.data_PickupFrom = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = PReceiptItemSelection_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Warehouse', 'Warehouse', 'Warehouse', 'Text', true],
            ['Supplier', 'Supplier', 'Supplier', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['Qty', 'Qty', 'Qty', 'Number', true],
            ['Uom', 'Uom', 'Uom', 'Text', true]
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedWarehouse) {
            $scope.filters.Warehouse.Operator = 'in';
            $scope.filters.Warehouse.Value = Utility_ERP.Value_OperatorIN_($scope.data_Warehouse_perBranch, 'Code');
        } else {
            $scope.filters.Warehouse.Operator = '=';
            $scope.filters.Warehouse.Value = $scope.selectedWarehouse;
        }

        if (!$scope.selectedReturnTo) {
            $scope.filters.ReturnTo.Operator = 'in';
            $scope.filters.ReturnTo.Value = Utility_ERP.Value_OperatorIN_($scope.data_ReturnTo, 'Code');
        } else {
            $scope.filters.ReturnTo.Operator = '=';
            $scope.filters.ReturnTo.Value = $scope.selectedReturnTo;
        }

        if (!$scope.selectedPickupFrom) {
            $scope.filters.PickupFrom.Operator = 'in';
            $scope.filters.PickupFrom.Value = Utility_ERP.Value_OperatorIN_($scope.data_PickupFrom, 'Code');
        } else {
            $scope.filters.PickupFrom.Operator = '=';
            $scope.filters.PickupFrom.Value = $scope.selectedPickupFrom;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedSupplier'] = $scope.selectedSupplier;
        $scope.filters['selectedConsignee'] = $scope.selectedConsignee;

        $rootScope.SaveFilterState('PReceiptItemSelection', $scope);

        delete $scope.filters['selectedSupplier'];
        delete $scope.filters['selectedConsignee'];
    };

    $scope.Branch_Changed = async function () {
        // --  untuk Page ini, setiap kali Branch berubah --> maka Warehouse ke posisi "All"
        // reset
        $scope.selectedWarehouse = '';

        $scope.Reorganize_Warehouse();

        await $scope.showData();
    };

    $scope.Reorganize_Warehouse = function () {
        var data = [];

        if (!$scope.selectedBranch) {
            // tanpa Filter Branch
            data = $scope.data_EmployeeWarehouseAccess;
        } else {
            // filter berdasarkan Branch
            data = $scope.data_EmployeeWarehouseAccess.filter(function (e) {
                return e.LocationCode == $scope.selectedBranch;
            });
        }

        $scope.data_Warehouse_perBranch = [...new Map(data.map((item) => [item['Code'], item])).values()].sort((x, y) => x.Code.localeCompare(y.Code));
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.getData_ReturnTo = async function () {
        $scope.data_ReturnTo = await PReceiptItemSelection_Service.Dropdown_ReturnTo();
    };

    $scope.getData_PickupFrom = async function () {
        $scope.data_PickupFrom = await PReceiptItemSelection_Service.Dropdown_PickupFrom();
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let warehouse = $scope.filters.Warehouse.Value;
        if (warehouse && typeof warehouse === 'string' && warehouse.indexOf('(') >= 0) warehouse = '';
        $scope.selectedWarehouse = warehouse;

        let returnTo = $scope.filters.ReturnTo.Value;
        if (returnTo && typeof returnTo === 'string' && returnTo.indexOf('(') >= 0) returnTo = '';
        $scope.selectedReturnTo = returnTo;

        let pickupFrom = $scope.filters.PickupFrom.Value;
        if (pickupFrom && typeof pickupFrom === 'string' && pickupFrom.indexOf('(') >= 0) pickupFrom = '';
        $scope.selectedPickupFrom = pickupFrom;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedSupplier = $scope.filters['selectedSupplier'];
            delete $scope.filters['selectedSupplier'];

            $scope.selectedConsignee = $scope.filters['selectedConsignee'];
            delete $scope.filters['selectedConsignee'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $rootScope.EmployeeWarehouseAccess($scope, ''),
            $scope.getData_ReturnTo(),
            $scope.getData_PickupFrom()
        ]);

        $rootScope.LoadFilterState('PReceiptItemSelection', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.Reorganize_Warehouse();

        $scope.showData();
    };

    $scope.addItems = async function () {
        // TODO: Implement add items functionality
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('PReturnVerificationCtrl', function ($rootScope, $scope, Utility_ERP, PReturnVerification_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        ReceivedDate_date: { PropertyName: 'ReceivedDate', Operator: '=', Value: '' },
        Receiver: { PropertyName: 'ReceiverID', Operator: '=', Value: '' },
    };

    $scope.selectedReceivedDate = '';
    $scope.selectedReceiver = '';

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = PReturnVerification_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Item Code', 'ItemCode', 'ItemCode', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['Receipt Nr.', 'ReceiptNr', 'ReceiptNr', 'Text', true],
            ['Qty', 'Qty1', 'Qty1', 'Number', true],
            ['Uom', 'Uom1', 'Uom1', 'Text', true],
            ['Qty', 'Qty2', 'Qty2', 'Number', true],
            ['Uom', 'Uom2', 'Uom2', 'Text', true],
            ['Qty', 'Qty3', 'Qty3', 'Number', true],
            ['Uom', 'Uom3', 'Uom3', 'Text', true],
            ['Action', 'Action', 'Action', 'Text', true],
            ['Notes', 'Notes', 'Notes', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        $scope.filters.ReceivedDate_date.Value = $rootScope.Date_to_DB($scope.selectedReceivedDate);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedReceiver'] = $scope.selectedReceiver;

        $rootScope.SaveFilterState('PReturnVerification', $scope);

        delete $scope.filters['selectedReceiver'];
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    ;

    async function Override_some_Filters() {
        if ($scope.LoadFilterState_) {
            $scope.selectedReceiver = $scope.filters['selectedReceiver'];
            delete $scope.filters['selectedReceiver'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('PReturnVerification', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.verifyReturn = async function () {
        // Implementation for Verify Return
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('PRPOReconCtrl', function ($rootScope, $scope, Utility_ERP, PRPORecon_Service, BusinessRelation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Warehouse: { PropertyName: 'WarehouseCode', Operator: 'in', Value: '' },
        Type: { PropertyName: 'TypeCode', Operator: 'in', Value: '' },
        ReasonNr: { PropertyName: 'ReasonNumber', Operator: 'contains', Value: '' },
        HideHiddenPR: { PropertyName: 'HideHiddenPR', Operator: '=', Value: null },
        Consignee: { PropertyName: 'ConsigneeID', Operator: '=', Value: '' },
        Brand: { PropertyName: 'BrandCode', Operator: 'in', Value: '' },
        Supplier: { PropertyName: 'SupplierID', Operator: '=', Value: '' },
        PONr: { PropertyName: 'PONumber', Operator: 'contains', Value: '' },
        ShowNonPROnly: { PropertyName: 'ShowNonPROnly', Operator: '=', Value: null },
        PRequestNr: { PropertyName: 'PurchaseRequestNumber', Operator: 'contains', Value: '' },
    };

    $scope.selectedWarehouse = '';
    $scope.selectedType = '';
    $scope.selectedConsignee = '';
    $scope.selectedBrand = '';
    $scope.selectedSupplier = '';

    $scope.data_EmployeeWarehouseAccess = [];
    $scope.data_Type = [];
    $scope.data_Brand = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = PRPORecon_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Warehouse', 'Warehouse', 'Warehouse', 'Text', true],
            ['Supplier', 'Supplier', 'Supplier', 'Text', true],
            ['PO Nr.', 'PONr', 'PONr', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Open Qty', 'OpenQty', 'OpenQty', 'Number', true],
            ['Uom', 'Uom', 'Uom', 'Text', true],
            ['On Demand', 'OnDemand', 'OnDemand', 'Boolean', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedWarehouse) {
            $scope.filters.Warehouse.Operator = 'in';
            $scope.filters.Warehouse.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeWarehouseAccess, 'Code');
        } else {
            $scope.filters.Warehouse.Operator = '=';
            $scope.filters.Warehouse.Value = $scope.selectedWarehouse;
        }

        if (!$scope.selectedType) {
            $scope.filters.Type.Operator = 'in';
            $scope.filters.Type.Value = Utility_ERP.Value_OperatorIN_($scope.data_Type, 'Code');
        } else {
            $scope.filters.Type.Operator = '=';
            $scope.filters.Type.Value = $scope.selectedType;
        }

        if (!$scope.selectedBrand) {
            $scope.filters.Brand.Operator = 'in';
            $scope.filters.Brand.Value = Utility_ERP.Value_OperatorIN_($scope.data_Brand, 'Code');
        } else {
            $scope.filters.Brand.Operator = '=';
            $scope.filters.Brand.Value = $scope.selectedBrand;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedConsignee'] = $scope.selectedConsignee;
        $scope.filters['selectedSupplier'] = $scope.selectedSupplier;

        $rootScope.SaveFilterState('PRPORecon', $scope);

        delete $scope.filters['selectedConsignee'];
        delete $scope.filters['selectedSupplier'];
    };

    $scope.getData_Consignee = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.consigneeSelected = async function (flag = true) {
        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_Supplier = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.supplierSelected = async function (flag = true) {
        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_Type = async function () {
        $scope.data_Type = await PRPORecon_Service.Dropdown_Type();
    };

    $scope.getData_Brand = async function () {
        $scope.data_Brand = await PRPORecon_Service.Dropdown_Brand();
    };

    

    async function Override_some_Filters() {
        let warehouse = $scope.filters.Warehouse.Value;
        if (warehouse && typeof warehouse === 'string' && warehouse.indexOf('(') >= 0) warehouse = '';
        $scope.selectedWarehouse = warehouse;

        let type = $scope.filters.Type.Value;
        if (type && typeof type === 'string' && type.indexOf('(') >= 0) type = '';
        $scope.selectedType = type;

        let brand = $scope.filters.Brand.Value;
        if (brand && typeof brand === 'string' && brand.indexOf('(') >= 0) brand = '';
        $scope.selectedBrand = brand;

        if ($scope.LoadFilterState_) {
            $scope.selectedConsignee = $scope.filters['selectedConsignee'];
            delete $scope.filters['selectedConsignee'];

            $scope.selectedSupplier = $scope.filters['selectedSupplier'];
            delete $scope.filters['selectedSupplier'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeWarehouseAccess($scope, ''),
            $scope.getData_Type(),
            $scope.getData_Brand()
        ]);

        $rootScope.LoadFilterState('PRPORecon', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.linkPRPO = async function () { }

    $scope.hidePR = async function () { }

    $scope.reevaluatePR = async function () { }

    $scope.unlinkPRPO = async function () { }

    $scope.initialize_Page();
});
// ini file Controller.js


angular.module('app.erp').controller('PurchaseContractsCtrl', function ($rootScope, $scope, Utility_ERP, PurchaseContracts_Service, BusinessRelation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Supplier: { PropertyName: 'SupplierID', Operator: '=', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedSupplier = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = PurchaseContracts_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Contract #', 'ContractNumber', 'ContractNumber', 'Text', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Supplier', 'Supplier', 'Supplier', 'Text', true],
            ['Subject', 'Subject', 'Subject', 'Text', true],
            ['Period Start', 'PeriodStart', 'PeriodStart', 'Date', true],
            ['Period End', 'PeriodEnd', 'PeriodEnd', 'Date', true],
            ['Status', 'Status', 'Status', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedSupplier'] = $scope.selectedSupplier;
        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('PurchaseContracts', $scope);

        delete $scope.filters['selectedSupplier'];
        delete $scope.filters['selectedShowAll'];
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_Supplier = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.supplierSelected = async function (flag = true) {
        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('PurchaseContract');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedSupplier = $scope.filters['selectedSupplier'];
            delete $scope.filters['selectedSupplier'];

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('PurchaseContracts', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.createPO = async function () { }

    $scope.voidContract = async function () { }

    $scope.removeContract = async function () { }

    $scope.initialize_Page();
});
angular.module('app.erp').controller('PurchaseDiscountsCtrl', function ($rootScope, $scope, Utility_ERP, PurchaseDiscounts_Service) {
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Supplier: { PropertyName: 'SupplierID', Operator: '=', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedSupplier = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    $scope.CreateTable = function () {
        $scope.dt = PurchaseDiscounts_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code #', 'CodeNumber', 'CodeNumber', 'Text', true],
            ['Branch', 'BranchName', 'BranchName', 'Text', true],
            ['Supplier', 'SupplierName', 'SupplierName', 'Text', true],
            ['Valid From', 'ValidFrom', 'ValidFrom', 'Date', true],
            ['Valid Untill', 'ValidUntill', 'ValidUntill', 'Date', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['Status', 'StatusName', 'StatusName', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedSupplier'] = $scope.selectedSupplier;
        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('PurchaseDiscounts', $scope);

        delete $scope.filters['selectedSupplier'];
        delete $scope.filters['selectedShowAll'];
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('PurchaseDiscount');

        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedSupplier = $scope.filters['selectedSupplier'];
            delete $scope.filters['selectedSupplier'];

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('PurchaseDiscounts', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.voidClick = async function () { }

    $scope.removeClick = async function () { }

    $scope.printList = async function () { }

    $scope.printForm = async function () { }

    $scope.downloadSchema = async function () { }

    $scope.uploadClick = async function () { }

    $scope.initialize_Page();
});



angular.module('app.erp').controller('PurchaseOrdersCtrl', function ($rootScope, $scope, Utility_ERP, PurchaseOrders_Service, BusinessRelation_Service) {
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Warehouse: { PropertyName: 'WarehouseCode', Operator: 'in', Value: '' },
        Supplier: { PropertyName: 'SupplierID', Operator: '=', Value: '' },
        OrderTo: { PropertyName: 'OrderToAddressNumber', Operator: '=', Value: null },
        Consignee: { PropertyName: 'ConsigneeID', Operator: '=', Value: '' },
        ShipTo: { PropertyName: 'ShipToAddressNumber', Operator: '=', Value: null },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        Dropship: { PropertyName: 'Dropship', Operator: '=', Value: null },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedWarehouse = '';
    $scope.selectedSupplier = '';
    $scope.selectedConsignee = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_EmployeeWarehouseAccess = [];
    $scope.data_Warehouse_perBranch = [];
    $scope.data_OrderToAddressNames = [];
    $scope.data_ShipToAddressNames = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    $scope.CreateTable = function () {
        $scope.dt = PurchaseOrders_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['PO #', 'PONumber', 'PONumber', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Warehouse', 'WarehouseName', 'WarehouseName', 'Text', true],
            ['Supplier', 'SupplierName', 'SupplierName', 'Text', true],
            ['Open Qty', 'OpenQty', 'OpenQty', 'Number', true],
            ['Total Qty', 'TotalQty', 'TotalQty', 'Number', true],
            ['PO Value', 'POValue', 'POValue', 'Currency', true],
            ['Consignee', 'ConsigneeName', 'ConsigneeName', 'Text', true],
            ['Ship To', 'ShipToName', 'ShipToName', 'Text', true],
            ['Required At', 'RequiredAt', 'RequiredAt', 'Date', true],
            ['Notes', 'Notes', 'Notes', 'Text', true],
            ['Status', 'StatusName', 'StatusName', 'Text', true],
            ['D', 'Dropship', 'Dropship', 'Boolean', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedWarehouse) {
            $scope.filters.Warehouse.Operator = 'in';
            $scope.filters.Warehouse.Value = Utility_ERP.Value_OperatorIN_($scope.data_Warehouse_perBranch, 'Code');
        } else {
            $scope.filters.Warehouse.Operator = '=';
            $scope.filters.Warehouse.Value = $scope.selectedWarehouse;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedSupplier'] = $scope.selectedSupplier;
        $scope.filters['selectedConsignee'] = $scope.selectedConsignee;
        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('PurchaseOrders', $scope);

        delete $scope.filters['selectedSupplier'];
        delete $scope.filters['selectedConsignee'];
        delete $scope.filters['selectedShowAll'];
    };

    $scope.Branch_Changed = async function () {
        $scope.selectedWarehouse = '';
        $scope.Reorganize_Warehouse();
        await $scope.showData();
    };

    $scope.Reorganize_Warehouse = function () {
        var data = [];

        if (!$scope.selectedBranch) {
            data = $scope.data_EmployeeWarehouseAccess;
        } else {
            data = $scope.data_EmployeeWarehouseAccess.filter(function (e) {
                return e.LocationCode == $scope.selectedBranch;
            });
        }

        $scope.data_Warehouse_perBranch = [...new Map(data.map((item) => [item['Code'], item])).values()].sort((x, y) => x.Code.localeCompare(y.Code));
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.supplierSelected = async function (flag = true) {
        $scope.data_OrderToAddressNames = [];
        $scope.filters.OrderTo.Value = null;

        if ($rootScope.Not_ValidString($scope.filters.Supplier.Value)) {
            if (flag) {
                $scope.showData();
            }
            return;
        }

        $scope.data_OrderToAddressNames = await BusinessRelation_Service.GetBusinessRelationOrderToAddressNames($scope.filters.Supplier.Value);

        if (flag) {
            $scope.showData();
        }
    };

    $scope.consigneeSelected = async function (flag = true) {
        $scope.data_ShipToAddressNames = [];
        $scope.filters.ShipTo.Value = null;

        if ($rootScope.Not_ValidString($scope.filters.Consignee.Value)) {
            if (flag) {
                $scope.showData();
            }
            return;
        }

        $scope.data_ShipToAddressNames = await BusinessRelation_Service.GetBusinessRelationShippingAddressNames($scope.filters.Consignee.Value);

        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('PurchaseOrder');

        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let warehouse = $scope.filters.Warehouse.Value;
        if (warehouse && typeof warehouse === 'string' && warehouse.indexOf('(') >= 0) warehouse = '';
        $scope.selectedWarehouse = warehouse;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedSupplier = $scope.filters['selectedSupplier'];
            delete $scope.filters['selectedSupplier'];

            let orderTo = $scope.filters.OrderTo.Value;
            await $scope.supplierSelected(false);
            $scope.filters.OrderTo.Value = orderTo;

            $scope.selectedConsignee = $scope.filters['selectedConsignee'];
            delete $scope.filters['selectedConsignee'];

            let shipTo = $scope.filters.ShipTo.Value;
            await $scope.consigneeSelected(false);
            $scope.filters.ShipTo.Value = shipTo;

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $rootScope.EmployeeWarehouseAccess($scope, ''),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('PurchaseOrders', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.Reorganize_Warehouse();

        $scope.showData();
    };

    $scope.printForm = async function () { }

    $scope.exportList = async function () { }

    $scope.closeClick = async function () { }

    $scope.deliveryClick = async function () { }

    $scope.pickupClick = async function () { }

    $scope.voidClick = async function () { }

    $scope.initialize_Page();
});

angular.module('app.erp').controller('PurchasePricesCtrl', function ($rootScope, $scope, Utility_ERP, PurchasePrices_Service, BusinessRelation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Brand: { PropertyName: 'BrandCode', Operator: 'in', Value: '' },
        Supplier: { PropertyName: 'SupplierID', Operator: '=', Value: '' },
        Category: { PropertyName: 'CategoryCode', Operator: 'in', Value: '' },
        Currency: { PropertyName: 'CurrencyCode', Operator: 'in', Value: '' },
        EffectiveDate_date: { PropertyName: 'EffectiveDate', Operator: '=', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedBrand = '';
    $scope.selectedSupplier = '';
    $scope.selectedCategory = '';
    $scope.selectedCurrency = '';
    $scope.selectedEffectiveDate = $rootScope.Date_to_UI(new Date());

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_Brand = [];
    $scope.data_Category = [];
    $scope.data_Currency = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = PurchasePrices_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Item #', 'ItemNumber', 'ItemNumber', 'Text', true],
            ['Category', 'Category', 'Category', 'Text', true],
            ['Brand', 'Brand', 'Brand', 'Text', true],
            ['Profile', 'Profile', 'Profile', 'Text', true],
            ['Name', 'Name', 'Name', 'Text', true],
            ['Purchase Uom', 'PurchaseUom', 'PurchaseUom', 'Text', true],
            ['Current Price', 'CurrentPrice', 'CurrentPrice', 'Currency', true],
            ['Valid From', 'ValidFrom', 'ValidFrom', 'Date', true],
            ['New Price', 'NewPrice', 'NewPrice', 'Currency', true],
            ['Inc Tax', 'IncTax', 'IncTax', 'Boolean', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedBrand) {
            $scope.filters.Brand.Operator = 'in';
            $scope.filters.Brand.Value = Utility_ERP.Value_OperatorIN_($scope.data_Brand, 'Code');
        } else {
            $scope.filters.Brand.Operator = '=';
            $scope.filters.Brand.Value = $scope.selectedBrand;
        }

        if (!$scope.selectedCategory) {
            $scope.filters.Category.Operator = 'in';
            $scope.filters.Category.Value = Utility_ERP.Value_OperatorIN_($scope.data_Category, 'Code');
        } else {
            $scope.filters.Category.Operator = '=';
            $scope.filters.Category.Value = $scope.selectedCategory;
        }

        if (!$scope.selectedCurrency) {
            $scope.filters.Currency.Operator = 'in';
            $scope.filters.Currency.Value = Utility_ERP.Value_OperatorIN_($scope.data_Currency, 'Code');
        } else {
            $scope.filters.Currency.Operator = '=';
            $scope.filters.Currency.Value = $scope.selectedCurrency;
        }

        $scope.filters.EffectiveDate_date.Value = $rootScope.Date_to_DB($scope.selectedEffectiveDate);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedSupplier'] = $scope.selectedSupplier;

        $rootScope.SaveFilterState('PurchasePrices', $scope);

        delete $scope.filters['selectedSupplier'];
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_Supplier = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.supplierSelected = async function (flag = true) {
        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_Brand = async function () {
        $scope.data_Brand = await PurchasePrices_Service.Dropdown_Brand();
    };

    $scope.getData_Category = async function () {
        $scope.data_Category = await PurchasePrices_Service.Dropdown_Category();
    };

    $scope.getData_Currency = async function () {
        $scope.data_Currency = await PurchasePrices_Service.Dropdown_Currency();
    };

    

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let brand = $scope.filters.Brand.Value;
        if (brand && typeof brand === 'string' && brand.indexOf('(') >= 0) brand = '';
        $scope.selectedBrand = brand;

        let category = $scope.filters.Category.Value;
        if (category && typeof category === 'string' && category.indexOf('(') >= 0) category = '';
        $scope.selectedCategory = category;

        let currency = $scope.filters.Currency.Value;
        if (currency && typeof currency === 'string' && currency.indexOf('(') >= 0) currency = '';
        $scope.selectedCurrency = currency;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedSupplier = $scope.filters['selectedSupplier'];
            delete $scope.filters['selectedSupplier'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_Brand(),
            $scope.getData_Category(),
            $scope.getData_Currency()
        ]);

        $rootScope.LoadFilterState('PurchasePrices', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.savePrices = async function () { }

    $scope.downloadSchema = async function () { }

    $scope.uploadPrices = async function () { }

    $scope.initialize_Page();
});


angular.module('app.erp').controller('PurchaseReceiptsCtrl', function ($rootScope, $scope, Utility_ERP, PurchaseReceipts_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Warehouse: { PropertyName: 'WarehouseCode', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
        Dropship: { PropertyName: 'Dropship', Operator: '=', Value: null },
    };

    $scope.selectedBranch = '';
    $scope.selectedWarehouse = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_EmployeeWarehouseAccess = [];
    $scope.data_Warehouse_perBranch = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = PurchaseReceipts_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Receipt#', 'ReceiptNumber', 'ReceiptNumber', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Warehouse', 'Warehouse', 'Warehouse', 'Text', true],
            ['Supplier', 'Supplier', 'Supplier', 'Text', true],
            ['Consignee', 'Consignee', 'Consignee', 'Text', true],
            ['Source Type', 'SourceType', 'SourceType', 'Text', true],
            ['DO#', 'DONumber', 'DONumber', 'Text', true],
            ['Total Qty', 'TotalQty', 'TotalQty', 'Number', true],
            ['Notes', 'Notes', 'Notes', 'Text', true],
            ['Status', 'Status', 'Status', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedWarehouse) {
            $scope.filters.Warehouse.Operator = 'in';
            $scope.filters.Warehouse.Value = Utility_ERP.Value_OperatorIN_($scope.data_Warehouse_perBranch, 'Code');
        } else {
            $scope.filters.Warehouse.Operator = '=';
            $scope.filters.Warehouse.Value = $scope.selectedWarehouse;
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('PurchaseReceipts', $scope);

        delete $scope.filters['selectedShowAll'];
    };

    $scope.Branch_Changed = async function () {
        // --  untuk Page ini, setiap kali Branch berubah --> maka Warehouse ke posisi "All"
        // reset
        $scope.selectedWarehouse = '';

        $scope.Reorganize_Warehouse();

        await $scope.showData();
    };

    $scope.Reorganize_Warehouse = function () {
        var data = [];

        if (!$scope.selectedBranch) {
            // tanpa Filter Branch
            data = $scope.data_EmployeeWarehouseAccess;
        } else {
            // filter berdasarkan Branch
            data = $scope.data_EmployeeWarehouseAccess.filter(function (e) {
                return e.LocationCode == $scope.selectedBranch;
            });
        }

        $scope.data_Warehouse_perBranch = [...new Map(data.map((item) => [item['Code'], item])).values()].sort((x, y) => x.Code.localeCompare(y.Code));
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('PurchaseReceipt');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let warehouse = $scope.filters.Warehouse.Value;
        if (warehouse && typeof warehouse === 'string' && warehouse.indexOf('(') >= 0) warehouse = '';
        $scope.selectedWarehouse = warehouse;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $rootScope.EmployeeWarehouseAccess($scope, ''),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('PurchaseReceipts', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.Reorganize_Warehouse();

        $scope.showData();
    };

    $scope.printForm = async function () { }

    $scope.exportList = async function () { }

    $scope.verifyReceipt = async function () { }

    $scope.voidReceipt = async function () { }

    $scope.initialize_Page();
});


angular.module('app.erp').controller('PurchaseRequestItemSelectionCtrl', function ($rootScope, $scope, Utility_ERP, PurchaseRequestItemSelection_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Warehouse: { PropertyName: 'WarehouseCode', Operator: 'in', Value: '' },
        Type: { PropertyName: 'TypeCode', Operator: 'in', Value: '' },
        ReasonNr: { PropertyName: 'ReasonNr', Operator: 'like', Value: '' },
        Consignee: { PropertyName: 'ConsigneeID', Operator: '=', Value: '' },
        ShipTo: { PropertyName: 'ShipToCode', Operator: 'in', Value: '' },
        Supplier: { PropertyName: 'SupplierID', Operator: '=', Value: '' },
        OrderTo: { PropertyName: 'OrderToCode', Operator: 'in', Value: '' },
        Brand: { PropertyName: 'BrandCode', Operator: 'in', Value: '' },
        ItemCode: { PropertyName: 'ItemCode', Operator: '=', Value: '' }
    };

    $scope.selectedBranch = '';
    $scope.selectedWarehouse = '';
    $scope.selectedType = '';
    $scope.selectedConsignee = '';
    $scope.selectedShipTo = '';
    $scope.selectedSupplier = '';
    $scope.selectedOrderTo = '';
    $scope.selectedBrand = '';
    $scope.selectedItemCode = '';

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_EmployeeWarehouseAccess = [];
    $scope.data_Warehouse_perBranch = [];
    $scope.data_Type = [];
    $scope.data_ShipTo = [];
    $scope.data_OrderTo = [];
    $scope.data_Brand = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = PurchaseRequestItemSelection_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Warehouse', 'Warehouse', 'Warehouse', 'Text', true],
            ['Request Type', 'RequestType', 'RequestType', 'Text', true],
            ['Request Nr.', 'RequestNr', 'RequestNr', 'Text', true],
            ['Reason Nr.', 'ReasonNr', 'ReasonNr', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Open Qty', 'OpenQty', 'OpenQty', 'Number', true],
            ['Uom', 'Uom', 'Uom', 'Text', true],
            ['Consignee', 'Consignee', 'Consignee', 'Text', true],
            ['Ship To', 'ShipTo', 'ShipTo', 'Text', true],
            ['Supplier', 'Supplier', 'Supplier', 'Text', true]
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedWarehouse) {
            $scope.filters.Warehouse.Operator = 'in';
            $scope.filters.Warehouse.Value = Utility_ERP.Value_OperatorIN_($scope.data_Warehouse_perBranch, 'Code');
        } else {
            $scope.filters.Warehouse.Operator = '=';
            $scope.filters.Warehouse.Value = $scope.selectedWarehouse;
        }

        if (!$scope.selectedType) {
            $scope.filters.Type.Operator = 'in';
            $scope.filters.Type.Value = Utility_ERP.Value_OperatorIN_($scope.data_Type, 'Code');
        } else {
            $scope.filters.Type.Operator = '=';
            $scope.filters.Type.Value = $scope.selectedType;
        }

        if (!$scope.selectedShipTo) {
            $scope.filters.ShipTo.Operator = 'in';
            $scope.filters.ShipTo.Value = Utility_ERP.Value_OperatorIN_($scope.data_ShipTo, 'Code');
        } else {
            $scope.filters.ShipTo.Operator = '=';
            $scope.filters.ShipTo.Value = $scope.selectedShipTo;
        }

        if (!$scope.selectedOrderTo) {
            $scope.filters.OrderTo.Operator = 'in';
            $scope.filters.OrderTo.Value = Utility_ERP.Value_OperatorIN_($scope.data_OrderTo, 'Code');
        } else {
            $scope.filters.OrderTo.Operator = '=';
            $scope.filters.OrderTo.Value = $scope.selectedOrderTo;
        }

        if (!$scope.selectedBrand) {
            $scope.filters.Brand.Operator = 'in';
            $scope.filters.Brand.Value = Utility_ERP.Value_OperatorIN_($scope.data_Brand, 'Code');
        } else {
            $scope.filters.Brand.Operator = '=';
            $scope.filters.Brand.Value = $scope.selectedBrand;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedConsignee'] = $scope.selectedConsignee;
        $scope.filters['selectedSupplier'] = $scope.selectedSupplier;
        $scope.filters['selectedItemCode'] = $scope.selectedItemCode;

        $rootScope.SaveFilterState('PurchaseRequestItemSelection', $scope);

        delete $scope.filters['selectedConsignee'];
        delete $scope.filters['selectedSupplier'];
        delete $scope.filters['selectedItemCode'];
    };

    $scope.Branch_Changed = async function () {
        // --  untuk Page ini, setiap kali Branch berubah --> maka Warehouse ke posisi "All"
        // reset
        $scope.selectedWarehouse = '';

        $scope.Reorganize_Warehouse();

        await $scope.showData();
    };

    $scope.Reorganize_Warehouse = function () {
        var data = [];

        if (!$scope.selectedBranch) {
            // tanpa Filter Branch
            data = $scope.data_EmployeeWarehouseAccess;
        } else {
            // filter berdasarkan Branch
            data = $scope.data_EmployeeWarehouseAccess.filter(function (e) {
                return e.LocationCode == $scope.selectedBranch;
            });
        }

        $scope.data_Warehouse_perBranch = [...new Map(data.map((item) => [item['Code'], item])).values()].sort((x, y) => x.Code.localeCompare(y.Code));
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.getData_InventoryItem = function (val) {
        return Inventory_Service.Dropdown_InventoryItem2(val);
    };

    $scope.getData_Type = async function () {
        $scope.data_Type = await PurchaseRequestItemSelection_Service.Dropdown_Type();
    };

    $scope.getData_ShipTo = async function () {
        $scope.data_ShipTo = await PurchaseRequestItemSelection_Service.Dropdown_ShipTo();
    };

    $scope.getData_OrderTo = async function () {
        $scope.data_OrderTo = await PurchaseRequestItemSelection_Service.Dropdown_OrderTo();
    };

    $scope.getData_Brand = async function () {
        $scope.data_Brand = await PurchaseRequestItemSelection_Service.Dropdown_Brand();
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let warehouse = $scope.filters.Warehouse.Value;
        if (warehouse && typeof warehouse === 'string' && warehouse.indexOf('(') >= 0) warehouse = '';
        $scope.selectedWarehouse = warehouse;

        let type = $scope.filters.Type.Value;
        if (type && typeof type === 'string' && type.indexOf('(') >= 0) type = '';
        $scope.selectedType = type;

        let shipTo = $scope.filters.ShipTo.Value;
        if (shipTo && typeof shipTo === 'string' && shipTo.indexOf('(') >= 0) shipTo = '';
        $scope.selectedShipTo = shipTo;

        let orderTo = $scope.filters.OrderTo.Value;
        if (orderTo && typeof orderTo === 'string' && orderTo.indexOf('(') >= 0) orderTo = '';
        $scope.selectedOrderTo = orderTo;

        let brand = $scope.filters.Brand.Value;
        if (brand && typeof brand === 'string' && brand.indexOf('(') >= 0) brand = '';
        $scope.selectedBrand = brand;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedConsignee = $scope.filters['selectedConsignee'];
            delete $scope.filters['selectedConsignee'];

            $scope.selectedSupplier = $scope.filters['selectedSupplier'];
            delete $scope.filters['selectedSupplier'];

            $scope.selectedItemCode = $scope.filters['selectedItemCode'];
            delete $scope.filters['selectedItemCode'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $rootScope.EmployeeWarehouseAccess($scope, ''),
            $scope.getData_Type(),
            $scope.getData_ShipTo(),
            $scope.getData_OrderTo(),
            $scope.getData_Brand()
        ]);

        $rootScope.LoadFilterState('PurchaseRequestItemSelection', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.Reorganize_Warehouse();

        $scope.showData();
    };

    $scope.addItems = async function () {
        // TODO: Implement add items functionality
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('PurchaseRequestsCtrl', function ($rootScope, $scope, Utility_ERP, PurchaseRequests_Service, BusinessRelation_Service) {
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        RequestedBy: { PropertyName: 'RequestedBy', Operator: '=', Value: '' },
        Type: { PropertyName: 'TypeCode', Operator: 'in', Value: '' },
        ReasonNr: { PropertyName: 'ReasonNr', Operator: 'contains', Value: '' },
        Consignee: { PropertyName: 'ConsigneeID', Operator: '=', Value: '' },
        ShipTo: { PropertyName: 'ShipToAddressNumber', Operator: '=', Value: null },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedRequestedBy = '';
    $scope.selectedType = '';
    $scope.selectedReasonNr = '';
    $scope.selectedConsignee = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_PurchaseRequestType = [];
    $scope.data_ShipToAddressNames = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    $scope.CreateTable = function () {
        $scope.dt = PurchaseRequests_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['PR #', 'PRNumber', 'PRNumber', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Branch', 'BranchName', 'BranchName', 'Text', true],
            ['Type', 'TypeName', 'TypeName', 'Text', true],
            ['Reason Nr.', 'ReasonNr', 'ReasonNr', 'Text', true],
            ['Open Qty', 'OpenQty', 'OpenQty', 'Number', true],
            ['Total Qty', 'TotalQty', 'TotalQty', 'Number', true],
            ['Consignee', 'ConsigneeName', 'ConsigneeName', 'Text', true],
            ['Ship To', 'ShipToName', 'ShipToName', 'Text', true],
            ['Required At', 'RequiredAt', 'RequiredAt', 'Date', true],
            ['Requester', 'RequesterName', 'RequesterName', 'Text', true],
            ['Status', 'StatusName', 'StatusName', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedType) {
            $scope.filters.Type.Operator = 'in';
            $scope.filters.Type.Value = Utility_ERP.Value_OperatorIN_($scope.data_PurchaseRequestType, 'Code');
        } else {
            $scope.filters.Type.Operator = '=';
            $scope.filters.Type.Value = $scope.selectedType;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        $scope.filters.ReasonNr.Value = $scope.selectedReasonNr;
        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedRequestedBy'] = $scope.selectedRequestedBy;
        $scope.filters['selectedConsignee'] = $scope.selectedConsignee;
        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('PurchaseRequests', $scope);

        delete $scope.filters['selectedRequestedBy'];
        delete $scope.filters['selectedConsignee'];
        delete $scope.filters['selectedShowAll'];
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_User = async function (val) {
        return await $rootScope.getData_User(val, $scope);
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.consigneeSelected = async function (flag = true) {
        $scope.data_ShipToAddressNames = [];
        $scope.filters.ShipTo.Value = null;

        if ($rootScope.Not_ValidString($scope.filters.Consignee.Value)) {
            if (flag) {
                $scope.showData();
            }
            return;
        }

        $scope.data_ShipToAddressNames = await BusinessRelation_Service.GetBusinessRelationShippingAddressNames($scope.filters.Consignee.Value);

        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_PurchaseRequestType = async function () {
        $scope.data_PurchaseRequestType = await PurchaseRequests_Service.Dropdown_PurchaseRequestType();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('PurchaseRequest');

        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let type = $scope.filters.Type.Value;
        if (type && typeof type === 'string' && type.indexOf('(') >= 0) type = '';
        $scope.selectedType = type;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedRequestedBy = $scope.filters['selectedRequestedBy'];
            delete $scope.filters['selectedRequestedBy'];

            $scope.selectedConsignee = $scope.filters['selectedConsignee'];
            delete $scope.filters['selectedConsignee'];

            let shipTo = $scope.filters.ShipTo.Value;
            await $scope.consigneeSelected(false);
            $scope.filters.ShipTo.Value = shipTo;

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_PurchaseRequestType(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('PurchaseRequests', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.printForm = async function () { }

    $scope.closeClick = async function () { }

    $scope.voidClick = async function () { }

    $scope.initialize_Page();
});



angular.module('app.erp').controller('PurchaseReturnsCtrl', function ($rootScope, $scope, Utility_ERP, PurchaseReturns_Service, BusinessRelation_Service) {
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Warehouse: { PropertyName: 'WarehouseCode', Operator: 'in', Value: '' },
        ReturnTo: { PropertyName: 'ReturnToID', Operator: '=', Value: '' },
        ReturnAddress: { PropertyName: 'ReturnAddressNumber', Operator: '=', Value: null },
        PickFrom: { PropertyName: 'PickFromID', Operator: '=', Value: '' },
        PickAddress: { PropertyName: 'PickAddressNumber', Operator: '=', Value: null },
        Reason: { PropertyName: 'ReasonCode', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedWarehouse = '';
    $scope.selectedReturnTo = '';
    $scope.selectedPickFrom = '';
    $scope.selectedReason = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_EmployeeWarehouseAccess = [];
    $scope.data_Warehouse_perBranch = [];
    $scope.data_ReturnAddressNames = [];
    $scope.data_PickAddressNames = [];
    $scope.data_PurchaseReturnReason = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    $scope.CreateTable = function () {
        $scope.dt = PurchaseReturns_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['PR #', 'PRNumber', 'PRNumber', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Branch', 'BranchName', 'BranchName', 'Text', true],
            ['Warehouse', 'WarehouseName', 'WarehouseName', 'Text', true],
            ['Reason', 'ReasonName', 'ReasonName', 'Text', true],
            ['Return To', 'ReturnToName', 'ReturnToName', 'Text', true],
            ['Pick From', 'PickFromName', 'PickFromName', 'Text', true],
            ['Total Qty', 'TotalQty', 'TotalQty', 'Number', true],
            ['Status', 'StatusName', 'StatusName', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedWarehouse) {
            $scope.filters.Warehouse.Operator = 'in';
            $scope.filters.Warehouse.Value = Utility_ERP.Value_OperatorIN_($scope.data_Warehouse_perBranch, 'Code');
        } else {
            $scope.filters.Warehouse.Operator = '=';
            $scope.filters.Warehouse.Value = $scope.selectedWarehouse;
        }

        if (!$scope.selectedReason) {
            $scope.filters.Reason.Operator = 'in';
            $scope.filters.Reason.Value = Utility_ERP.Value_OperatorIN_($scope.data_PurchaseReturnReason, 'Code');
        } else {
            $scope.filters.Reason.Operator = '=';
            $scope.filters.Reason.Value = $scope.selectedReason;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedReturnTo'] = $scope.selectedReturnTo;
        $scope.filters['selectedPickFrom'] = $scope.selectedPickFrom;
        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('PurchaseReturns', $scope);

        delete $scope.filters['selectedReturnTo'];
        delete $scope.filters['selectedPickFrom'];
        delete $scope.filters['selectedShowAll'];
    };

    $scope.Branch_Changed = async function () {
        $scope.selectedWarehouse = '';
        $scope.Reorganize_Warehouse();
        await $scope.showData();
    };

    $scope.Reorganize_Warehouse = function () {
        var data = [];

        if (!$scope.selectedBranch) {
            data = $scope.data_EmployeeWarehouseAccess;
        } else {
            data = $scope.data_EmployeeWarehouseAccess.filter(function (e) {
                return e.LocationCode == $scope.selectedBranch;
            });
        }

        $scope.data_Warehouse_perBranch = [...new Map(data.map((item) => [item['Code'], item])).values()].sort((x, y) => x.Code.localeCompare(y.Code));
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.returnToSelected = async function (flag = true) {
        $scope.data_ReturnAddressNames = [];
        $scope.filters.ReturnAddress.Value = null;

        if ($rootScope.Not_ValidString($scope.filters.ReturnTo.Value)) {
            if (flag) {
                $scope.showData();
            }
            return;
        }

        $scope.data_ReturnAddressNames = await BusinessRelation_Service.GetBusinessRelationReturnAddressNames($scope.filters.ReturnTo.Value);

        if (flag) {
            $scope.showData();
        }
    };

    $scope.pickFromSelected = async function (flag = true) {
        $scope.data_PickAddressNames = [];
        $scope.filters.PickAddress.Value = null;

        if ($rootScope.Not_ValidString($scope.filters.PickFrom.Value)) {
            if (flag) {
                $scope.showData();
            }
            return;
        }

        $scope.data_PickAddressNames = await BusinessRelation_Service.GetBusinessRelationPickAddressNames($scope.filters.PickFrom.Value);

        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_PurchaseReturnReason = async function () {
        $scope.data_PurchaseReturnReason = await PurchaseReturns_Service.Dropdown_PurchaseReturnReason();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('PurchaseReturn');

        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let warehouse = $scope.filters.Warehouse.Value;
        if (warehouse && typeof warehouse === 'string' && warehouse.indexOf('(') >= 0) warehouse = '';
        $scope.selectedWarehouse = warehouse;

        let reason = $scope.filters.Reason.Value;
        if (reason && typeof reason === 'string' && reason.indexOf('(') >= 0) reason = '';
        $scope.selectedReason = reason;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedReturnTo = $scope.filters['selectedReturnTo'];
            delete $scope.filters['selectedReturnTo'];

            let returnAddress = $scope.filters.ReturnAddress.Value;
            await $scope.returnToSelected(false);
            $scope.filters.ReturnAddress.Value = returnAddress;

            $scope.selectedPickFrom = $scope.filters['selectedPickFrom'];
            delete $scope.filters['selectedPickFrom'];

            let pickAddress = $scope.filters.PickAddress.Value;
            await $scope.pickFromSelected(false);
            $scope.filters.PickAddress.Value = pickAddress;

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $rootScope.EmployeeWarehouseAccess($scope, ''),
            $scope.getData_PurchaseReturnReason(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('PurchaseReturns', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.Reorganize_Warehouse();

        $scope.showData();
    };

    $scope.verifyClick = async function () { }

    $scope.refundClick = async function () { }

    $scope.deliveryClick = async function () { }

    $scope.pickupClick = async function () { }

    $scope.voidClick = async function () { }

    $scope.initialize_Page();
});

angular.module('app.erp').controller('ReceiptRevisionCtrl', function ($rootScope, $scope, Utility_ERP, ReceiptRevision_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = ReceiptRevision_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Item Code', 'ItemCode', 'ItemCode', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['Verified Qty', 'VerifiedQty', 'VerifiedQty', 'Number', true],
            ['Revised Qty', 'RevisedQty', 'RevisedQty', 'Number', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('ReceiptRevision', $scope);
    };

    ;

    async function Override_some_Filters() {
        // No special filter overrides needed for this simple page
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('ReceiptRevision', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.verifyRevision = async function () {
        // Implementation for Verify Revision
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('AbcCtrl', function ($rootScope, $scope, Utility_ERP, AddressList_Service) {
    // Dummy data, just for "Table: paging and searching"
});
angular.module('app.erp').controller('AddressListCtrl', function ($rootScope, $scope, Utility_ERP, AddressList_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        //Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Customer: { PropertyName: 'BusinessRelationCode', Operator: '=', Value: '' },
        AddressType: { PropertyName: 'AddressTypeCode', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedCustomer = '';
    $scope.selectedAddressType = '';

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_AddressType = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = AddressList_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Type', 'AddressTypeName', 'AddressTypeName', 'Text', true],
            ['Business Name', 'BusinessName', 'BusinessName', 'Text', true],
            ['Address', 'AddressLine1', 'AddressLine1', 'Text', true],
            ['Region/Area', 'RegionName', 'RegionName', 'Text', true],
            ['Phone', 'Phone', 'Phone', 'Text', true],
            ['Fax', 'Fax', 'Fax', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        // if (!$scope.selectedBranch) {
        //     $scope.filters.Branch.Operator = 'in';
        //     $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        // } else {
        //     $scope.filters.Branch.Operator = '=';
        //     $scope.filters.Branch.Value = $scope.selectedBranch;
        // }

        if (!$scope.selectedAddressType) {
            $scope.filters.AddressType.Operator = 'in';
            $scope.filters.AddressType.Value = Utility_ERP.Value_OperatorIN_($scope.data_AddressType, 'Code');
        } else {
            $scope.filters.AddressType.Operator = '=';
            $scope.filters.AddressType.Value = $scope.selectedAddressType;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedCustomer'] = $scope.selectedCustomer;

        $rootScope.SaveFilterState('AddressList', $scope);

        delete $scope.filters['selectedCustomer'];
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.getData_AddressType = async function () {
        $scope.data_AddressType = await AddressList_Service.Dropdown_AddressType();
    };

    ;

    async function Override_some_Filters() {
        //let branch = $scope.filters.Branch.Value;
        //if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let addressType = $scope.filters.AddressType.Value;
        if (addressType && typeof addressType === 'string' && addressType.indexOf('(') >= 0) addressType = '';
        $scope.selectedAddressType = addressType;

        if ($scope.LoadFilterState_) {
            //$scope.selectedBranch = branch;

            $scope.selectedCustomer = $scope.filters['selectedCustomer'];
            delete $scope.filters['selectedCustomer'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_AddressType()
        ]);

        $rootScope.LoadFilterState('AddressList', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.downloadSchema = async function () {
        Utility_ERP.Still_Processing($scope, true);

        let result = await AddressList_Service.DownloadSchema();

        Utility_ERP.Still_Processing($scope, false);

        if (result.Success) {
            $rootScope.DownloadFile(result.Data, 'AddressList_Schema.xlsx');
        } else {
            $rootScope.Alert_Error(result.Message);
        }
    };

    $scope.uploadData = async function () {
        $rootScope.ShowUploadDialog('AddressList', async function () {
            await $scope.showData();
        });
    };

    $scope.editAddress = async function (row) {
        // Navigate to edit form or show edit modal
        $rootScope.Alert_Info('Edit functionality: ' + row.BusinessName);
    };

    $scope.deleteAddress = async function (row) {
        let confirm = await $rootScope.Confirm_('Delete this address?');
        if (!confirm) return;

        Utility_ERP.Still_Processing($scope, true);

        let result = await AddressList_Service.Delete(row.Id);

        Utility_ERP.Still_Processing($scope, false);

        if (result.Success) {
            $rootScope.Alert_Success('Address deleted successfully');
            await $scope.showData();
        } else {
            $rootScope.Alert_Error(result.Message);
        }
    };

    $scope.initialize_Page();
});
// ini file Controller.js
//
//
angular.module('app.erp').controller('CancelPurchaseCtrl', function ($rootScope, $scope, Utility_ERP, CancelPurchase_Service, BusinessRelation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Warehouse: { PropertyName: 'WarehouseCode', Operator: 'in', Value: '' },
        Customer: { PropertyName: 'CustomerID', Operator: '=', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedWarehouse = '';
    $scope.selectedCustomer = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_EmployeeWarehouseAccess = [];
    $scope.data_Warehouse_perBranch = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = CancelPurchase_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Close Nr #', 'CloseNr', 'CloseNr', 'Text', true],
            ['SO#', 'SO', 'SO', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Warehouse', 'Warehouse', 'Warehouse', 'Text', true],
            ['Customer', 'Customer', 'Customer', 'Text', true],
            ['Issued By', 'IssuedBy', 'IssuedBy', 'Text', true],
            ['Status', 'Status', 'Status', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedWarehouse) {
            $scope.filters.Warehouse.Operator = 'in';
            $scope.filters.Warehouse.Value = Utility_ERP.Value_OperatorIN_($scope.data_Warehouse_perBranch, 'Code');
        } else {
            $scope.filters.Warehouse.Operator = '=';
            $scope.filters.Warehouse.Value = $scope.selectedWarehouse;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedCustomer'] = $scope.selectedCustomer;
        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('CancelPurchase', $scope);

        delete $scope.filters['selectedCustomer'];
        delete $scope.filters['selectedShowAll'];
    };

    $scope.Branch_Changed = async function () {
        // --  untuk Page ini, setiap kali Branch berubah --> maka Warehouse ke posisi "All"
        // reset
        $scope.selectedWarehouse = '';

        $scope.Reorganize_Warehouse();

        await $scope.showData();
    };

    $scope.Reorganize_Warehouse = function () {
        var data = [];

        if (!$scope.selectedBranch) {
            // tanpa Filter Branch
            data = $scope.data_EmployeeWarehouseAccess;
        } else {
            // filter berdasarkan Branch
            data = $scope.data_EmployeeWarehouseAccess.filter(function (e) {
                return e.LocationCode == $scope.selectedBranch;
            });
        }

        $scope.data_Warehouse_perBranch = [...new Map(data.map((item) => [item['Code'], item])).values()].sort((x, y) => x.Code.localeCompare(y.Code));
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.customerSelected = async function (flag = true) {
        if ($rootScope.Not_ValidString($scope.filters.Customer.Value)) {
            if (flag) {
                $scope.showData();
            }

            return;
        }

        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('CancelPurchase');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let warehouse = $scope.filters.Warehouse.Value;
        if (warehouse && typeof warehouse === 'string' && warehouse.indexOf('(') >= 0) warehouse = '';
        $scope.selectedWarehouse = warehouse;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedCustomer = $scope.filters['selectedCustomer'];
            delete $scope.filters['selectedCustomer'];

            await $scope.customerSelected(false);

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $rootScope.EmployeeWarehouseAccess($scope, ''),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('CancelPurchase', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.Reorganize_Warehouse();

        $scope.showData();
    };

    $scope.verifyClick = async function () {
        // Implementasi verify function
    };

    $scope.initialize_Page();
});
// ini file Controller.js
// ini file Controller.js
angular.module('app.erp').controller('CloseOrdersCtrl', function ($rootScope, $scope, Utility_ERP, CloseOrders_Service, BusinessRelation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Warehouse: { PropertyName: 'WarehouseCode', Operator: 'in', Value: '' },
        Customer: { PropertyName: 'CustomerID', Operator: '=', Value: '' },
        Billto: { PropertyName: 'BillingAddressNumber', Operator: '=', Value: null },
        Reason: { PropertyName: 'ReasonCode', Operator: 'in', Value: '' },
        Date_date: { PropertyName: 'Date', Operator: '=', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedWarehouse = '';
    $scope.selectedCustomer = '';
    $scope.selectedReason = '';
    $scope.selectedDate = $rootScope.Date_to_UI(new Date());
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_EmployeeWarehouseAccess = [];
    $scope.data_Warehouse_perBranch = [];
    $scope.data_BillingAddressNames = [];
    $scope.data_Reason = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = CloseOrders_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Close Nr #', 'CloseNr', 'CloseNr', 'Text', true],
            ['Reason', 'Reason', 'Reason', 'Text', true],
            ['SO#', 'SO', 'SO', 'Text', true],
            ['PO#', 'PO', 'PO', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Warehouse', 'Warehouse', 'Warehouse', 'Text', true],
            ['Customer', 'Customer', 'Customer', 'Text', true],
            ['Closed Qty', 'ClosedQty', 'ClosedQty', 'Number', true],
            ['Closed Value', 'ClosedValue', 'ClosedValue', 'Currency', true],
            ['Issued By', 'IssuedBy', 'IssuedBy', 'Text', true],
            ['Status', 'Status', 'Status', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedWarehouse) {
            $scope.filters.Warehouse.Operator = 'in';
            $scope.filters.Warehouse.Value = Utility_ERP.Value_OperatorIN_($scope.data_Warehouse_perBranch, 'Code');
        } else {
            $scope.filters.Warehouse.Operator = '=';
            $scope.filters.Warehouse.Value = $scope.selectedWarehouse;
        }

        if (!$scope.selectedReason) {
            $scope.filters.Reason.Operator = 'in';
            $scope.filters.Reason.Value = Utility_ERP.Value_OperatorIN_($scope.data_Reason, 'Code');
        } else {
            $scope.filters.Reason.Operator = '=';
            $scope.filters.Reason.Value = $scope.selectedReason;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        $scope.filters.Date_date.Value = $rootScope.Date_to_DB($scope.selectedDate);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedCustomer'] = $scope.selectedCustomer;
        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('CloseOrders', $scope);

        delete $scope.filters['selectedCustomer'];
        delete $scope.filters['selectedShowAll'];
    };

    $scope.Branch_Changed = async function () {
        // reset
        $scope.selectedWarehouse = '';

        $scope.Reorganize_Warehouse();

        await $scope.showData();
    };

    $scope.Reorganize_Warehouse = function () {
        var data = [];

        if (!$scope.selectedBranch) {
            // tanpa Filter Branch
            data = $scope.data_EmployeeWarehouseAccess;
        } else {
            // filter berdasarkan Branch
            data = $scope.data_EmployeeWarehouseAccess.filter(function (e) {
                return e.LocationCode == $scope.selectedBranch;
            });
        }

        $scope.data_Warehouse_perBranch = [...new Map(data.map((item) => [item['Code'], item])).values()].sort((x, y) => x.Code.localeCompare(y.Code));
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.customerSelected = async function (flag = true) {
        // reset
        $scope.data_BillingAddressNames = [];
        $scope.filters.Billto.Value = null;

        if ($rootScope.Not_ValidString($scope.filters.Customer.Value)) {
            if (flag) {
                $scope.showData();
            }

            return;
        }

        $scope.data_BillingAddressNames = await BusinessRelation_Service.GetBusinessRelationBillingAddressNames($scope.filters.Customer.Value);

        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_Reason = async function () {
        $scope.data_Reason = await CloseOrders_Service.Dropdown_Reason();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('CloseOrder');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let warehouse = $scope.filters.Warehouse.Value;
        if (warehouse && typeof warehouse === 'string' && warehouse.indexOf('(') >= 0) warehouse = '';
        $scope.selectedWarehouse = warehouse;

        let reason = $scope.filters.Reason.Value;
        if (reason && typeof reason === 'string' && reason.indexOf('(') >= 0) reason = '';
        $scope.selectedReason = reason;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedCustomer = $scope.filters['selectedCustomer'];
            delete $scope.filters['selectedCustomer'];

            let billTo = $scope.filters.Billto.Value;
            await $scope.customerSelected(false);
            $scope.filters.Billto.Value = billTo;

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $rootScope.EmployeeWarehouseAccess($scope, ''),
            $scope.getData_Reason(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('CloseOrders', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.Reorganize_Warehouse();

        $scope.showData();
    };

    $scope.voidClick = async function () { };

    $scope.deleteClick = async function () { };

    $scope.exportList = async function () { };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('CloseRequestMonitoringCtrl', function ($rootScope, $scope, Utility_ERP, CloseRequestMonitoring_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = CloseRequestMonitoring_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['SO Number', 'SONumber', 'SONumber', 'Text', true],
            ['SR Number', 'SRNumber', 'SRNumber', 'Text', true],
            ['Pickup List Number', 'PickupListNumber', 'PickupListNumber', 'Text', true],
            ['Manifest Number', 'ManifestNumber', 'ManifestNumber', 'Text', true],
            ['DO Number', 'DONumber', 'DONumber', 'Text', true],
            ['Invoice Number', 'InvoiceNumber', 'InvoiceNumber', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('CloseRequestMonitoring', $scope);
    };

    

    async function Override_some_Filters() {
        // No additional filters to override for this page
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('CloseRequestMonitoring', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.downloadSchemaClick = async function () { }

    $scope.uploadClick = async function () { }

    $scope.initialize_Page();
});
//
angular.module('app.erp').controller('ContractsCtrl', function ($rootScope, $scope, Utility_ERP, Contracts_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Customer: { PropertyName: 'CustomerID', Operator: '=', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedCustomer = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = Contracts_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Contract #', 'Code', 'Code', 'Text', true],
            ['Branch', 'BranchName', 'Code', 'Text', true],
            ['Customer', 'CustomerName', 'Code', 'Customer', true],
            ['Subject', 'ContractName', 'Code', 'Text', true],
            ['Date', 'Date', 'Code', 'Date', true],
            ['Expired Date', 'ExpiredDate', 'Code', 'Date', true],
            ['Value', 'ContractValue', 'Code', 'Currency', true],
            ['Open Qty', 'TotalOpenQty', 'Code', 'Number', true],
            ['Deposit', 'TotalDeposit', 'Code', 'Currency', true],
            ['Deposit Balance', 'TotalDepositBalance', 'Code', 'Currency', true],
            ['Status', 'StatusName', 'Code', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedCustomer'] = $scope.selectedCustomer;
        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('Contracts', $scope);

        delete $scope.filters['selectedCustomer'];
        delete $scope.filters['selectedShowAll'];
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('Contract');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedCustomer = $scope.filters['selectedCustomer'];
            delete $scope.filters['selectedCustomer'];

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('Contracts', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.printForm = async function () { };

    $scope.exportList = async function () { };

    $scope.voidContract = async function () { };

    $scope.initialize_Page();
});
//
//
angular.module('app.erp').controller('CreditLineCtrl', function ($rootScope, $scope, Utility_ERP, CreditLine_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = CreditLine_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Request #', 'Request', 'Request', 'Text', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Customer', 'Customer', 'Customer', 'Text', true],
            ['Notes', 'Notes', 'Notes', 'Text', true],
            ['Requested By', 'RequestedBy', 'RequestedBy', 'Text', true],
            ['Status', 'Status', 'Status', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('CreditLine', $scope);
    };

    ;

    async function Override_some_Filters() {
        // No additional filters to override for this simple page
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('CreditLine', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.downloadSchema = async function () { };

    $scope.upload = async function () { };

    $scope.initialize_Page();
});
// ini file Controller.js
// ini file Controller.js

//
angular.module('app.erp').controller('CustomerRequestsCtrl', function ($rootScope, $scope, Utility_ERP, CustomerRequests_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = CustomerRequests_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Name', 'Name', 'Name', 'Text', true],
            ['Category', 'Category', 'Category', 'Text', true],
            ['Business Line', 'BusinessLine', 'BusinessLine', 'Text', true],
            ['Requested By', 'RequestedBy', 'RequestedBy', 'Text', true],
            ['Status', 'Status', 'Status', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('CustomerRequests', $scope);
    };

    

    async function Override_some_Filters() {
        // No additional filters to override for this page
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('CustomerRequests', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.requestSurveyClick = async function () { }

    $scope.initialize_Page();
});
// ini file Controller.js
angular.module('app.erp').controller('CustomersCtrl', function ($rootScope, $scope, $state, Utility_ERP, Customers_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        IsCustomer: { PropertyName: 'IsCustomer', Operator: '=', Value: true },
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        BusinessLine: { PropertyName: 'BusinessLine', Operator: '=', Value: '' },
        Title: { PropertyName: 'Title', Operator: '=', Value: '' },
        Category: { PropertyName: 'ClassName', Operator: '=', Value: '' },
        Group: { PropertyName: 'BusinessGroup', Operator: '=', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
        IsSupplier: { PropertyName: 'IsSupplier', Operator: '=', Value: null },
        IsPersonnel: { PropertyName: 'IsPersonnel', Operator: '=', Value: null },
        IsFreightVendor: { PropertyName: 'IsFreightVendor', Operator: '=', Value: null },
        IsBranch: { PropertyName: 'IsBranch', Operator: '=', Value: null },
        IsBaseBranch: { PropertyName: 'IsBaseBranch', Operator: '=', Value: null },
    };

    $scope.selectedBranch = '';
    $scope.selectedBusinessLine = '';
    $scope.selectedTitle = '';
    $scope.selectedCategory = '';
    $scope.selectedGroup = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_BusinessLine = [];
    $scope.data_Title = [];
    $scope.data_Category = [];
    $scope.data_Group = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = Customers_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Name', 'Name', 'Name', 'Text', true],
            ['Category', 'Category', 'Category', 'Text', true],
            ['Title', 'Title', 'Title', 'Text', true],
            ['Group', 'Group', 'Group', 'Text', true],
            ['Business Line', 'BusinessLine', 'BusinessLine', 'Text', true],
            ['Status', 'Status', 'Status', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        // if (!$scope.selectedBusinessLine) {
        //     $scope.filters.BusinessLine.Operator = 'in';
        //     $scope.filters.BusinessLine.Value = Utility_ERP.Value_OperatorIN_($scope.data_BusinessLine, 'Code');
        // } else {
        //     $scope.filters.BusinessLine.Operator = '=';
        //     $scope.filters.BusinessLine.Value = $scope.selectedBusinessLine;
        // }

        // if (!$scope.selectedTitle) {
        //     $scope.filters.Title.Operator = 'in';
        //     $scope.filters.Title.Value = Utility_ERP.Value_OperatorIN_($scope.data_Title, 'Code');
        // } else {
        //     $scope.filters.Title.Operator = '=';
        //     $scope.filters.Title.Value = $scope.selectedTitle;
        // }

        // if (!$scope.selectedCategory) {
        //     $scope.filters.Category.Operator = 'in';
        //     $scope.filters.Category.Value = Utility_ERP.Value_OperatorIN_($scope.data_Category, 'Code');
        // } else {
        //     $scope.filters.Category.Operator = '=';
        //     $scope.filters.Category.Value = $scope.selectedCategory;
        // }
        ////---

        // if (!$scope.selectedGroup) {
        //     $scope.filters.Group.Operator = 'in';
        //     $scope.filters.Group.Value = Utility_ERP.Value_OperatorIN_($scope.data_Group, 'Code');
        // } else {
        //     $scope.filters.Group.Operator = '=';
        //     $scope.filters.Group.Value = $scope.selectedGroup;
        // }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('Customers', $scope);

        delete $scope.filters['selectedShowAll'];
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_BusinessLine = async function () {
        $scope.data_BusinessLine = await Customers_Service.Dropdown_BusinessLine();
    };

    $scope.getData_Title = async function () {
        $scope.data_Title = await Customers_Service.Dropdown_Title();
    };

    $scope.getData_Category = async function () {
        $scope.data_Category = await Customers_Service.Dropdown_Category();
    };

    $scope.getData_Group = async function () {
        $scope.data_Group = await Customers_Service.Dropdown_Group();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('BusinessRelation');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let businessLine = $scope.filters.BusinessLine.Value;
        if (businessLine && typeof businessLine === 'string' && businessLine.indexOf('(') >= 0) businessLine = '';
        $scope.selectedBusinessLine = businessLine;

        let title = $scope.filters.Title.Value;
        if (title && typeof title === 'string' && title.indexOf('(') >= 0) title = '';
        $scope.selectedTitle = title;

        let category = $scope.filters.Category.Value;
        if (category && typeof category === 'string' && category.indexOf('(') >= 0) category = '';
        $scope.selectedCategory = category;

        let group = $scope.filters.Group.Value;
        if (group && typeof group === 'string' && group.indexOf('(') >= 0) group = '';
        $scope.selectedGroup = group;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_BusinessLine(),
            $scope.getData_Title(),
            $scope.getData_Category(),
            $scope.getData_Group(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('Customers', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.voidClick = async function () {
        let selectedRows = $scope.dt.data.filter(function (e) {
            return e.rowSelected == true;
        });

        if (selectedRows.length == 0) {
            $rootScope.Alert_NoRowSelected();
            return;
        }

        let codes = selectedRows.map(function (e) {
            return e.Code;
        });

        let confirm = await $rootScope.Confirm_('Void selected customers?');
        if (!confirm) return;

        Utility_ERP.Still_Processing($scope, true);

        let result = await Customers_Service.Void(codes);

        Utility_ERP.Still_Processing($scope, false);

        if (result.Success) {
            $rootScope.Alert_Success('Customers voided successfully');
            await $scope.showData();
        } else {
            $rootScope.Alert_Error(result.Message);
        }
    };

    $scope.deleteClick = async function () {
        let selectedRows = $scope.dt.data.filter(function (e) {
            return e.rowSelected == true;
        });

        if (selectedRows.length == 0) {
            $rootScope.Alert_NoRowSelected();
            return;
        }

        let codes = selectedRows.map(function (e) {
            return e.Code;
        });

        let confirm = await $rootScope.Confirm_('Delete selected customers?');
        if (!confirm) return;

        Utility_ERP.Still_Processing($scope, true);

        let result = await Customers_Service.Delete(codes);

        Utility_ERP.Still_Processing($scope, false);

        if (result.Success) {
            $rootScope.Alert_Success('Customers deleted successfully');
            await $scope.showData();
        } else {
            $rootScope.Alert_Error(result.Message);
        }
    };

    $scope.downloadSchema = async function () {
        Utility_ERP.Still_Processing($scope, true);

        let result = await Customers_Service.DownloadSchema();

        Utility_ERP.Still_Processing($scope, false);

        if (result.Success) {
            $rootScope.DownloadFile(result.Data, 'Customers_Schema.xlsx');
        } else {
            $rootScope.Alert_Error(result.Message);
        }
    };

    $scope.uploadData = async function () {
        $rootScope.ShowUploadDialog('Customers', async function () {
            await $scope.showData();
        });
    };

    $scope.exportList = async function () {
        Utility_ERP.Still_Processing($scope, true);

        let result = await Customers_Service.ExportToExcel($scope.filters);

        Utility_ERP.Still_Processing($scope, false);

        if (result.Success) {
            $rootScope.DownloadFile(result.Data, 'Customers.xlsx');
        } else {
            $rootScope.Alert_Error(result.Message);
        }
    };

    $scope.synchToCircle = async function () {
        let confirm = await $rootScope.Confirm_('Synchronize customers to Circle?');
        if (!confirm) return;

        Utility_ERP.Still_Processing($scope, true);

        let result = await Customers_Service.SynchToCircle();

        Utility_ERP.Still_Processing($scope, false);

        if (result.Success) {
            $rootScope.Alert_Success('Customers synchronized successfully');
        } else {
            $rootScope.Alert_Error(result.Message);
        }
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('CustomersFormCtrl', function ($rootScope, $scope, $state, Utility_ERP, Customers_Service) {
    $scope.goBack = function (stateName) {
        var currentState = $state.current.name;

        var listState = currentState.replace('Form', '');

        if ($state.get(listState)) {
            $state.go(listState);
        } else {
            $state.go(stateName);
        }
    };
});
// ini file Controller.js
// ini file Controller.js
//
//
// ini file Controller.js
angular.module('app.erp').controller('DropshipShipmentsCtrl', function ($rootScope, $scope, Utility_ERP, DropshipShipments_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Date_date: { PropertyName: 'Date', Operator: '=', Value: '' },
        Type: { PropertyName: 'TypeCode', Operator: 'in', Value: '' },
        Warehouse: { PropertyName: 'WarehouseCode', Operator: 'in', Value: '' },
        PromisedDate_date: { PropertyName: 'PromisedDate', Operator: '=', Value: '' },
        DeliverVia: { PropertyName: 'DeliverViaCode', Operator: 'in', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedDate = $rootScope.Date_to_UI(new Date());
    $scope.selectedType = '';
    $scope.selectedWarehouse = '';
    $scope.selectedPromisedDate = '';
    $scope.selectedDeliverVia = '';
    $scope.selectedShowAll = false;
    $scope.selectedStatus = '';

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_EmployeeWarehouseAccess = [];
    $scope.data_Warehouse_perBranch = [];
    $scope.data_Type = [];
    $scope.data_DeliverVia = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = DropshipShipments_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Request#', 'Request', 'Request', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Type', 'Type', 'Type', 'Text', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Warehouse', 'Warehouse', 'Warehouse', 'Text', true],
            ['Consignee', 'Consignee', 'Consignee', 'Text', true],
            ['Document Nr.', 'DocumentNr', 'DocumentNr', 'Text', true],
            ['Total Qty', 'TotalQty', 'TotalQty', 'Number', true],
            ['Deliver Via', 'DeliverVia', 'DeliverVia', 'Text', true],
            ['Status', 'Status', 'Status', 'Text', true],
            ['Reason', 'Reason', 'Reason', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedWarehouse) {
            $scope.filters.Warehouse.Operator = 'in';
            $scope.filters.Warehouse.Value = Utility_ERP.Value_OperatorIN_($scope.data_Warehouse_perBranch, 'Code');
        } else {
            $scope.filters.Warehouse.Operator = '=';
            $scope.filters.Warehouse.Value = $scope.selectedWarehouse;
        }

        if (!$scope.selectedType) {
            $scope.filters.Type.Operator = 'in';
            $scope.filters.Type.Value = Utility_ERP.Value_OperatorIN_($scope.data_Type, 'Code');
        } else {
            $scope.filters.Type.Operator = '=';
            $scope.filters.Type.Value = $scope.selectedType;
        }

        if (!$scope.selectedDeliverVia) {
            $scope.filters.DeliverVia.Operator = 'in';
            $scope.filters.DeliverVia.Value = Utility_ERP.Value_OperatorIN_($scope.data_DeliverVia, 'Code');
        } else {
            $scope.filters.DeliverVia.Operator = '=';
            $scope.filters.DeliverVia.Value = $scope.selectedDeliverVia;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        $scope.filters.Date_date.Value = $rootScope.Date_to_DB($scope.selectedDate);
        $scope.filters.PromisedDate_date.Value = $rootScope.Date_to_DB($scope.selectedPromisedDate);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('DropshipShipments', $scope);

        delete $scope.filters['selectedShowAll'];
    };

    $scope.Branch_Changed = async function () {
        // --  untuk Page ini, setiap kali Branch berubah --> maka Warehouse ke posisi "All"
        // reset
        $scope.selectedWarehouse = '';

        $scope.Reorganize_Warehouse();

        await $scope.showData();
    };

    $scope.Reorganize_Warehouse = function () {
        var data = [];

        if (!$scope.selectedBranch) {
            // tanpa Filter Branch
            data = $scope.data_EmployeeWarehouseAccess;
        } else {
            // filter berdasarkan Branch
            data = $scope.data_EmployeeWarehouseAccess.filter(function (e) {
                return e.LocationCode == $scope.selectedBranch;
            });
        }

        $scope.data_Warehouse_perBranch = [...new Map(data.map((item) => [item['Code'], item])).values()].sort((x, y) => x.Code.localeCompare(y.Code));
    };

    $scope.getData_Type = async function () {
        $scope.data_Type = await DropshipShipments_Service.Dropdown_Type();
    };

    $scope.getData_DeliverVia = async function () {
        $scope.data_DeliverVia = await DropshipShipments_Service.Dropdown_DeliverVia();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('DropshipShipment');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let warehouse = $scope.filters.Warehouse.Value;
        if (warehouse && typeof warehouse === 'string' && warehouse.indexOf('(') >= 0) warehouse = '';
        $scope.selectedWarehouse = warehouse;

        let type = $scope.filters.Type.Value;
        if (type && typeof type === 'string' && type.indexOf('(') >= 0) type = '';
        $scope.selectedType = type;

        let deliverVia = $scope.filters.DeliverVia.Value;
        if (deliverVia && typeof deliverVia === 'string' && deliverVia.indexOf('(') >= 0) deliverVia = '';
        $scope.selectedDeliverVia = deliverVia;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $rootScope.EmployeeWarehouseAccess($scope, ''),
            $scope.getData_Type(),
            $scope.getData_DeliverVia(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('DropshipShipments', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.Reorganize_Warehouse();

        $scope.showData();
    };

    $scope.createPickingOrder = async function () { };

    $scope.holdShipment = async function () { };

    $scope.releaseHold = async function () { };

    $scope.voidShipment = async function () { };

    $scope.printForm = async function () { };

    $scope.initialize_Page();
});
// ini file Controller.js
// ini file Controller.js
angular.module('app.erp').controller('InterbranchOrdersCtrl', function ($rootScope, $scope, Utility_ERP, InterbranchOrders_Service, BusinessRelation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Warehouse: { PropertyName: 'WarehouseCode', Operator: 'in', Value: '' },
        Customer: { PropertyName: 'CustomerID', Operator: '=', Value: '' },
        Billto: { PropertyName: 'BillingAddressNumber', Operator: '=', Value: null },
        Type: { PropertyName: 'TypeCode', Operator: 'in', Value: '' },
        Date_date: { PropertyName: 'Date', Operator: '=', Value: '' },
        CreatedBy: { PropertyName: 'IssuedBy', Operator: '=', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
        Dropship: { PropertyName: 'Dropship', Operator: '=', Value: null },
        Full: { PropertyName: 'ReservationFull', Operator: '=', Value: null },
        OpenOnly: { PropertyName: 'TotalOpenQty', Operator: '>', Value: null },
        UnPrinted: { PropertyName: 'PrintCount', Operator: '<=', Value: null },
    };

    $scope.selectedBranch = '';
    $scope.selectedWarehouse = '';
    $scope.selectedCustomer = '';
    $scope.selectedType = '';
    $scope.selectedDate = '';
    $scope.selectedCreatedBy = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;
    $scope.selectedOpenOnly = false;
    $scope.selectedUnPrinted = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_EmployeeWarehouseAccess = [];
    $scope.data_Warehouse_perBranch = [];
    $scope.data_BillingAddressNames = [];
    $scope.data_Type = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = InterbranchOrders_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['SO #', 'Code', 'Code', 'Text', true],
            ['PO#', 'PONumber', 'PONumber', 'Text', true],
            ['Type', 'TypeName', 'TypeName', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Branch', 'BranchName', 'BranchName', 'Text', true],
            ['Warehouse', 'WarehouseName', 'WarehouseName', 'Text', true],
            ['Customer', 'CustomerName', 'CustomerName', 'Text', true],
            ['Open', 'TotalOpenQty', 'TotalOpenQty', 'Number', true],
            ['Total Qty', 'TotalQty', 'TotalQty', 'Number', true],
            ['SO Value', 'TotalAmount', 'TotalAmount', 'Currency', true],
            ['R', 'ReserveStock', 'ReserveStock', 'Boolean', true],
            ['Created By', 'IssuedByName', 'IssuedByName', 'Text', true],
            ['Status', 'StatusName', 'StatusName', 'Text', true],
            ['Printed', 'PrintCount', 'PrintCount', 'Number', true],
            ['F', 'ReservationFull', 'ReservationFull', 'Boolean', true],
            ['D', 'Dropship', 'Dropship', 'Boolean', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedWarehouse) {
            $scope.filters.Warehouse.Operator = 'in';
            $scope.filters.Warehouse.Value = Utility_ERP.Value_OperatorIN_($scope.data_Warehouse_perBranch, 'Code');
        } else {
            $scope.filters.Warehouse.Operator = '=';
            $scope.filters.Warehouse.Value = $scope.selectedWarehouse;
        }

        if (!$scope.selectedType) {
            $scope.filters.Type.Operator = 'in';
            $scope.filters.Type.Value = Utility_ERP.Value_OperatorIN_($scope.data_Type, 'Code');
        } else {
            $scope.filters.Type.Operator = '=';
            $scope.filters.Type.Value = $scope.selectedType;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        $scope.filters.Date_date.Value = $rootScope.Date_to_DB($scope.selectedDate);

        $scope.filters.OpenOnly.Value = null;
        if ($scope.selectedOpenOnly) {
            $scope.filters.OpenOnly.Value = 0;
        }

        $scope.filters.UnPrinted.Value = null;
        if ($scope.selectedUnPrinted) {
            $scope.filters.UnPrinted.Value = 0;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedCustomer'] = $scope.selectedCustomer;
        $scope.filters['selectedCreatedBy'] = $scope.selectedCreatedBy;
        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;
        $scope.filters['selectedOpenOnly'] = $scope.selectedOpenOnly;
        $scope.filters['selectedUnPrinted'] = $scope.selectedUnPrinted;

        $rootScope.SaveFilterState('InterbranchOrders', $scope);

        delete $scope.filters['selectedCustomer'];
        delete $scope.filters['selectedCreatedBy'];
        delete $scope.filters['selectedShowAll'];
        delete $scope.filters['selectedOpenOnly'];
        delete $scope.filters['selectedUnPrinted'];
    };

    $scope.Branch_Changed = async function () {
        // reset
        $scope.selectedWarehouse = '';

        $scope.Reorganize_Warehouse();

        await $scope.showData();
    };

    $scope.Reorganize_Warehouse = function () {
        var data = [];

        if (!$scope.selectedBranch) {
            // tanpa Filter Branch
            data = $scope.data_EmployeeWarehouseAccess;
        } else {
            // filter berdasarkan Branch
            data = $scope.data_EmployeeWarehouseAccess.filter(function (e) {
                return e.LocationCode == $scope.selectedBranch;
            });
        }

        $scope.data_Warehouse_perBranch = [...new Map(data.map((item) => [item['Code'], item])).values()].sort((x, y) => x.Code.localeCompare(y.Code));
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.customerSelected = async function (flag = true) {
        // reset
        $scope.data_BillingAddressNames = [];
        $scope.filters.Billto.Value = null;

        if ($rootScope.Not_ValidString($scope.filters.Customer.Value)) {
            if (flag) {
                $scope.showData();
            }

            return;
        }

        $scope.data_BillingAddressNames = await BusinessRelation_Service.GetBusinessRelationBillingAddressNames($scope.filters.Customer.Value);

        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_User = async function (val) {
        return await $rootScope.getData_User(val, $scope);
    };

    $scope.getData_Type = async function () {
        $scope.data_Type = await Utility_ERP.getData_InterbranchOrderType();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('InterbranchOrder');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let warehouse = $scope.filters.Warehouse.Value;
        if (warehouse && typeof warehouse === 'string' && warehouse.indexOf('(') >= 0) warehouse = '';
        $scope.selectedWarehouse = warehouse;

        let type = $scope.filters.Type.Value;
        if (type && typeof type === 'string' && type.indexOf('(') >= 0) type = '';
        $scope.selectedType = type;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedCustomer = $scope.filters['selectedCustomer'];
            delete $scope.filters['selectedCustomer'];

            let billTo = $scope.filters.Billto.Value;
            await $scope.customerSelected(false);
            $scope.filters.Billto.Value = billTo;

            $scope.selectedCreatedBy = $scope.filters['selectedCreatedBy'];
            delete $scope.filters['selectedCreatedBy'];

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];

            $scope.selectedOpenOnly = $scope.filters['selectedOpenOnly'];
            delete $scope.filters['selectedOpenOnly'];

            $scope.selectedUnPrinted = $scope.filters['selectedUnPrinted'];
            delete $scope.filters['selectedUnPrinted'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $rootScope.EmployeeWarehouseAccess($scope, ''),
            $scope.getData_Type(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('InterbranchOrders', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.Reorganize_Warehouse();

        $scope.showData();
    };

    $scope.shipmentClick = async function () { }

    $scope.closeForm = async function () { }

    $scope.requestReservation = async function () { }

    $scope.releaseReservation = async function () { }

    $scope.printForm = async function () { }

    $scope.initialize_Page();
});
//
angular.module('app.erp').controller('OnDemandItemsCtrl', function ($rootScope, $scope, Utility_ERP, OnDemandItems_Service, BusinessRelation_Service, Inventory_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.viewOptions = [
        { Value: null, Text: 'All' },
        { Value: 1, Text: 'View 1' },
        { Value: 2, Text: 'View 2' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Customer: { PropertyName: 'CustomerID', Operator: '=', Value: '' },
        Date_date: { PropertyName: 'Date', Operator: '=', Value: '' },
        View: { PropertyName: 'ViewType', Operator: '=', Value: null },
        Brand: { PropertyName: 'BrandCode', Operator: 'in', Value: '' },
        Reserved: { PropertyName: 'Reserved', Operator: '=', Value: null },
        Warehouse: { PropertyName: 'WarehouseCode', Operator: 'in', Value: '' },
        BillTo: { PropertyName: 'BillingAddressNumber', Operator: '=', Value: null },
        ExpiredDate_date: { PropertyName: 'ExpiredDate', Operator: '=', Value: '' },
        Age: { PropertyName: 'AgeCode', Operator: 'in', Value: '' },
        ItemCode: { PropertyName: 'ItemCode', Operator: '=', Value: '' },
        OnDemand: { PropertyName: 'OnDemand', Operator: '=', Value: null },
    };

    $scope.selectedBranch = '';
    $scope.selectedCustomer = '';
    $scope.selectedDate = $rootScope.Date_to_UI(new Date());
    $scope.selectedBrand = '';
    $scope.selectedWarehouse = '';
    $scope.selectedExpiredDate = '';
    $scope.selectedAge = '';
    $scope.selectedItemCode = '';

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_EmployeeWarehouseAccess = [];
    $scope.data_Warehouse_perBranch = [];
    $scope.data_BillingAddressNames = [];
    $scope.data_Brand = [];
    $scope.data_Age = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = OnDemandItems_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['SO #', 'SO', 'SO', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Warehouse', 'Warehouse', 'Warehouse', 'Text', true],
            ['Customer', 'Customer', 'Customer', 'Text', true],
            ['Ship To', 'ShipTo', 'ShipTo', 'Text', true],
            ['Reserved Date', 'ReservedDate', 'ReservedDate', 'Date', true],
            ['Open Qty', 'OpenQty', 'OpenQty', 'Number', true],
            ['Reserved', 'Reserved', 'Reserved', 'Number', true],
            ['Demand', 'Demand', 'Demand', 'Number', true],
            ['Reservation Age', 'ReservationAge', 'ReservationAge', 'Number', true],
            ['Expired Date', 'ExpiredDate', 'ExpiredDate', 'Date', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedWarehouse) {
            $scope.filters.Warehouse.Operator = 'in';
            $scope.filters.Warehouse.Value = Utility_ERP.Value_OperatorIN_($scope.data_Warehouse_perBranch, 'Code');
        } else {
            $scope.filters.Warehouse.Operator = '=';
            $scope.filters.Warehouse.Value = $scope.selectedWarehouse;
        }

        if (!$scope.selectedBrand) {
            $scope.filters.Brand.Operator = 'in';
            $scope.filters.Brand.Value = Utility_ERP.Value_OperatorIN_($scope.data_Brand, 'Code');
        } else {
            $scope.filters.Brand.Operator = '=';
            $scope.filters.Brand.Value = $scope.selectedBrand;
        }

        if (!$scope.selectedAge) {
            $scope.filters.Age.Operator = 'in';
            $scope.filters.Age.Value = Utility_ERP.Value_OperatorIN_($scope.data_Age, 'Code');
        } else {
            $scope.filters.Age.Operator = '=';
            $scope.filters.Age.Value = $scope.selectedAge;
        }

        $scope.filters.Date_date.Value = $rootScope.Date_to_DB($scope.selectedDate);
        $scope.filters.ExpiredDate_date.Value = $rootScope.Date_to_DB($scope.selectedExpiredDate);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedCustomer'] = $scope.selectedCustomer;
        $scope.filters['selectedItemCode'] = $scope.selectedItemCode;

        $rootScope.SaveFilterState('OnDemandItems', $scope);

        delete $scope.filters['selectedCustomer'];
        delete $scope.filters['selectedItemCode'];
    };

    $scope.Branch_Changed = async function () {
        // --  untuk Page ini, setiap kali Branch berubah --> maka Warehouse ke posisi "All"
        // reset
        $scope.selectedWarehouse = '';

        $scope.Reorganize_Warehouse();

        await $scope.showData();
    };

    $scope.Reorganize_Warehouse = function () {
        var data = [];

        if (!$scope.selectedBranch) {
            // tanpa Filter Branch
            data = $scope.data_EmployeeWarehouseAccess;
        } else {
            // filter berdasarkan Branch
            data = $scope.data_EmployeeWarehouseAccess.filter(function (e) {
                return e.LocationCode == $scope.selectedBranch;
            });
        }

        $scope.data_Warehouse_perBranch = [...new Map(data.map((item) => [item['Code'], item])).values()].sort((x, y) => x.Code.localeCompare(y.Code));
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.customerSelected = async function (flag = true) {
        // reset
        $scope.data_BillingAddressNames = [];
        $scope.filters.BillTo.Value = null;

        if ($rootScope.Not_ValidString($scope.filters.Customer.Value)) {
            if (flag) {
                $scope.showData();
            }

            return;
        }

        $scope.data_BillingAddressNames = await BusinessRelation_Service.GetBusinessRelationBillingAddressNames($scope.filters.Customer.Value);

        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_Brand = async function () {
        $scope.data_Brand = await Inventory_Service.Dropdown_Brand();
    };

    $scope.getData_Age = async function () {
        $scope.data_Age = await OnDemandItems_Service.Dropdown_Age();
    };

    $scope.getData_InventoryItem = function (val) {
        return Inventory_Service.Dropdown_InventoryItem(val);
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let warehouse = $scope.filters.Warehouse.Value;
        if (warehouse && typeof warehouse === 'string' && warehouse.indexOf('(') >= 0) warehouse = '';
        $scope.selectedWarehouse = warehouse;

        let brand = $scope.filters.Brand.Value;
        if (brand && typeof brand === 'string' && brand.indexOf('(') >= 0) brand = '';
        $scope.selectedBrand = brand;

        let age = $scope.filters.Age.Value;
        if (age && typeof age === 'string' && age.indexOf('(') >= 0) age = '';
        $scope.selectedAge = age;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedCustomer = $scope.filters['selectedCustomer'];
            delete $scope.filters['selectedCustomer'];

            let billTo = $scope.filters.BillTo.Value;
            await $scope.customerSelected(false);
            $scope.filters.BillTo.Value = billTo;

            $scope.selectedItemCode = $scope.filters['selectedItemCode'];
            delete $scope.filters['selectedItemCode'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $rootScope.EmployeeWarehouseAccess($scope, ''),
            $scope.getData_Brand(),
            $scope.getData_Age()
        ]);

        $rootScope.LoadFilterState('OnDemandItems', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.Reorganize_Warehouse();

        $scope.showData();
    };

    $scope.swapReservation = async function () { };

    $scope.delivery = async function () { };

    $scope.reserve = async function () { };

    $scope.releaseReservation = async function () { };

    $scope.exportList = async function () { };

    $scope.initialize_Page();
});
// ini file Controller.js

angular.module('app.erp').controller('OutstandingItemsCtrl', function ($rootScope, $scope, Utility_ERP, OutstandingItems_Service, BusinessRelation_Service, Inventory_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.viewOptions = [
        { Value: null, Text: 'All' },
        { Value: 1, Text: 'View 1' },
        { Value: 2, Text: 'View 2' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Customer: { PropertyName: 'CustomerID', Operator: '=', Value: '' },
        Date_date: { PropertyName: 'Date', Operator: '=', Value: '' },
        View: { PropertyName: 'ViewType', Operator: '=', Value: null },
        Brand: { PropertyName: 'BrandCode', Operator: 'in', Value: '' },
        Reserved: { PropertyName: 'Reserved', Operator: '=', Value: null },
        Warehouse: { PropertyName: 'WarehouseCode', Operator: 'in', Value: '' },
        BillTo: { PropertyName: 'BillingAddressNumber', Operator: '=', Value: null },
        ExpiredDate_date: { PropertyName: 'ExpiredDate', Operator: '=', Value: '' },
        Age: { PropertyName: 'AgeCode', Operator: 'in', Value: '' },
        ItemCode: { PropertyName: 'ItemCode', Operator: '=', Value: '' },
        OnDemand: { PropertyName: 'OnDemand', Operator: '=', Value: null },
    };

    $scope.selectedBranch = '';
    $scope.selectedCustomer = '';
    $scope.selectedDate = $rootScope.Date_to_UI(new Date());
    $scope.selectedBrand = '';
    $scope.selectedWarehouse = '';
    $scope.selectedExpiredDate = '';
    $scope.selectedAge = '';
    $scope.selectedItemCode = '';

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_EmployeeWarehouseAccess = [];
    $scope.data_Warehouse_perBranch = [];
    $scope.data_BillingAddressNames = [];
    $scope.data_Brand = [];
    $scope.data_Age = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = OutstandingItems_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['SO #', 'SO', 'SO', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Warehouse', 'Warehouse', 'Warehouse', 'Text', true],
            ['Customer', 'Customer', 'Customer', 'Text', true],
            ['Ship To', 'ShipTo', 'ShipTo', 'Text', true],
            ['Open', 'Open', 'Open', 'Number', true],
            ['Res', 'Res', 'Res', 'Number', true],
            ['Dem', 'Dem', 'Dem', 'Number', true],
            ['PO', 'PO', 'PO', 'Text', true],
            ['TR', 'TR', 'TR', 'Text', true],
            ['Tangerang Peksi', 'TangerangPeksi', 'TangerangPeksi', 'Number', true],
            ['Trikaya', 'Trikaya', 'Trikaya', 'Number', true],
            ['Bogor Peksi', 'BogorPeksi', 'BogorPeksi', 'Number', true],
            ['Trikaya', 'Trikaya2', 'Trikaya2', 'Number', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedWarehouse) {
            $scope.filters.Warehouse.Operator = 'in';
            $scope.filters.Warehouse.Value = Utility_ERP.Value_OperatorIN_($scope.data_Warehouse_perBranch, 'Code');
        } else {
            $scope.filters.Warehouse.Operator = '=';
            $scope.filters.Warehouse.Value = $scope.selectedWarehouse;
        }

        if (!$scope.selectedBrand) {
            $scope.filters.Brand.Operator = 'in';
            $scope.filters.Brand.Value = Utility_ERP.Value_OperatorIN_($scope.data_Brand, 'Code');
        } else {
            $scope.filters.Brand.Operator = '=';
            $scope.filters.Brand.Value = $scope.selectedBrand;
        }

        if (!$scope.selectedAge) {
            $scope.filters.Age.Operator = 'in';
            $scope.filters.Age.Value = Utility_ERP.Value_OperatorIN_($scope.data_Age, 'Code');
        } else {
            $scope.filters.Age.Operator = '=';
            $scope.filters.Age.Value = $scope.selectedAge;
        }

        $scope.filters.Date_date.Value = $rootScope.Date_to_DB($scope.selectedDate);
        $scope.filters.ExpiredDate_date.Value = $rootScope.Date_to_DB($scope.selectedExpiredDate);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedCustomer'] = $scope.selectedCustomer;
        $scope.filters['selectedItemCode'] = $scope.selectedItemCode;

        $rootScope.SaveFilterState('OutstandingItems', $scope);

        delete $scope.filters['selectedCustomer'];
        delete $scope.filters['selectedItemCode'];
    };

    $scope.Branch_Changed = async function () {
        // --  untuk Page ini, setiap kali Branch berubah --> maka Warehouse ke posisi "All"
        // reset
        $scope.selectedWarehouse = '';

        $scope.Reorganize_Warehouse();

        await $scope.showData();
    };

    $scope.Reorganize_Warehouse = function () {
        var data = [];

        if (!$scope.selectedBranch) {
            // tanpa Filter Branch
            data = $scope.data_EmployeeWarehouseAccess;
        } else {
            // filter berdasarkan Branch
            data = $scope.data_EmployeeWarehouseAccess.filter(function (e) {
                return e.LocationCode == $scope.selectedBranch;
            });
        }

        $scope.data_Warehouse_perBranch = [...new Map(data.map((item) => [item['Code'], item])).values()].sort((x, y) => x.Code.localeCompare(y.Code));
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.customerSelected = async function (flag = true) {
        // reset
        $scope.data_BillingAddressNames = [];
        $scope.filters.BillTo.Value = null;

        if ($rootScope.Not_ValidString($scope.filters.Customer.Value)) {
            if (flag) {
                $scope.showData();
            }

            return;
        }

        $scope.data_BillingAddressNames = await BusinessRelation_Service.GetBusinessRelationBillingAddressNames($scope.filters.Customer.Value);

        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_Brand = async function () {
        $scope.data_Brand = await Inventory_Service.Dropdown_Brand();
    };

    $scope.getData_Age = async function () {
        $scope.data_Age = await OutstandingItems_Service.Dropdown_Age();
    };

    $scope.getData_InventoryItem = function (val) {
        return Inventory_Service.Dropdown_InventoryItem(val);
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let warehouse = $scope.filters.Warehouse.Value;
        if (warehouse && typeof warehouse === 'string' && warehouse.indexOf('(') >= 0) warehouse = '';
        $scope.selectedWarehouse = warehouse;

        let brand = $scope.filters.Brand.Value;
        if (brand && typeof brand === 'string' && brand.indexOf('(') >= 0) brand = '';
        $scope.selectedBrand = brand;

        let age = $scope.filters.Age.Value;
        if (age && typeof age === 'string' && age.indexOf('(') >= 0) age = '';
        $scope.selectedAge = age;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedCustomer = $scope.filters['selectedCustomer'];
            delete $scope.filters['selectedCustomer'];

            let billTo = $scope.filters.BillTo.Value;
            await $scope.customerSelected(false);
            $scope.filters.BillTo.Value = billTo;

            $scope.selectedItemCode = $scope.filters['selectedItemCode'];
            delete $scope.filters['selectedItemCode'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $rootScope.EmployeeWarehouseAccess($scope, ''),
            $scope.getData_Brand(),
            $scope.getData_Age()
        ]);

        $rootScope.LoadFilterState('OutstandingItems', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.Reorganize_Warehouse();

        $scope.showData();
    };

    $scope.swapReservation = async function () { };

    $scope.delivery = async function () { };

    $scope.reserve = async function () { };

    $scope.releaseReservation = async function () { };

    $scope.pick = async function () { };

    $scope.viewPicked = async function () { };

    $scope.exportList = async function () { };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('OutstandingOrdersCtrl', function ($rootScope, $scope, Utility_ERP, OutstandingOrders_Service, BusinessRelation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Warehouse: { PropertyName: 'WarehouseCode', Operator: 'in', Value: '' },
        Customer: { PropertyName: 'CustomerID', Operator: '=', Value: '' },
        ShipTo: { PropertyName: 'ShippingAddressNumber', Operator: 'in', Value: '' },
        TOP: { PropertyName: 'TOPCode', Operator: 'in', Value: '' },
        Type: { PropertyName: 'TypeCode', Operator: 'in', Value: '' },
        Date_date: { PropertyName: 'Date', Operator: '=', Value: '' },
        ExpiredDate_date: { PropertyName: 'ExpiredDate', Operator: '=', Value: '' },
        Age: { PropertyName: 'Age', Operator: 'in', Value: '' },
        View: { PropertyName: 'View', Operator: '=', Value: '' },
        ReservedOnly: { PropertyName: 'Reserved', Operator: '>', Value: null },
    };

    $scope.selectedBranch = '';
    $scope.selectedWarehouse = '';
    $scope.selectedCustomer = '';
    $scope.selectedTOP = '';
    $scope.selectedDate = '';
    $scope.selectedShipTo = '';
    $scope.selectedType = '';
    $scope.selectedExpiredDate = '';
    $scope.selectedAge = '';

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_EmployeeWarehouseAccess = [];
    $scope.data_Warehouse_perBranch = [];
    $scope.data_ShipTo = [];
    $scope.data_TOP = [];
    $scope.data_Type = [];
    $scope.data_Age = [];
    $scope.data_View = [
        { Value: '', Text: 'All' },
        { Value: 'Summary', Text: 'Summary' },
        { Value: 'Detail', Text: 'Detail' },
    ];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = OutstandingOrders_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['SO #', 'Code', 'Code', 'Text', true],
            ['PO#', 'PONumber', 'PONumber', 'Text', true],
            ['Type', 'TypeName', 'TypeName', 'Text', true],
            ['Branch', 'BranchName', 'BranchName', 'Text', true],
            ['Warehouse', 'WarehouseName', 'WarehouseName', 'Text', true],
            ['TOP', 'TOPName', 'TOPName', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Ship To', 'ShipToName', 'ShipToName', 'Text', true],
            ['Open', 'TotalOpenQty', 'TotalOpenQty', 'Number', true],
            ['Reserved', 'TotalReservedQty', 'TotalReservedQty', 'Number', true],
            ['On Demand', 'TotalOnDemandQty', 'TotalOnDemandQty', 'Number', true],
            ['Req. Date', 'RequiredDate', 'RequiredDate', 'Date', true],
            ['Age', 'Age', 'Age', 'Number', true],
            ['Expired Date', 'ExpiredDate', 'ExpiredDate', 'Date', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedWarehouse) {
            $scope.filters.Warehouse.Operator = 'in';
            $scope.filters.Warehouse.Value = Utility_ERP.Value_OperatorIN_($scope.data_Warehouse_perBranch, 'Code');
        } else {
            $scope.filters.Warehouse.Operator = '=';
            $scope.filters.Warehouse.Value = $scope.selectedWarehouse;
        }

        if (!$scope.selectedShipTo) {
            $scope.filters.ShipTo.Operator = 'in';
            $scope.filters.ShipTo.Value = Utility_ERP.Value_OperatorIN_($scope.data_ShipTo, 'Number');
        } else {
            $scope.filters.ShipTo.Operator = '=';
            $scope.filters.ShipTo.Value = $scope.selectedShipTo;
        }

        if (!$scope.selectedTOP) {
            $scope.filters.TOP.Operator = 'in';
            $scope.filters.TOP.Value = Utility_ERP.Value_OperatorIN_($scope.data_TOP, 'Code');
        } else {
            $scope.filters.TOP.Operator = '=';
            $scope.filters.TOP.Value = $scope.selectedTOP;
        }

        if (!$scope.selectedType) {
            $scope.filters.Type.Operator = 'in';
            $scope.filters.Type.Value = Utility_ERP.Value_OperatorIN_($scope.data_Type, 'Code');
        } else {
            $scope.filters.Type.Operator = '=';
            $scope.filters.Type.Value = $scope.selectedType;
        }

        if (!$scope.selectedAge) {
            $scope.filters.Age.Operator = 'in';
            $scope.filters.Age.Value = Utility_ERP.Value_OperatorIN_($scope.data_Age, 'Code');
        } else {
            $scope.filters.Age.Operator = '=';
            $scope.filters.Age.Value = $scope.selectedAge;
        }

        $scope.filters.Date_date.Value = $rootScope.Date_to_DB($scope.selectedDate);
        $scope.filters.ExpiredDate_date.Value = $rootScope.Date_to_DB($scope.selectedExpiredDate);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedCustomer'] = $scope.selectedCustomer;

        $rootScope.SaveFilterState('OutstandingOrders', $scope);

        delete $scope.filters['selectedCustomer'];
    };

    $scope.Branch_Changed = async function () {
        // reset
        $scope.selectedWarehouse = '';

        $scope.Reorganize_Warehouse();

        await $scope.showData();
    };

    $scope.Reorganize_Warehouse = function () {
        var data = [];

        if (!$scope.selectedBranch) {
            // tanpa Filter Branch
            data = $scope.data_EmployeeWarehouseAccess;
        } else {
            // filter berdasarkan Branch
            data = $scope.data_EmployeeWarehouseAccess.filter(function (e) {
                return e.LocationCode == $scope.selectedBranch;
            });
        }

        $scope.data_Warehouse_perBranch = [...new Map(data.map((item) => [item['Code'], item])).values()].sort((x, y) => x.Code.localeCompare(y.Code));
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.customerSelected = async function (flag = true) {
        // reset
        $scope.data_ShipTo = [];
        $scope.selectedShipTo = '';

        if ($rootScope.Not_ValidString($scope.filters.Customer.Value)) {
            if (flag) {
                $scope.showData();
            }

            return;
        }

        $scope.data_ShipTo = await BusinessRelation_Service.GetBusinessRelationShippingAddressNames($scope.filters.Customer.Value);

        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_TOP = async function () {
        $scope.data_TOP = await Utility_ERP.getData_TermOfPayment();
    };

    $scope.getData_Type = async function () {
        $scope.data_Type = await Utility_ERP.getData_SalesOrderType();
    };

    $scope.getData_Age = async function () {
        $scope.data_Age = await Utility_ERP.getData_OutstandingAge();
    };

    

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let warehouse = $scope.filters.Warehouse.Value;
        if (warehouse && typeof warehouse === 'string' && warehouse.indexOf('(') >= 0) warehouse = '';
        $scope.selectedWarehouse = warehouse;

        let shipTo = $scope.filters.ShipTo.Value;
        if (shipTo && typeof shipTo === 'string' && shipTo.indexOf('(') >= 0) shipTo = '';
        $scope.selectedShipTo = shipTo;

        let top = $scope.filters.TOP.Value;
        if (top && typeof top === 'string' && top.indexOf('(') >= 0) top = '';
        $scope.selectedTOP = top;

        let type = $scope.filters.Type.Value;
        if (type && typeof type === 'string' && type.indexOf('(') >= 0) type = '';
        $scope.selectedType = type;

        let age = $scope.filters.Age.Value;
        if (age && typeof age === 'string' && age.indexOf('(') >= 0) age = '';
        $scope.selectedAge = age;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedCustomer = $scope.filters['selectedCustomer'];
            delete $scope.filters['selectedCustomer'];

            await $scope.customerSelected(false);
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $rootScope.EmployeeWarehouseAccess($scope, ''),
            $scope.getData_TOP(),
            $scope.getData_Type(),
            $scope.getData_Age()
        ]);

        $rootScope.LoadFilterState('OutstandingOrders', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.Reorganize_Warehouse();

        $scope.showData();
    };

    $scope.deliveryForm = async function () { }

    $scope.closeForm = async function () { }

    $scope.reserveForm = async function () { }

    $scope.releaseReservationForm = async function () { }

    $scope.refreshSOForm = async function () { }

    $scope.exportToExcel = async function () { }

    $scope.initialize_Page();
});
//
//
//
angular.module('app.erp').controller('PriceGroupsCtrl', function ($rootScope, $scope, Utility_ERP, PriceGroups_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = PriceGroups_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('PriceGroups', $scope);
    };

    ;

    async function Override_some_Filters() {
        // Tidak ada filter untuk di-override
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('PriceGroups', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});
//
//
//
//
//
angular.module('app.erp').controller('ProjectsCtrl', function ($rootScope, $scope, Utility_ERP, Projects_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        ProjectType: { PropertyName: 'TypeCode', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedProjectType = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedShowAll = false;
    $scope.selectedStatus = '';

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_ProjectType = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = Projects_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Project Nr.', 'ProjectNr', 'ProjectNr', 'Text', true],
            ['Type', 'Type', 'Type', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Project Name', 'ProjectName', 'ProjectName', 'Text', true],
            ['Owner', 'Owner', 'Owner', 'Text', true],
            ['Construction Management', 'ConstructionManagement', 'ConstructionManagement', 'Text', true],
            ['Status', 'Status', 'Status', 'Text', true],
            ['Target Revenue', 'TargetRevenue', 'TargetRevenue', 'Currency', true],
            ['Actual Revenue', 'ActualRevenue', 'ActualRevenue', 'Currency', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedProjectType) {
            $scope.filters.ProjectType.Operator = 'in';
            $scope.filters.ProjectType.Value = Utility_ERP.Value_OperatorIN_($scope.data_ProjectType, 'Code');
        } else {
            $scope.filters.ProjectType.Operator = '=';
            $scope.filters.ProjectType.Value = $scope.selectedProjectType;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('Projects', $scope);

        delete $scope.filters['selectedShowAll'];
    };

    $scope.getData_ProjectType = async function () {
        $scope.data_ProjectType = await Projects_Service.Dropdown_ProjectType();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('Project');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let projectType = $scope.filters.ProjectType.Value;
        if (projectType && typeof projectType === 'string' && projectType.indexOf('(') >= 0) projectType = '';
        $scope.selectedProjectType = projectType;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_ProjectType(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('Projects', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.downloadSchema = async function () { };

    $scope.upload = async function () { };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('ReleaseBlockCtrl', function ($rootScope, $scope, Utility_ERP, ReleaseBlock_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        IsCustomer: { PropertyName: 'IsCustomer', Operator: '=', Value: true },
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        BusinessLine: { PropertyName: 'BusinessLine', Operator: '=', Value: '' },
        Title: { PropertyName: 'Title', Operator: '=', Value: '' },
        Category: { PropertyName: 'ClassName', Operator: '=', Value: '' },
        Group: { PropertyName: 'BusinessGroup', Operator: '=', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
        IsSupplier: { PropertyName: 'IsSupplier', Operator: '=', Value: null },
        IsPersonnel: { PropertyName: 'IsPersonnel', Operator: '=', Value: null },
        IsFreightVendor: { PropertyName: 'IsFreightVendor', Operator: '=', Value: null },
        IsBranch: { PropertyName: 'IsBranch', Operator: '=', Value: null },
        IsBaseBranch: { PropertyName: 'IsBaseBranch', Operator: '=', Value: null },
    };

    $scope.selectedBranch = '';
    $scope.selectedBusinessLine = '';
    $scope.selectedTitle = '';
    $scope.selectedCategory = '';
    $scope.selectedGroup = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_BusinessLine = [];
    $scope.data_Title = [];
    $scope.data_Category = [];
    $scope.data_Group = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = ReleaseBlock_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Name', 'Name', 'Name', 'Text', true],
            ['Category', 'Category', 'Category', 'Text', true],
            ['Title', 'Title', 'Title', 'Text', true],
            ['Group', 'Group', 'Group', 'Text', true],
            ['Business Line', 'BusinessLine', 'BusinessLine', 'Text', true],
            ['Status', 'Status', 'Status', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        // if (!$scope.selectedBusinessLine) {
        //     $scope.filters.BusinessLine.Operator = 'in';
        //     $scope.filters.BusinessLine.Value = Utility_ERP.Value_OperatorIN_($scope.data_BusinessLine, 'Code');
        // } else {
        //     $scope.filters.BusinessLine.Operator = '=';
        //     $scope.filters.BusinessLine.Value = $scope.selectedBusinessLine;
        // }

        // if (!$scope.selectedTitle) {
        //     $scope.filters.Title.Operator = 'in';
        //     $scope.filters.Title.Value = Utility_ERP.Value_OperatorIN_($scope.data_Title, 'Code');
        // } else {
        //     $scope.filters.Title.Operator = '=';
        //     $scope.filters.Title.Value = $scope.selectedTitle;
        // }

        // if (!$scope.selectedCategory) {
        //     $scope.filters.Category.Operator = 'in';
        //     $scope.filters.Category.Value = Utility_ERP.Value_OperatorIN_($scope.data_Category, 'Code');
        // } else {
        //     $scope.filters.Category.Operator = '=';
        //     $scope.filters.Category.Value = $scope.selectedCategory;
        // }
        ////---

        // if (!$scope.selectedGroup) {
        //     $scope.filters.Group.Operator = 'in';
        //     $scope.filters.Group.Value = Utility_ERP.Value_OperatorIN_($scope.data_Group, 'Code');
        // } else {
        //     $scope.filters.Group.Operator = '=';
        //     $scope.filters.Group.Value = $scope.selectedGroup;
        // }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('Customers', $scope);

        delete $scope.filters['selectedShowAll'];
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_BusinessLine = async function () {
        $scope.data_BusinessLine = await ReleaseBlock_Service.Dropdown_BusinessLine();
    };

    $scope.getData_Title = async function () {
        $scope.data_Title = await ReleaseBlock_Service.Dropdown_Title();
    };

    $scope.getData_Category = async function () {
        $scope.data_Category = await ReleaseBlock_Service.Dropdown_Category();
    };

    $scope.getData_Group = async function () {
        $scope.data_Group = await ReleaseBlock_Service.Dropdown_Group();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('BusinessRelation');
        if ($scope.data_Status_All.length > 0) {
            $scope.data_Status_All = $scope.data_Status_All.filter(e => e.StatusId == 29);
        }

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let businessLine = $scope.filters.BusinessLine.Value;
        if (businessLine && typeof businessLine === 'string' && businessLine.indexOf('(') >= 0) businessLine = '';
        $scope.selectedBusinessLine = businessLine;

        let title = $scope.filters.Title.Value;
        if (title && typeof title === 'string' && title.indexOf('(') >= 0) title = '';
        $scope.selectedTitle = title;

        let category = $scope.filters.Category.Value;
        if (category && typeof category === 'string' && category.indexOf('(') >= 0) category = '';
        $scope.selectedCategory = category;

        let group = $scope.filters.Group.Value;
        if (group && typeof group === 'string' && group.indexOf('(') >= 0) group = '';
        $scope.selectedGroup = group;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_BusinessLine(),
            $scope.getData_Title(),
            $scope.getData_Category(),
            $scope.getData_Group(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('Customers', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.voidClick = async function () {
        let selectedRows = $scope.dt.data.filter(function (e) {
            return e.rowSelected == true;
        });

        if (selectedRows.length == 0) {
            $rootScope.Alert_NoRowSelected();
            return;
        }

        let codes = selectedRows.map(function (e) {
            return e.Code;
        });

        let confirm = await $rootScope.Confirm_('Void selected customers?');
        if (!confirm) return;

        Utility_ERP.Still_Processing($scope, true);

        let result = await ReleaseBlock_Service.Void(codes);

        Utility_ERP.Still_Processing($scope, false);

        if (result.Success) {
            $rootScope.Alert_Success('Customers voided successfully');
            await $scope.showData();
        } else {
            $rootScope.Alert_Error(result.Message);
        }
    };

    $scope.deleteClick = async function () {
        let selectedRows = $scope.dt.data.filter(function (e) {
            return e.rowSelected == true;
        });

        if (selectedRows.length == 0) {
            $rootScope.Alert_NoRowSelected();
            return;
        }

        let codes = selectedRows.map(function (e) {
            return e.Code;
        });

        let confirm = await $rootScope.Confirm_('Delete selected customers?');
        if (!confirm) return;

        Utility_ERP.Still_Processing($scope, true);

        let result = await ReleaseBlock_Service.Delete(codes);

        Utility_ERP.Still_Processing($scope, false);

        if (result.Success) {
            $rootScope.Alert_Success('Customers deleted successfully');
            await $scope.showData();
        } else {
            $rootScope.Alert_Error(result.Message);
        }
    };

    $scope.downloadSchema = async function () {
        Utility_ERP.Still_Processing($scope, true);

        let result = await ReleaseBlock_Service.DownloadSchema();

        Utility_ERP.Still_Processing($scope, false);

        if (result.Success) {
            $rootScope.DownloadFile(result.Data, 'Customers_Schema.xlsx');
        } else {
            $rootScope.Alert_Error(result.Message);
        }
    };

    $scope.uploadData = async function () {
        $rootScope.ShowUploadDialog('Customers', async function () {
            await $scope.showData();
        });
    };

    $scope.exportList = async function () {
        Utility_ERP.Still_Processing($scope, true);

        let result = await ReleaseBlock_Service.ExportToExcel($scope.filters);

        Utility_ERP.Still_Processing($scope, false);

        if (result.Success) {
            $rootScope.DownloadFile(result.Data, 'Customers.xlsx');
        } else {
            $rootScope.Alert_Error(result.Message);
        }
    };

    $scope.synchToCircle = async function () {
        let confirm = await $rootScope.Confirm_('Synchronize customers to Circle?');
        if (!confirm) return;

        Utility_ERP.Still_Processing($scope, true);

        let result = await ReleaseBlock_Service.SynchToCircle();

        Utility_ERP.Still_Processing($scope, false);

        if (result.Success) {
            $rootScope.Alert_Success('Customers synchronized successfully');
        } else {
            $rootScope.Alert_Error(result.Message);
        }
    };

    $scope.initialize_Page();
});
// ini file Controller.js
angular.module('app.erp').controller('ReopenOrdersCtrl', function ($rootScope, $scope, Utility_ERP, ReopenOrders_Service, BusinessRelation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Warehouse: { PropertyName: 'WarehouseCode', Operator: 'in', Value: '' },
        Customer: { PropertyName: 'CustomerID', Operator: '=', Value: '' },
        Billto: { PropertyName: 'BillingAddressNumber', Operator: '=', Value: null },
        Reason: { PropertyName: 'ReasonCode', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedWarehouse = '';
    $scope.selectedCustomer = '';
    $scope.selectedReason = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_EmployeeWarehouseAccess = [];
    $scope.data_Warehouse_perBranch = [];
    $scope.data_BillingAddressNames = [];
    $scope.data_Reason = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = ReopenOrders_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Close Nr #', 'CloseNr', 'CloseNr', 'Text', true],
            ['Reason', 'Reason', 'Reason', 'Text', true],
            ['SO#', 'SO', 'SO', 'Text', true],
            ['PO#', 'PO', 'PO', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Warehouse', 'Warehouse', 'Warehouse', 'Text', true],
            ['Customer', 'Customer', 'Customer', 'Text', true],
            ['Closed Qty', 'ClosedQty', 'ClosedQty', 'Number', true],
            ['Closed Value', 'ClosedValue', 'ClosedValue', 'Currency', true],
            ['Issued By', 'IssuedBy', 'IssuedBy', 'Text', true],
            ['Status', 'Status', 'Status', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedWarehouse) {
            $scope.filters.Warehouse.Operator = 'in';
            $scope.filters.Warehouse.Value = Utility_ERP.Value_OperatorIN_($scope.data_Warehouse_perBranch, 'Code');
        } else {
            $scope.filters.Warehouse.Operator = '=';
            $scope.filters.Warehouse.Value = $scope.selectedWarehouse;
        }

        if (!$scope.selectedReason) {
            $scope.filters.Reason.Operator = 'in';
            $scope.filters.Reason.Value = Utility_ERP.Value_OperatorIN_($scope.data_Reason, 'Code');
        } else {
            $scope.filters.Reason.Operator = '=';
            $scope.filters.Reason.Value = $scope.selectedReason;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedCustomer'] = $scope.selectedCustomer;
        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('ReopenOrders', $scope);

        delete $scope.filters['selectedCustomer'];
        delete $scope.filters['selectedShowAll'];
    };

    $scope.Branch_Changed = async function () {
        // --  untuk Page ini, setiap kali Branch berubah --> maka Warehouse ke posisi "All"
        // reset
        $scope.selectedWarehouse = '';

        $scope.Reorganize_Warehouse();

        await $scope.showData();
    };

    $scope.Reorganize_Warehouse = function () {
        var data = [];

        if (!$scope.selectedBranch) {
            // tanpa Filter Branch
            data = $scope.data_EmployeeWarehouseAccess;
        } else {
            // filter berdasarkan Branch
            data = $scope.data_EmployeeWarehouseAccess.filter(function (e) {
                return e.LocationCode == $scope.selectedBranch;
            });
        }

        $scope.data_Warehouse_perBranch = [...new Map(data.map((item) => [item['Code'], item])).values()].sort((x, y) => x.Code.localeCompare(y.Code));
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.customerSelected = async function (flag = true) {
        // reset
        $scope.data_BillingAddressNames = [];
        $scope.filters.Billto.Value = null;

        if ($rootScope.Not_ValidString($scope.filters.Customer.Value)) {
            if (flag) {
                $scope.showData();
            }

            return;
        }

        $scope.data_BillingAddressNames = await BusinessRelation_Service.GetBusinessRelationBillingAddressNames($scope.filters.Customer.Value);

        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_Reason = async function () {
        $scope.data_Reason = await ReopenOrders_Service.Dropdown_Reason();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('ReopenOrder');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let warehouse = $scope.filters.Warehouse.Value;
        if (warehouse && typeof warehouse === 'string' && warehouse.indexOf('(') >= 0) warehouse = '';
        $scope.selectedWarehouse = warehouse;

        let reason = $scope.filters.Reason.Value;
        if (reason && typeof reason === 'string' && reason.indexOf('(') >= 0) reason = '';
        $scope.selectedReason = reason;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedCustomer = $scope.filters['selectedCustomer'];
            delete $scope.filters['selectedCustomer'];

            let billTo = $scope.filters.Billto.Value;
            await $scope.customerSelected(false);
            $scope.filters.Billto.Value = billTo;

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $rootScope.EmployeeWarehouseAccess($scope, ''),
            $scope.getData_Reason(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('ReopenOrders', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.Reorganize_Warehouse();

        $scope.showData();
    };

    $scope.downloadSchemaClick = async function () { }

    $scope.uploadClick = async function () { }

    $scope.initialize_Page();
});
// ini file Controller.js
//
//
angular.module('app.erp').controller('SalesOrdersCtrl', function ($rootScope, $scope, Utility_ERP, SalesOrders_Service, BusinessRelation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Warehouse: { PropertyName: 'WarehouseCode', Operator: 'in', Value: '' },
        Customer: { PropertyName: 'CustomerID', Operator: '=', Value: '' },
        Billto: { PropertyName: 'BillingAddressNumber', Operator: '=', Value: null },
        SalesOrderType: { PropertyName: 'TypeCode', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        CreatedBy: { PropertyName: 'IssuedBy', Operator: '=', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
        Dropship: { PropertyName: 'Dropship', Operator: '=', Value: null },
        Full: { PropertyName: 'ReservationFull', Operator: '=', Value: null },
        OpenOnly: { PropertyName: 'TotalOpenQty', Operator: '>', Value: null },
        UnPrinted: { PropertyName: 'PrintCount', Operator: '<=', Value: null },
    };

    $scope.selectedBranch = '';
    $scope.selectedWarehouse = '';
    $scope.selectedCustomer = '';
    $scope.selectedSalesOrderType = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedCreatedBy = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;
    $scope.selectedOpenOnly = false;
    $scope.selectedUnPrinted = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_EmployeeWarehouseAccess = [];
    $scope.data_Warehouse_perBranch = [];
    $scope.data_BillingAddressNames = [];
    $scope.data_SalesOrderType = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = SalesOrders_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['SO #', 'Code', 'Code', 'Text', true],
            ['PO#', 'PONumber', 'PONumber', 'Text', true],
            ['Type', 'TypeName', 'TypeName', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Branch', 'BranchName', 'BranchName', 'Text', true],
            ['Warehouse', 'WarehouseName', 'WarehouseName', 'Text', true],
            ['Customer', 'CustomerName', 'CustomerName', 'Text', true],
            ['Open', 'TotalOpenQty', 'TotalOpenQty', 'Number', true],
            ['Total Qty', 'TotalQty', 'TotalQty', 'Number', true],
            ['SO Value', 'TotalAmount', 'TotalAmount', 'Currency', true],
            ['R', 'ReserveStock', 'ReserveStock', 'Boolean', true],
            ['Created By', 'IssuedByName', 'IssuedByName', 'Text', true],
            ['Status', 'StatusName', 'StatusName', 'Text', true],
            ['Shipment Status', 'ShipmentStatusName', 'ShipmentStatusName', 'Text', true],
            ['Printed', 'PrintCount', 'PrintCount', 'Number', true],
            ['F', 'ReservationFull', 'ReservationFull', 'Boolean', true],
            ['D', 'Dropship', 'Dropship', 'Boolean', true],
            ['Payment Method', 'PaymentMethodName', 'PaymentMethodCode', 'Text', false],
            ['Item Count', 'NumberOfItems', '', 'Number', false],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedWarehouse) {
            $scope.filters.Warehouse.Operator = 'in';
            $scope.filters.Warehouse.Value = Utility_ERP.Value_OperatorIN_($scope.data_Warehouse_perBranch, 'Code');
        } else {
            $scope.filters.Warehouse.Operator = '=';
            $scope.filters.Warehouse.Value = $scope.selectedWarehouse;
        }

        if (!$scope.selectedSalesOrderType) {
            $scope.filters.SalesOrderType.Operator = 'in';
            $scope.filters.SalesOrderType.Value = Utility_ERP.Value_OperatorIN_($scope.data_SalesOrderType, 'Code');
        } else {
            $scope.filters.SalesOrderType.Operator = '=';
            $scope.filters.SalesOrderType.Value = $scope.selectedSalesOrderType;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        $scope.filters.OpenOnly.Value = null;
        if ($scope.selectedOpenOnly) {
            $scope.filters.OpenOnly.Value = 0;
        }

        $scope.filters.UnPrinted.Value = null;
        if ($scope.selectedUnPrinted) {
            $scope.filters.UnPrinted.Value = 0;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedCustomer'] = $scope.selectedCustomer;
        $scope.filters['selectedCreatedBy'] = $scope.selectedCreatedBy;
        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;
        $scope.filters['selectedOpenOnly'] = $scope.selectedOpenOnly;
        $scope.filters['selectedUnPrinted'] = $scope.selectedUnPrinted;

        $rootScope.SaveFilterState('SalesOrders', $scope);

        delete $scope.filters['selectedCustomer'];
        delete $scope.filters['selectedCreatedBy'];
        delete $scope.filters['selectedShowAll'];
        delete $scope.filters['selectedOpenOnly'];
        delete $scope.filters['selectedUnPrinted'];
    };

    $scope.Branch_Changed = async function () {
        // --  untuk Page ini, setiap kali Branch berubah --> maka Warehouse ke posisi "All"
        // reset
        $scope.selectedWarehouse = '';

        $scope.Reorganize_Warehouse();

        await $scope.showData();
    };

    $scope.Reorganize_Warehouse = function () {
        var data = [];

        if (!$scope.selectedBranch) {
            // tanpa Filter Branch
            data = $scope.data_EmployeeWarehouseAccess;
        } else {
            // filter berdasarkan Branch
            data = $scope.data_EmployeeWarehouseAccess.filter(function (e) {
                return e.LocationCode == $scope.selectedBranch;
            });
        }

        $scope.data_Warehouse_perBranch = [...new Map(data.map((item) => [item['Code'], item])).values()].sort((x, y) => x.Code.localeCompare(y.Code));
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.customerSelected = async function (flag = true) {
        // reset
        $scope.data_BillingAddressNames = [];
        $scope.filters.Billto.Value = null;

        if ($rootScope.Not_ValidString($scope.filters.Customer.Value)) {
            if (flag) {
                $scope.showData();
            }

            return;
        }

        $scope.data_BillingAddressNames = await BusinessRelation_Service.GetBusinessRelationBillingAddressNames($scope.filters.Customer.Value);

        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_SalesOrderType = async function () {
        $scope.data_SalesOrderType = await SalesOrders_Service.Dropdown_SalesOrderType();
    };

    $scope.getData_BillingAddress = async function () {
        // Function untuk mendapatkan billing address options
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('SalesOrder');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let warehouse = $scope.filters.Warehouse.Value;
        if (warehouse && typeof warehouse === 'string' && warehouse.indexOf('(') >= 0) warehouse = '';
        $scope.selectedWarehouse = warehouse;

        let type = $scope.filters.SalesOrderType.Value;
        if (type && typeof type === 'string' && type.indexOf('(') >= 0) type = '';
        $scope.selectedSalesOrderType = type;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedCustomer = $scope.filters['selectedCustomer'];
            delete $scope.filters['selectedCustomer'];

            let billTo = $scope.filters.Billto.Value;
            await $scope.customerSelected(false);
            $scope.filters.Billto.Value = billTo;

            $scope.selectedCreatedBy = $scope.filters['selectedCreatedBy'];
            delete $scope.filters['selectedCreatedBy'];

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];

            $scope.selectedOpenOnly = $scope.filters['selectedOpenOnly'];
            delete $scope.filters['selectedOpenOnly'];

            $scope.selectedUnPrinted = $scope.filters['selectedUnPrinted'];
            delete $scope.filters['selectedUnPrinted'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $rootScope.EmployeeWarehouseAccess($scope, ''),
            $scope.getData_SalesOrderType(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('SalesOrders', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.Reorganize_Warehouse();

        $scope.showData();
    };

    $scope.printForm = async function () { }

    $scope.exportList = async function () { }

    $scope.shipmentClick = async function () { }

    $scope.showCloseOrderForm = async function () { }

    $scope.showCancelPurchasingForm = async function () { }

    $scope.requestReservation = async function () { }

    $scope.releaseReservation = async function () { }

    $scope.showReleaseSOForm = async function () { }

    $scope.initialize_Page();
});

angular.module('app.erp').controller('SalesOrdersTemplateCtrl', function ($rootScope, $scope, Utility_ERP, SalesOrdersTemplate_Service, BusinessRelation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Warehouse: { PropertyName: 'WarehouseCode', Operator: 'in', Value: '' },
        Customer: { PropertyName: 'CustomerID', Operator: '=', Value: '' },
        Billto: { PropertyName: 'BillingAddressNumber', Operator: '=', Value: null },
        SalesOrderType: { PropertyName: 'TypeCode', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        CreatedBy: { PropertyName: 'IssuedBy', Operator: '=', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
        Dropship: { PropertyName: 'Dropship', Operator: '=', Value: null },
        Full: { PropertyName: 'ReservationFull', Operator: '=', Value: null },
        OpenOnly: { PropertyName: 'TotalOpenQty', Operator: '>', Value: null },
        UnPrinted: { PropertyName: 'PrintCount', Operator: '<=', Value: null },
    };

    $scope.selectedBranch = '';
    $scope.selectedWarehouse = '';
    $scope.selectedCustomer = '';
    $scope.selectedSalesOrderType = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedCreatedBy = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;
    $scope.selectedOpenOnly = false;
    $scope.selectedUnPrinted = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_EmployeeWarehouseAccess = [];
    $scope.data_Warehouse_perBranch = [];
    $scope.data_BillingAddressNames = [];
    $scope.data_SalesOrderType = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = SalesOrdersTemplate_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['SO #', 'Code', 'Code', 'Text', true],
            ['PO#', 'PONumber', 'PONumber', 'Text', true],
            ['Type', 'TypeName', 'TypeName', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Branch', 'BranchName', 'BranchName', 'Text', true],
            ['Warehouse', 'WarehouseName', 'WarehouseName', 'Text', true],
            ['Customer', 'CustomerName', 'CustomerName', 'Text', true],
            ['Open', 'TotalOpenQty', 'TotalOpenQty', 'Number', true],
            ['Total Qty', 'TotalQty', 'TotalQty', 'Number', true],
            ['SO Value', 'TotalAmount', 'TotalAmount', 'Currency', true],
            ['R', 'ReserveStock', 'ReserveStock', 'Boolean', true],
            ['Created By', 'IssuedByName', 'IssuedByName', 'Text', true],
            ['Status', 'StatusName', 'StatusName', 'Text', true],
            ['Shipment Status', 'ShipmentStatusName', 'ShipmentStatusName', 'Text', true],
            ['Printed', 'PrintCount', 'PrintCount', 'Number', true],
            ['F', 'ReservationFull', 'ReservationFull', 'Boolean', true],
            ['D', 'Dropship', 'Dropship', 'Boolean', true],
            ['Payment Method', 'PaymentMethodName', 'PaymentMethodCode', 'Text', false],
            ['Item Count', 'NumberOfItems', '', 'Number', false],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedWarehouse) {
            $scope.filters.Warehouse.Operator = 'in';
            $scope.filters.Warehouse.Value = Utility_ERP.Value_OperatorIN_($scope.data_Warehouse_perBranch, 'Code');
        } else {
            $scope.filters.Warehouse.Operator = '=';
            $scope.filters.Warehouse.Value = $scope.selectedWarehouse;
        }

        if (!$scope.selectedSalesOrderType) {
            $scope.filters.SalesOrderType.Operator = 'in';
            $scope.filters.SalesOrderType.Value = Utility_ERP.Value_OperatorIN_($scope.data_SalesOrderType, 'Code');
        } else {
            $scope.filters.SalesOrderType.Operator = '=';
            $scope.filters.SalesOrderType.Value = $scope.selectedSalesOrderType;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        $scope.filters.OpenOnly.Value = null;
        if ($scope.selectedOpenOnly) {
            $scope.filters.OpenOnly.Value = 0;
        }

        $scope.filters.UnPrinted.Value = null;
        if ($scope.selectedUnPrinted) {
            $scope.filters.UnPrinted.Value = 0;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedCustomer'] = $scope.selectedCustomer;
        $scope.filters['selectedCreatedBy'] = $scope.selectedCreatedBy;
        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;
        $scope.filters['selectedOpenOnly'] = $scope.selectedOpenOnly;
        $scope.filters['selectedUnPrinted'] = $scope.selectedUnPrinted;

        $rootScope.SaveFilterState('SalesOrdersTemplate', $scope);

        delete $scope.filters['selectedCustomer'];
        delete $scope.filters['selectedCreatedBy'];
        delete $scope.filters['selectedShowAll'];
        delete $scope.filters['selectedOpenOnly'];
        delete $scope.filters['selectedUnPrinted'];
    };

    $scope.Branch_Changed = async function () {
        // --  untuk Page ini, setiap kali Branch berubah --> maka Warehouse ke posisi "All"
        // reset
        $scope.selectedWarehouse = '';

        $scope.Reorganize_Warehouse();

        await $scope.showData();
    };

    $scope.Reorganize_Warehouse = function () {
        var data = [];

        if (!$scope.selectedBranch) {
            // tanpa Filter Branch
            data = $scope.data_EmployeeWarehouseAccess;
        } else {
            // filter berdasarkan Branch
            data = $scope.data_EmployeeWarehouseAccess.filter(function (e) {
                return e.LocationCode == $scope.selectedBranch;
            });
        }

        $scope.data_Warehouse_perBranch = [...new Map(data.map((item) => [item['Code'], item])).values()].sort((x, y) => x.Code.localeCompare(y.Code));
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.customerSelected = async function (flag = true) {
        // reset
        $scope.data_BillingAddressNames = [];
        $scope.filters.Billto.Value = null;

        if ($rootScope.Not_ValidString($scope.filters.Customer.Value)) {
            if (flag) {
                $scope.showData();
            }

            return;
        }

        $scope.data_BillingAddressNames = await BusinessRelation_Service.GetBusinessRelationBillingAddressNames($scope.filters.Customer.Value);

        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_SalesOrderType = async function () {
        $scope.data_SalesOrderType = await SO_Service.Dropdown_SalesOrderType();
    };

    $scope.getData_BillingAddress = async function () {
        // Function untuk mendapatkan billing address options
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('SalesOrder');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let warehouse = $scope.filters.Warehouse.Value;
        if (warehouse && typeof warehouse === 'string' && warehouse.indexOf('(') >= 0) warehouse = '';
        $scope.selectedWarehouse = warehouse;

        let type = $scope.filters.SalesOrderType.Value;
        if (type && typeof type === 'string' && type.indexOf('(') >= 0) type = '';
        $scope.selectedSalesOrderType = type;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedCustomer = $scope.filters['selectedCustomer'];
            delete $scope.filters['selectedCustomer'];

            let billTo = $scope.filters.Billto.Value;
            await $scope.customerSelected(false);
            $scope.filters.Billto.Value = billTo;

            $scope.selectedCreatedBy = $scope.filters['selectedCreatedBy'];
            delete $scope.filters['selectedCreatedBy'];

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];

            $scope.selectedOpenOnly = $scope.filters['selectedOpenOnly'];
            delete $scope.filters['selectedOpenOnly'];

            $scope.selectedUnPrinted = $scope.filters['selectedUnPrinted'];
            delete $scope.filters['selectedUnPrinted'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $rootScope.EmployeeWarehouseAccess($scope, ''),
            $scope.getData_SalesOrderType(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('SalesOrdersTemplate', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.Reorganize_Warehouse();

        $scope.showData();
    };

    $scope.printForm = async function () { }

    $scope.exportList = async function () { }

    $scope.shipmentClick = async function () { }

    $scope.showCloseOrderForm = async function () { }

    $scope.showCancelPurchasingForm = async function () { }

    $scope.requestReservation = async function () { }

    $scope.releaseReservation = async function () { }

    $scope.showReleaseSOForm = async function () { }

    $scope.initialize_Page();
});

angular.module('app.erp').controller('SalesOrderTypeCtrl', function ($rootScope, $scope, Utility_ERP, SalesOrderType_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = SalesOrderType_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Description', 'Name', 'Name', 'Text', true],
            ['Active', 'Active', 'Active', 'Boolean', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('Sales_Order_Type', $scope);
    };

    ;

    async function Override_some_Filters() {
        // No special overrides needed for this simple filter
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('Sales_Order_Type', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.activateClick = async function () {
        let selectedRows = $scope.dt.data.filter(function (e) {
            return e.rowSelected == true;
        });

        if (selectedRows.length == 0) {
            $rootScope.Alert_NoRowSelected();
            return;
        }

        let codes = selectedRows.map(function (e) {
            return e.Code;
        });

        let confirm = await $rootScope.Confirm_('Activate selected items?');
        if (!confirm) return;

        Utility_ERP.Still_Processing($scope, true);

        let result = await SalesOrderType_Service.Activate(codes);

        Utility_ERP.Still_Processing($scope, false);

        if (result.Success) {
            $rootScope.Alert_Success('Data activated successfully');
            await $scope.showData();
        } else {
            $rootScope.Alert_Error(result.Message);
        }
    };

    $scope.deactivateClick = async function () {
        let selectedRows = $scope.dt.data.filter(function (e) {
            return e.rowSelected == true;
        });

        if (selectedRows.length == 0) {
            $rootScope.Alert_NoRowSelected();
            return;
        }

        let codes = selectedRows.map(function (e) {
            return e.Code;
        });

        let confirm = await $rootScope.Confirm_('Deactivate selected items?');
        if (!confirm) return;

        Utility_ERP.Still_Processing($scope, true);

        let result = await SalesOrderType_Service.Deactivate(codes);

        Utility_ERP.Still_Processing($scope, false);

        if (result.Success) {
            $rootScope.Alert_Success('Data deactivated successfully');
            await $scope.showData();
        } else {
            $rootScope.Alert_Error(result.Message);
        }
    };

    $scope.exportList = async function () {
        Utility_ERP.Still_Processing($scope, true);

        let result = await SalesOrderType_Service.ExportToExcel($scope.filters);

        Utility_ERP.Still_Processing($scope, false);

        if (result.Success) {
            $rootScope.DownloadFile(result.Data, 'SalesOrderType.xlsx');
        } else {
            $rootScope.Alert_Error(result.Message);
        }
    };

    $scope.importData = async function () {
        $rootScope.ShowImportDialog('SalesOrderType', async function () {
            await $scope.showData();
        });
    };

    $scope.initialize_Page();
});
// ini file Controller.js
angular.module('app.erp').controller('SalesPricesCtrl', function ($rootScope, $scope, Utility_ERP, SalesPrices_Service, Inventory_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'BranchCode', Operator: 'in', Value: '' },
        Brand: { PropertyName: 'BrandCode', Operator: '=', Value: '' },
        PriceGroup: { PropertyName: 'PriceGroupCode', Operator: '=', Value: '' },
        Category: { PropertyName: 'CategoryCode', Operator: '=', Value: null },
        Currency: { PropertyName: 'CurrencyCode', Operator: '=', Value: '' },
        EffectiveDate_date: { PropertyName: 'ValidFrom', Operator: '<=', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedPriceGroup = '';
    $scope.selectedCurrency = '';
    $scope.selectedBrand = '';
    $scope.selectedCategory = '';
    $scope.selectedEffectiveDate = $rootScope.Date_to_UI(new Date());

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_PriceGroup = [];
    $scope.data_Currency = [];
    $scope.data_Brand = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = SalesPrices_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Branch', 'BranchName', 'BranchName', 'TextX', true],
            ['Item #', 'ItemCode', 'ItemCode', 'Text', true],
            ['Category', 'CategoryName', 'CategoryName', 'Text', true],
            ['Brand', 'BrandName', 'BrandName', 'Text', true],
            ['Type', 'TypeName', 'TypeName', 'Text', true],
            ['Name', 'ItemName', 'ItemName', 'Text', true],
            ['Uom', 'UomName', 'UomName', 'Text', true],
            ['Price', 'Amount', 'Amount', 'Currency', true],
            ['Valid From', 'ValidFrom', 'ValidFrom', 'Date', true],
            ['New Price', 'NewPrice', 'Amount', 'TextInput', true],
            ['Inc. Tax', 'TaxIncluded', 'TaxIncluded', 'Boolean', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedPriceGroup) {
            $scope.filters.PriceGroup.Operator = 'in';
            $scope.filters.PriceGroup.Value = Utility_ERP.Value_OperatorIN_($scope.data_PriceGroup, 'Code');
        } else {
            $scope.filters.PriceGroup.Operator = '=';
            $scope.filters.PriceGroup.Value = $scope.selectedPriceGroup;
        }

        if (!$scope.selectedCurrency) {
            $scope.filters.Currency.Operator = 'in';
            $scope.filters.Currency.Value = Utility_ERP.Value_OperatorIN_($scope.data_Currency, 'Code');
        } else {
            $scope.filters.Currency.Operator = '=';
            $scope.filters.Currency.Value = $scope.selectedCurrency;
        }

        if (!$scope.selectedBrand) {
            $scope.filters.Brand.Operator = 'in';
            $scope.filters.Brand.Value = Utility_ERP.Value_OperatorIN_($scope.data_Brand, 'Code');
        } else {
            $scope.filters.Brand.Operator = '=';
            $scope.filters.Brand.Value = $scope.selectedBrand;
        }

        $scope.filters.EffectiveDate_date.Value = $rootScope.Date_to_DB($scope.selectedEffectiveDate);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedCategory'] = $scope.selectedCategory;

        $rootScope.SaveFilterState('SalesPrices', $scope);

        delete $scope.filters['selectedCategory'];
    };

    $scope.getData_PriceGroup = async function () {
        $scope.data_PriceGroup = await SalesPrices_Service.Dropdown_PriceGroup();
    };

    $scope.getData_Currency = async function () {
        $scope.data_Currency = await SalesPrices_Service.Dropdown_Currency();
    };

    $scope.getData_Brand = async function () {
        $scope.data_Brand = await SalesPrices_Service.Dropdown_Brand();
    };

    $scope.getData_Category = function (val) {
        return Inventory_Service.Dropdown_Category2(val);
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let priceGroup = $scope.filters.PriceGroup.Value;
        if (priceGroup && typeof priceGroup === 'string' && priceGroup.indexOf('(') >= 0) priceGroup = '';
        $scope.selectedPriceGroup = priceGroup;

        let currency = $scope.filters.Currency.Value;
        if (currency && typeof currency === 'string' && currency.indexOf('(') >= 0) currency = '';
        $scope.selectedCurrency = currency;

        let brand = $scope.filters.Brand.Value;
        if (brand && typeof brand === 'string' && brand.indexOf('(') >= 0) brand = '';
        $scope.selectedBrand = brand;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedCategory = $scope.filters['selectedCategory'];
            delete $scope.filters['selectedCategory'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_PriceGroup(),
            $scope.getData_Currency(),
            $scope.getData_Brand()
        ]);

        $rootScope.LoadFilterState('SalesPrices', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.saveData = async function () {
        // Implementation for save
    };

    $scope.downloadSchema = async function () {
        // Implementation for download schema
    };

    $scope.uploadData = async function () {
        // Implementation for upload
    };

    $scope.exportList = async function () {
        // Implementation for export
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('SalesPromoCtrl', function ($rootScope, $scope, Utility_ERP, SalesPromo_Service, Inventory_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Brand: { PropertyName: 'BrandCode', Operator: 'in', Value: '' },
        Type: { PropertyName: 'TypeCode', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'ValidFrom', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'ValidThru', Operator: '<=', Value: '' },
        Status: { PropertyName: 'StatusCode', Operator: 'in', Value: '' },
    };

    $scope.selectedBrand = '';
    $scope.selectedType = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedStatus = '';

    $scope.data_Brand = [];
    $scope.data_Type = [];
    $scope.data_Status = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = SalesPromo_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Brand', 'Brand', 'Brand', 'Text', true],
            ['Type', 'Type', 'Type', 'Text', true],
            ['Name', 'Name', 'Name', 'Text', true],
            ['Valid Form', 'ValidForm', 'ValidForm', 'Date', true],
            ['Valid Thru', 'ValidThru', 'ValidThru', 'Date', true],
            ['Status', 'Status', 'Status', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBrand) {
            $scope.filters.Brand.Operator = 'in';
            $scope.filters.Brand.Value = Utility_ERP.Value_OperatorIN_($scope.data_Brand, 'Code');
        } else {
            $scope.filters.Brand.Operator = '=';
            $scope.filters.Brand.Value = $scope.selectedBrand;
        }

        if (!$scope.selectedType) {
            $scope.filters.Type.Operator = 'in';
            $scope.filters.Type.Value = Utility_ERP.Value_OperatorIN_($scope.data_Type, 'Code');
        } else {
            $scope.filters.Type.Operator = '=';
            $scope.filters.Type.Value = $scope.selectedType;
        }

        if (!$scope.selectedStatus) {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN_($scope.data_Status, 'Code');
        } else {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('SalesPromo', $scope);
    };

    $scope.getData_Brand = async function () {
        $scope.data_Brand = await Inventory_Service.Dropdown_Brand();
    };

    $scope.getData_Type = async function () {
        $scope.data_Type = await SalesPromo_Service.Dropdown_Type();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status = await SalesPromo_Service.Dropdown_Status();
    };

    ;

    async function Override_some_Filters() {
        let brand = $scope.filters.Brand.Value;
        if (brand && typeof brand === 'string' && brand.indexOf('(') >= 0) brand = '';
        $scope.selectedBrand = brand;

        let type = $scope.filters.Type.Value;
        if (type && typeof type === 'string' && type.indexOf('(') >= 0) type = '';
        $scope.selectedType = type;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $scope.getData_Brand(),
            $scope.getData_Type(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('SalesPromo', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.reconcile = async function () { };

    $scope.upload = async function () { };

    $scope.exportList = async function () { };

    $scope.initialize_Page();
});
// ini file Controller.js
angular.module('app.erp').controller('SalesQuotationFormCtrl', function ($rootScope, $scope, $stateParams, $state, Utility_ERP, SalesQuotationForm_Service) {
    
    // Initialize Variables
    $scope.model = {};
    $scope.details = {
        MainItems: [],
        AlternateItems: []
    };
    $scope.summary = {
        GrandTotal: 0
    };
    $scope.datePicker = {};
    $scope.Is_Create = true;
    $scope.Is_Writeable = true;
    $scope.form = { submitted: false };
    
    // Data Sources
    $scope.data_Customer = [];
    $scope.data_Branch = [];
    $scope.data_BillTo = [];
    $scope.data_Salesman = [];
    $scope.data_Company = [];
    $scope.data_Marketing = [];
    $scope.data_Currency = [];
    $scope.data_VAT = [];
    $scope.data_InventoryItem = [];

    // Initialize Form
    $scope.initForm = function() {
        var quotationId = $stateParams.id;
        
        if (quotationId && quotationId !== 'new') {
            $scope.Is_Create = false;
            $scope.loadData(quotationId);
        } else {
            $scope.Is_Create = true;
            $scope.initNewForm();
        }
        
        $scope.loadMasterData();
    };

    // Initialize New Form
    $scope.initNewForm = function() {
        $scope.model = {
            Date: new Date(),
            ExpiredDate: new Date(),
            CurrencyCode: 'IDR'
        };
    };

    // Load Master Data
    $scope.loadMasterData = function() {
        SalesQuotationForm_Service.getMasterData().then(function(response) {
            $scope.data_Customer = response.data.Customers || [];
            $scope.data_Branch = response.data.Branches || [];
            $scope.data_Salesman = response.data.Salesmen || [];
            $scope.data_Company = response.data.Companies || [];
            $scope.data_Marketing = response.data.Marketing || [];
            $scope.data_Currency = response.data.Currencies || [];
            $scope.data_VAT = response.data.VAT || [];
        });
    };

    // Load Existing Data
    $scope.loadData = function(quotationId) {
        $('#idLoading').show();
        SalesQuotationForm_Service.getQuotationById(quotationId).then(function(response) {
            $scope.model = response.data.Header || {};
            $scope.details.MainItems = response.data.MainItems || [];
            $scope.details.AlternateItems = response.data.AlternateItems || [];
            
            // Convert dates
            if ($scope.model.Date) {
                $scope.model.Date = new Date($scope.model.Date);
            }
            if ($scope.model.ExpiredDate) {
                $scope.model.ExpiredDate = new Date($scope.model.ExpiredDate);
            }
            
            $scope.calculateSummary();
            $('#idLoading').hide();
        }, function(error) {
            $('#idLoading').hide();
            Utility_ERP.showError('Error loading data');
        });
    };

    // Customer Typeahead
    $scope.getData_Customer = function(searchText) {
        return SalesQuotationForm_Service.searchCustomer(searchText).then(function(response) {
            return response.data;
        });
    };

    // Customer Selected
    $scope.CustomerSelected = function() {
        if ($scope.model.selectedCustomer) {
            $scope.model.CustomerId = $scope.model.selectedCustomer.Id;
            $scope.model.CustomerCode = $scope.model.selectedCustomer.Code;
            $scope.model.CustomerName = $scope.model.selectedCustomer.Name;
            
            // Load customer bill to addresses
            SalesQuotationForm_Service.getCustomerAddresses($scope.model.CustomerId).then(function(response) {
                $scope.data_BillTo = response.data;
            });
        }
    };

    // Item Typeahead
    $scope.getData_InventoryItem = function(searchText) {
        return SalesQuotationForm_Service.searchInventoryItem(searchText).then(function(response) {
            return response.data;
        });
    };

    // Item Selected
    $scope.ItemSelected = function(row) {
        if (row.selectedItem) {
            row.ItemCode = row.selectedItem.Code;
            row.Description = row.selectedItem.ShortName;
            row.BaseUomCode = row.selectedItem.BaseUOMCode;
            row.UomCode = row.selectedItem.BaseUOMCode;
            
            // Load item UOM profile
            SalesQuotationForm_Service.getItemUomProfile(row.ItemCode).then(function(response) {
                row.UomList = response.data;
            });
            
            // Load item stock
            SalesQuotationForm_Service.getItemStock(row.ItemCode).then(function(response) {
                row.StockQty = response.data.AvailableQty || 0;
            });
            
            // Load item price
            if ($scope.model.CustomerId) {
                SalesQuotationForm_Service.getItemPrice(row.ItemCode, $scope.model.CustomerId).then(function(response) {
                    row.UnitAmount = response.data.Price || 0;
                    $scope.CalculateRow(row);
                });
            }
        }
    };

    // Clear Item
    $scope.ClearItem = function(row) {
        row.selectedItem = null;
        row.ItemCode = '';
        row.Description = '';
        row.UomCode = '';
        row.UomList = [];
        row.StockQty = 0;
        row.UnitAmount = 0;
        $scope.CalculateRow(row);
    };

    // Add Main Item
    $scope.AddMainItem = function() {
        var newRow = {
            recordNumber: $scope.details.MainItems.length + 1,
            Deleted: 0,
            ItemCode: '',
            Description: '',
            HasQty: true,
            IsOpen: false,
            IsClose: false,
            Qty: 1,
            UomCode: '',
            TotalQty: 0,
            TotalUomCode: '',
            UnitAmount: 0,
            TotalAmount: 0,
            DiscountPercent: 0,
            SubTotal: 0,
            VATCode: '',
            VATPercent: 0,
            Total: 0,
            StockQty: 0,
            IsConfirmed: false,
            UomList: []
        };
        
        $scope.details.MainItems.push(newRow);
    };

    // Remove Main Item
    $scope.RemoveMainItem = function(recordNumber) {
        var item = $scope.details.MainItems.find(function(x) { return x.recordNumber === recordNumber; });
        if (item) {
            item.Deleted = 1;
            $scope.calculateSummary();
        }
    };

    // Calculate Row
    $scope.CalculateRow = function(row) {
        row.TotalAmount = (row.Qty || 0) * (row.UnitAmount || 0);
        row.SubTotal = row.TotalAmount - (row.TotalAmount * (row.DiscountPercent || 0) / 100);
        
        // Get VAT Percent
        if (row.VATCode) {
            var vat = $scope.data_VAT.find(function(x) { return x.Code === row.VATCode; });
            row.VATPercent = vat ? vat.Percent : 0;
        }
        
        row.Total = row.SubTotal + (row.SubTotal * (row.VATPercent || 0) / 100);
        
        $scope.calculateSummary();
    };

    // Calculate Summary
    $scope.calculateSummary = function() {
        $scope.summary.GrandTotal = 0;
        
        $scope.details.MainItems.forEach(function(item) {
            if (item.Deleted === 0) {
                $scope.summary.GrandTotal += (item.Total || 0);
            }
        });
    };

    // Browse Items
    $scope.BrowseItems = function() {
        // Open item selection modal
        Utility_ERP.showInfo('Browse Items feature - to be implemented');
    };

    // Show Stock
    $scope.ShowStock = function() {
        // Show stock information
        Utility_ERP.showInfo('Show Stock feature - to be implemented');
    };

    // Show Alternate Items
    $scope.ShowAlternateItems = function() {
        // Show alternate quotation items
        Utility_ERP.showInfo('Alternate Quotations feature - to be implemented');
    };

    // Remove Alternate Item
    $scope.RemoveAlternateItem = function(recordNumber) {
        var item = $scope.details.AlternateItems.find(function(x) { return x.recordNumber === recordNumber; });
        if (item) {
            item.Deleted = 1;
        }
    };

    // Save Data
    $scope.saveData = function() {
        $scope.form.submitted = true;
        
        // Validate form
        if (!$scope.model.CustomerId) {
            Utility_ERP.showError('Customer is required');
            return;
        }
        if (!$scope.model.Date) {
            Utility_ERP.showError('Date is required');
            return;
        }
        if (!$scope.model.ExpiredDate) {
            Utility_ERP.showError('Expired Date is required');
            return;
        }
        
        // Validate items
        var validItems = $scope.details.MainItems.filter(function(x) { return x.Deleted === 0; });
        if (validItems.length === 0) {
            Utility_ERP.showError('Please add at least one item');
            return;
        }
        
        $('#idLoading').show();
        
        var dataToSave = {
            Header: $scope.model,
            MainItems: $scope.details.MainItems,
            AlternateItems: $scope.details.AlternateItems
        };
        
        var savePromise = $scope.Is_Create 
            ? SalesQuotationForm_Service.createQuotation(dataToSave)
            : SalesQuotationForm_Service.updateQuotation($scope.model.Id, dataToSave);
        
        savePromise.then(function(response) {
            $('#idLoading').hide();
            Utility_ERP.showSuccess('Data saved successfully');
            
            if ($scope.Is_Create) {
                $state.go('app.erp.salesQuotationForm', { id: response.data.Id });
            }
        }, function(error) {
            $('#idLoading').hide();
            Utility_ERP.showError('Error saving data: ' + (error.data ? error.data.Message : 'Unknown error'));
        });
    };

    // Toggle Debug Scope
    $scope.Toggle_debugScope = function() {
        $scope.allData_toJson = !$scope.allData_toJson;
        if ($scope.allData_toJson) {
            $scope.allData_toJson2 = {
                model: $scope.model,
                details: $scope.details,
                summary: $scope.summary
            };
        }
    };

    // Initialize form on load
    $scope.initForm();
});
angular.module('app.erp').controller('SalesQuotationsCtrl', function ($rootScope, $scope, Utility_ERP, SalesQuotations_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Customer: { PropertyName: 'CustomerID', Operator: '=', Value: '' },
        CreatedBy: { PropertyName: 'IssuedBy', Operator: '=', Value: '' },
        Date_date: { PropertyName: 'Date', Operator: '=', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
        UnPrinted: { PropertyName: 'PrintCount', Operator: '<=', Value: null },
    };

    $scope.selectedBranch = '';
    $scope.selectedCustomer = '';
    $scope.selectedCreatedBy = '';
    $scope.selectedDate = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;
    $scope.selectedUnPrinted = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = SalesQuotations_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Quot #', 'Code', 'Code', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Branch', 'BranchName', 'BranchName', 'Text', true],
            ['Customer', 'CustomerName', 'CustomerName', 'Text', true],
            ['Total Qty', 'TotalQty', 'TotalQty', 'Number', true],
            ['Value', 'TotalAmount', 'TotalAmount', 'Currency', true],
            ['Created By', 'IssuedByName', 'IssuedByName', 'Text', true],
            ['Status', 'StatusName', 'StatusName', 'Text', true],
            ['Printed', 'PrintCount', 'PrintCount', 'Number', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        $scope.filters.Date_date.Value = $rootScope.Date_to_DB($scope.selectedDate);

        $scope.filters.UnPrinted.Value = null;
        if ($scope.selectedUnPrinted) {
            $scope.filters.UnPrinted.Value = 0;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedCustomer'] = $scope.selectedCustomer;
        $scope.filters['selectedCreatedBy'] = $scope.selectedCreatedBy;
        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;
        $scope.filters['selectedUnPrinted'] = $scope.selectedUnPrinted;

        $rootScope.SaveFilterState('SalesQuotations', $scope);

        delete $scope.filters['selectedCustomer'];
        delete $scope.filters['selectedCreatedBy'];
        delete $scope.filters['selectedShowAll'];
        delete $scope.filters['selectedUnPrinted'];
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.getData_User = async function (val) {
        return await $rootScope.getData_User(val, $scope);
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('SalesQuotation');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedCustomer = $scope.filters['selectedCustomer'];
            delete $scope.filters['selectedCustomer'];

            $scope.selectedCreatedBy = $scope.filters['selectedCreatedBy'];
            delete $scope.filters['selectedCreatedBy'];

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];

            $scope.selectedUnPrinted = $scope.filters['selectedUnPrinted'];
            delete $scope.filters['selectedUnPrinted'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('SalesQuotations', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.printForm = async function () { }

    $scope.exportList = async function () { }

    $scope.initialize_Page();
});
//
angular.module('app.erp').controller('SalesReturnsCtrl', function ($rootScope, $scope, Utility_ERP, SalesReturns_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Warehouse: { PropertyName: 'WarehouseCode', Operator: 'in', Value: '' },
        Customer: { PropertyName: 'CustomerID', Operator: '=', Value: '' },
        Reason: { PropertyName: 'ReasonCode', Operator: 'in', Value: '' },
        Date_date: { PropertyName: 'Date', Operator: '=', Value: '' },
        PickFrom: { PropertyName: 'PickFrom', Operator: 'in', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedWarehouse = '';
    $scope.selectedCustomer = '';
    $scope.selectedReason = '';
    $scope.selectedDate = '';
    $scope.selectedPickFrom = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_EmployeeWarehouseAccess = [];
    $scope.data_Warehouse_perBranch = [];
    $scope.data_Reason = [];
    $scope.data_PickFrom = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = SalesReturns_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['SR #', 'Code', 'Code', 'Text', true],
            ['Reason', 'ReasonName', 'ReasonName', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Branch', 'BranchName', 'BranchName', 'Text', true],
            ['Warehouse', 'WarehouseName', 'WarehouseName', 'Text', true],
            ['Customer', 'CustomerName', 'CustomerName', 'Text', true],
            ['Pick From', 'PickFrom', 'PickFrom', 'Text', true],
            ['Total Qty', 'TotalQty', 'TotalQty', 'Number', true],
            ['Pick Up', 'PickUp', 'PickUp', 'Boolean', true],
            ['Pickup Nr.', 'PickupNumber', 'PickupNumber', 'Text', true],
            ['Issued By', 'IssuedByName', 'IssuedByName', 'Text', true],
            ['Status', 'StatusName', 'StatusName', 'Text', true],
            ['Substitute', 'Substitute', 'Substitute', 'Boolean', true],
            ['P. Return', 'PurchaseReturn', 'PurchaseReturn', 'Boolean', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedWarehouse) {
            $scope.filters.Warehouse.Operator = 'in';
            $scope.filters.Warehouse.Value = Utility_ERP.Value_OperatorIN_($scope.data_Warehouse_perBranch, 'Code');
        } else {
            $scope.filters.Warehouse.Operator = '=';
            $scope.filters.Warehouse.Value = $scope.selectedWarehouse;
        }

        if (!$scope.selectedReason) {
            $scope.filters.Reason.Operator = 'in';
            $scope.filters.Reason.Value = Utility_ERP.Value_OperatorIN_($scope.data_Reason, 'Code');
        } else {
            $scope.filters.Reason.Operator = '=';
            $scope.filters.Reason.Value = $scope.selectedReason;
        }

        if (!$scope.selectedPickFrom) {
            $scope.filters.PickFrom.Operator = 'in';
            $scope.filters.PickFrom.Value = Utility_ERP.Value_OperatorIN_($scope.data_PickFrom, 'Code');
        } else {
            $scope.filters.PickFrom.Operator = '=';
            $scope.filters.PickFrom.Value = $scope.selectedPickFrom;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        $scope.filters.Date_date.Value = $rootScope.Date_to_DB($scope.selectedDate);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedCustomer'] = $scope.selectedCustomer;
        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('SalesReturns', $scope);

        delete $scope.filters['selectedCustomer'];
        delete $scope.filters['selectedShowAll'];
    };

    $scope.Branch_Changed = async function () {
        // reset
        $scope.selectedWarehouse = '';

        $scope.Reorganize_Warehouse();

        await $scope.showData();
    };

    $scope.Reorganize_Warehouse = function () {
        var data = [];

        if (!$scope.selectedBranch) {
            // tanpa Filter Branch
            data = $scope.data_EmployeeWarehouseAccess;
        } else {
            // filter berdasarkan Branch
            data = $scope.data_EmployeeWarehouseAccess.filter(function (e) {
                return e.LocationCode == $scope.selectedBranch;
            });
        }

        $scope.data_Warehouse_perBranch = [...new Map(data.map((item) => [item['Code'], item])).values()].sort((x, y) => x.Code.localeCompare(y.Code));
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.getData_Reason = async function () {
        $scope.data_Reason = await Utility_ERP.getData_SalesReturnReason();
    };

    $scope.getData_PickFrom = async function () {
        $scope.data_PickFrom = await Utility_ERP.getData_SalesReturnPickFrom();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('SalesReturn');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let warehouse = $scope.filters.Warehouse.Value;
        if (warehouse && typeof warehouse === 'string' && warehouse.indexOf('(') >= 0) warehouse = '';
        $scope.selectedWarehouse = warehouse;

        let reason = $scope.filters.Reason.Value;
        if (reason && typeof reason === 'string' && reason.indexOf('(') >= 0) reason = '';
        $scope.selectedReason = reason;

        let pickFrom = $scope.filters.PickFrom.Value;
        if (pickFrom && typeof pickFrom === 'string' && pickFrom.indexOf('(') >= 0) pickFrom = '';
        $scope.selectedPickFrom = pickFrom;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedCustomer = $scope.filters['selectedCustomer'];
            delete $scope.filters['selectedCustomer'];

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $rootScope.EmployeeWarehouseAccess($scope, ''),
            $scope.getData_Reason(),
            $scope.getData_PickFrom(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('SalesReturns', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.Reorganize_Warehouse();

        $scope.showData();
    };

    $scope.pickupForm = async function () { }

    $scope.refundForm = async function () { }

    $scope.voidForm = async function () { }

    $scope.removeForm = async function () { }

    $scope.initialize_Page();
});
// ini file Controller.js
// ini file Controller.js
//
// ini file Controller.js
angular.module('app.erp').controller('TopChangeRequestCtrl', function ($rootScope, $scope, Utility_ERP, TopChangeRequest_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = TopChangeRequest_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Name', 'Name', 'Name', 'Text', true],
            ['Category', 'Category', 'Category', 'Text', true],
            ['Bussines Line', 'BussinesLine', 'BussinesLine', 'Text', true],
            ['Requested By', 'RequestedBy', 'RequestedBy', 'Text', true],
            ['Status', 'Status', 'Status', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('TopChangeRequest', $scope);
    };

    

    async function Override_some_Filters() {
        // No additional filters to override for this page
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('TopChangeRequest', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.verifyClick = async function () { }

    $scope.initialize_Page();
});
// ini file Controller.js
//
// ini file Controller.js

// ini file Controller.js
// ini file Controller.js
// ini file Controller.js

// ini file Controller.js
angular.module('app.erp').controller('CancelShipmentsCtrl', function ($rootScope, $scope, Utility_ERP, CancelShipments_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Customer: { PropertyName: 'CustomerID', Operator: '=', Value: '' },
        Warehouse: { PropertyName: 'WarehouseCode', Operator: 'in', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedCustomer = '';
    $scope.selectedWarehouse = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_EmployeeWarehouseAccess = [];
    $scope.data_Warehouse_perBranch = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = CancelShipments_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Close Nr #', 'CloseNr', 'CloseNr', 'Text', true],
            ['SO#', 'SO', 'SO', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Warehouse', 'Warehouse', 'Warehouse', 'Text', true],
            ['Customer', 'Customer', 'Customer', 'Text', true],
            ['Issued By', 'IssuedBy', 'IssuedBy', 'Text', true],
            ['Status', 'Status', 'Status', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedWarehouse) {
            $scope.filters.Warehouse.Operator = 'in';
            $scope.filters.Warehouse.Value = Utility_ERP.Value_OperatorIN_($scope.data_Warehouse_perBranch, 'Code');
        } else {
            $scope.filters.Warehouse.Operator = '=';
            $scope.filters.Warehouse.Value = $scope.selectedWarehouse;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedCustomer'] = $scope.selectedCustomer;
        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('CancelShipments', $scope);

        delete $scope.filters['selectedCustomer'];
        delete $scope.filters['selectedShowAll'];
    };

    $scope.Branch_Changed = async function () {
        // --  untuk Page ini, setiap kali Branch berubah --> maka Warehouse ke posisi "All"
        // reset
        $scope.selectedWarehouse = '';

        $scope.Reorganize_Warehouse();

        await $scope.showData();
    };

    $scope.Reorganize_Warehouse = function () {
        var data = [];

        if (!$scope.selectedBranch) {
            // tanpa Filter Branch
            data = $scope.data_EmployeeWarehouseAccess;
        } else {
            // filter berdasarkan Branch
            data = $scope.data_EmployeeWarehouseAccess.filter(function (e) {
                return e.LocationCode == $scope.selectedBranch;
            });
        }

        $scope.data_Warehouse_perBranch = [...new Map(data.map((item) => [item['Code'], item])).values()].sort((x, y) => x.Code.localeCompare(y.Code));
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('CancelShipment');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let warehouse = $scope.filters.Warehouse.Value;
        if (warehouse && typeof warehouse === 'string' && warehouse.indexOf('(') >= 0) warehouse = '';
        $scope.selectedWarehouse = warehouse;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedCustomer = $scope.filters['selectedCustomer'];
            delete $scope.filters['selectedCustomer'];

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $rootScope.EmployeeWarehouseAccess($scope, ''),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('CancelShipments', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.Reorganize_Warehouse();

        $scope.showData();
    };

    $scope.printForm = async function () { };

    $scope.verify = async function () { };

    $scope.initialize_Page();
});
//
angular.module('app.erp').controller('CarriersCtrl', function ($rootScope, $scope, Utility_ERP, Carriers_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = Carriers_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Type', 'Type', 'Type', 'Text', true],
            ['Carrier Nr.', 'CarrierNr', 'CarrierNr', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('Carriers', $scope);
    };

    

    async function Override_some_Filters() {
        // No special override needed for this simple page
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('Carriers', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});
//
angular.module('app.erp').controller('CarrierTypesCtrl', function ($rootScope, $scope, Utility_ERP, CarrierTypes_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = CarrierTypes_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('CarrierTypes', $scope);
    };

    

    async function Override_some_Filters() {
        // No special override needed for this simple page
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('CarrierTypes', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.initialize_Page();
});
// ini file Controller.js
//
// ini file Controller.js
// ini file Controller.js
angular.module('app.erp').controller('DeliveryOrdersCtrl', function ($rootScope, $scope, Utility_ERP, DeliveryOrders_Service, BusinessRelation_Service, Shipment_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Warehouse: { PropertyName: 'WarehouseCode', Operator: 'in', Value: '' },
        ReasonType: { PropertyName: 'ReasonType', Operator: 'in', Value: '' },
        Consignee: { PropertyName: 'ConsigneeID', Operator: '=', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
        ReasonNr: { PropertyName: 'ReasonNr', Operator: 'contains', Value: '' },
        ManifestNr: { PropertyName: 'ManifestNr', Operator: 'contains', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        Dropship: { PropertyName: 'Dropship', Operator: '=', Value: null },
    };

    $scope.selectedBranch = '';
    $scope.selectedWarehouse = '';
    $scope.selectedReasonType = '';
    $scope.selectedConsignee = '';
    $scope.selectedStatus = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_EmployeeWarehouseAccess = [];
    $scope.data_Warehouse_perBranch = [];
    $scope.data_ReasonType = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = DeliveryOrders_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Shipment#', 'Shipment', 'Shipment', 'Text', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Warehouse', 'Warehouse', 'Warehouse', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Reason Type', 'ReasonType', 'ReasonType', 'Text', true],
            ['Reason Nr.', 'ReasonNr', 'ReasonNr', 'Text', true],
            ['Consignee', 'Consignee', 'Consignee', 'Text', true],
            ['Manifest Nr.', 'ManifestNr', 'ManifestNr', 'Text', true],
            ['Receiver', 'Receiver', 'Receiver', 'Text', true],
            ['Verified Date', 'VerifiedDate', 'VerifiedDate', 'Date', true],
            ['Verified By', 'VerifiedBy', 'VerifiedBy', 'Text', true],
            ['Status', 'Status', 'Status', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedWarehouse) {
            $scope.filters.Warehouse.Operator = 'in';
            $scope.filters.Warehouse.Value = Utility_ERP.Value_OperatorIN_($scope.data_Warehouse_perBranch, 'Code');
        } else {
            $scope.filters.Warehouse.Operator = '=';
            $scope.filters.Warehouse.Value = $scope.selectedWarehouse;
        }

        if (!$scope.selectedReasonType) {
            $scope.filters.ReasonType.Operator = 'in';
            $scope.filters.ReasonType.Value = Utility_ERP.Value_OperatorIN_($scope.data_ReasonType, 'Code');
        } else {
            $scope.filters.ReasonType.Operator = '=';
            $scope.filters.ReasonType.Value = $scope.selectedReasonType;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedConsignee'] = $scope.selectedConsignee;
        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('DeliveryOrders', $scope);

        delete $scope.filters['selectedConsignee'];
        delete $scope.filters['selectedShowAll'];
    };

    $scope.Branch_Changed = async function () {
        // --  untuk Page ini, setiap kali Branch berubah --> maka Warehouse ke posisi "All"
        // reset
        $scope.selectedWarehouse = '';

        $scope.Reorganize_Warehouse();

        await $scope.showData();
    };

    $scope.Reorganize_Warehouse = function () {
        var data = [];

        if (!$scope.selectedBranch) {
            // tanpa Filter Branch
            data = $scope.data_EmployeeWarehouseAccess;
        } else {
            // filter berdasarkan Branch
            data = $scope.data_EmployeeWarehouseAccess.filter(function (e) {
                return e.LocationCode == $scope.selectedBranch;
            });
        }

        $scope.data_Warehouse_perBranch = [...new Map(data.map((item) => [item['Code'], item])).values()].sort((x, y) => x.Code.localeCompare(y.Code));
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.customerSelected = async function (flag = true) {
        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_ReasonType = async function () {
        $scope.data_ReasonType = await Shipment_Service.Dropdown_ReasonType();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('DeliveryOrder');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let warehouse = $scope.filters.Warehouse.Value;
        if (warehouse && typeof warehouse === 'string' && warehouse.indexOf('(') >= 0) warehouse = '';
        $scope.selectedWarehouse = warehouse;

        let reasonType = $scope.filters.ReasonType.Value;
        if (reasonType && typeof reasonType === 'string' && reasonType.indexOf('(') >= 0) reasonType = '';
        $scope.selectedReasonType = reasonType;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedConsignee = $scope.filters['selectedConsignee'];
            delete $scope.filters['selectedConsignee'];

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $rootScope.EmployeeWarehouseAccess($scope, ''),
            $scope.getData_ReasonType(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('DeliveryOrders', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.Reorganize_Warehouse();

        $scope.showData();
    };

    $scope.printForm = async function () { }

    $scope.exportList = async function () { }

    $scope.verifyClick = async function () { }

    $scope.addToManifest = async function () { }

    $scope.invoiceRequest = async function () { }

    $scope.printAlt = async function () { }

    $scope.initialize_Page();
});
// ini file Controller.js
angular.module('app.erp').controller('DeliveryOrderVerificationCtrl', function ($rootScope, $scope, Utility_ERP, DeliveryOrderVerification_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        DeliveredDate_date: { PropertyName: 'DeliveredDate', Operator: '=', Value: '' },
        PickerCarrierNr: { PropertyName: 'PickerCarrierNr', Operator: '=', Value: '' },
        PickedBy: { PropertyName: 'PickedBy', Operator: '=', Value: '' },
        Attachment: { PropertyName: 'Attachment', Operator: '=', Value: null },
        PostponedDate_date: { PropertyName: 'PostponedDate', Operator: '=', Value: '' },
    };

    $scope.selectedDeliveredDate = '';
    $scope.selectedPickedBy = '';
    $scope.selectedPostponedDate = '';

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = DeliveryOrderVerification_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Item Code', 'ItemCode', 'ItemCode', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['Qty', 'Qty', 'Qty', 'Number', true],
            ['Uom', 'Uom', 'Uom', 'Text', true],
            ['Qty', 'Qty2', 'Qty2', 'Number', true],
            ['Uom', 'Uom2', 'Uom2', 'Text', true],
            ['Qty', 'Qty3', 'Qty3', 'Number', true],
            ['Uom', 'Uom3', 'Uom3', 'Text', true],
            ['Action', 'Action', 'Action', 'Text', true],
            ['Notes', 'Notes', 'Notes', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        $scope.filters.DeliveredDate_date.Value = $rootScope.Date_to_DB($scope.selectedDeliveredDate);
        $scope.filters.PostponedDate_date.Value = $rootScope.Date_to_DB($scope.selectedPostponedDate);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedPickedBy'] = $scope.selectedPickedBy;

        $rootScope.SaveFilterState('DeliveryOrderVerification', $scope);

        delete $scope.filters['selectedPickedBy'];
    };

    $scope.getData_Employee = async function (val) {
        return await $rootScope.getData_Employee(val, $scope);
    };

    ;

    async function Override_some_Filters() {
        if ($scope.LoadFilterState_) {
            $scope.selectedPickedBy = $scope.filters['selectedPickedBy'];
            delete $scope.filters['selectedPickedBy'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('DeliveryOrderVerification', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.verifyDO = async function () {
        // Implementation for Verify D/O
    };

    $scope.initialize_Page();
});
// ini file Controller.js
angular.module('app.erp').controller('DeliveryRequestsCtrl', function ($rootScope, $scope, Utility_ERP, DeliveryRequests_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        Type: { PropertyName: 'TypeCode', Operator: 'in', Value: '' },
        Warehouse: { PropertyName: 'WarehouseCode', Operator: 'in', Value: '' },
        ExpDeliveredDateFrom_date: { PropertyName: 'ExpDeliveredDate', Operator: '>=', Value: '' },
        ExpDeliveredDateTo_date: { PropertyName: 'ExpDeliveredDate', Operator: '<=', Value: '' },
        Pickup: { PropertyName: 'PickupCode', Operator: 'in', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedType = '';
    $scope.selectedShowAll = false;
    $scope.selectedWarehouse = '';
    $scope.selectedExpDeliveredDateFrom = '';
    $scope.selectedExpDeliveredDateTo = '';
    $scope.selectedPickup = '';
    $scope.selectedStatus = '';

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_EmployeeWarehouseAccess = [];
    $scope.data_Warehouse_perBranch = [];
    $scope.data_Type = [];
    $scope.data_Pickup = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = DeliveryRequests_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Request#', 'Request', 'Request', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Type', 'Type', 'Type', 'Text', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Warehouse', 'Warehouse', 'Warehouse', 'Text', true],
            ['Assigned To', 'AssignedTo', 'AssignedTo', 'Text', true],
            ['Total Qty', 'TotalQty', 'TotalQty', 'Number', true],
            ['Exp.Delivered Date', 'ExpDeliveredDate', 'ExpDeliveredDate', 'Date', true],
            ['Status', 'Status', 'Status', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        if (!$scope.selectedType) {
            $scope.filters.Type.Operator = 'in';
            $scope.filters.Type.Value = Utility_ERP.Value_OperatorIN_($scope.data_Type, 'Code');
        } else {
            $scope.filters.Type.Operator = '=';
            $scope.filters.Type.Value = $scope.selectedType;
        }

        if (!$scope.selectedWarehouse) {
            $scope.filters.Warehouse.Operator = 'in';
            $scope.filters.Warehouse.Value = Utility_ERP.Value_OperatorIN_($scope.data_Warehouse_perBranch, 'Code');
        } else {
            $scope.filters.Warehouse.Operator = '=';
            $scope.filters.Warehouse.Value = $scope.selectedWarehouse;
        }

        $scope.filters.ExpDeliveredDateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedExpDeliveredDateFrom);
        $scope.filters.ExpDeliveredDateTo_date.Value = $rootScope.Date_to_DB($scope.selectedExpDeliveredDateTo);

        if (!$scope.selectedPickup) {
            $scope.filters.Pickup.Operator = 'in';
            $scope.filters.Pickup.Value = Utility_ERP.Value_OperatorIN_($scope.data_Pickup, 'Code');
        } else {
            $scope.filters.Pickup.Operator = '=';
            $scope.filters.Pickup.Value = $scope.selectedPickup;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('DeliveryRequests', $scope);

        delete $scope.filters['selectedShowAll'];
    };

    $scope.Branch_Changed = async function () {
        // --  untuk Page ini, setiap kali Branch berubah --> maka Warehouse ke posisi "All"
        // reset
        $scope.selectedWarehouse = '';

        $scope.Reorganize_Warehouse();

        await $scope.showData();
    };

    $scope.Reorganize_Warehouse = function () {
        var data = [];

        if (!$scope.selectedBranch) {
            // tanpa Filter Branch
            data = $scope.data_EmployeeWarehouseAccess;
        } else {
            // filter berdasarkan Branch
            data = $scope.data_EmployeeWarehouseAccess.filter(function (e) {
                return e.LocationCode == $scope.selectedBranch;
            });
        }

        $scope.data_Warehouse_perBranch = [...new Map(data.map((item) => [item['Code'], item])).values()].sort((x, y) => x.Code.localeCompare(y.Code));
    };

    $scope.getData_Type = async function () {
        $scope.data_Type = await DeliveryRequests_Service.Dropdown_Type();
    };

    $scope.getData_Pickup = async function () {
        $scope.data_Pickup = await DeliveryRequests_Service.Dropdown_Pickup();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('DeliveryRequest');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let warehouse = $scope.filters.Warehouse.Value;
        if (warehouse && typeof warehouse === 'string' && warehouse.indexOf('(') >= 0) warehouse = '';
        $scope.selectedWarehouse = warehouse;

        let type = $scope.filters.Type.Value;
        if (type && typeof type === 'string' && type.indexOf('(') >= 0) type = '';
        $scope.selectedType = type;

        let pickup = $scope.filters.Pickup.Value;
        if (pickup && typeof pickup === 'string' && pickup.indexOf('(') >= 0) pickup = '';
        $scope.selectedPickup = pickup;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $rootScope.EmployeeWarehouseAccess($scope, ''),
            $scope.getData_Type(),
            $scope.getData_Pickup(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('DeliveryRequests', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.Reorganize_Warehouse();

        $scope.showData();
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('DOReconciliationCtrl', function ($rootScope, $scope, Utility_ERP, DOReconciliation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Warehouse: { PropertyName: 'WarehouseCode', Operator: 'in', Value: '' },
        DeliveredDO: { PropertyName: 'DeliveredDO', Operator: 'contains', Value: '' },
        ReconciledDO: { PropertyName: 'ReconciledDO', Operator: 'contains', Value: '' },
        VerifiedDate_date: { PropertyName: 'VerifiedDate', Operator: '=', Value: '' },
        PhysicalOnHand: { PropertyName: 'PhysicalOnHand', Operator: 'contains', Value: '' },
        Discrepancy: { PropertyName: 'Discrepancy', Operator: 'contains', Value: '' },
        UnreconciledDO: { PropertyName: 'UnreconciledDO', Operator: 'contains', Value: '' },
        ShowUnreconciledOnly: { PropertyName: 'IsReconciled', Operator: '=', Value: null },
    };

    $scope.selectedWarehouse = '';
    $scope.selectedVerifiedDate = '';
    $scope.selectedShowUnreconciledOnly = false;

    $scope.data_EmployeeWarehouseAccess = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = DOReconciliation_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Shipment#', 'Shipment', 'Shipment', 'Text', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Warehouse', 'Warehouse', 'Warehouse', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Reason Type', 'ReasonType', 'ReasonType', 'Text', true],
            ['Reason Nr.', 'ReasonNr', 'ReasonNr', 'Text', true],
            ['Consignee', 'Consignee', 'Consignee', 'Text', true],
            ['Manifest Nr.', 'ManifestNr', 'ManifestNr', 'Text', true],
            ['Receiver', 'Receiver', 'Receiver', 'Text', true],
            ['Verified Date', 'VerifiedDate', 'VerifiedDate', 'Date', true],
            ['Verified By', 'VerifiedBy', 'VerifiedBy', 'Text', true],
            ['Status', 'Status', 'Status', 'Text', true],
            ['Attachment', 'Attachment', 'Attachment', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedWarehouse) {
            $scope.filters.Warehouse.Operator = 'in';
            $scope.filters.Warehouse.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeWarehouseAccess, 'Code');
        } else {
            $scope.filters.Warehouse.Operator = '=';
            $scope.filters.Warehouse.Value = $scope.selectedWarehouse;
        }

        $scope.filters.VerifiedDate_date.Value = $rootScope.Date_to_DB($scope.selectedVerifiedDate);

        $scope.filters.ShowUnreconciledOnly.Value = null;
        if ($scope.selectedShowUnreconciledOnly) {
            $scope.filters.ShowUnreconciledOnly.Value = false;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedShowUnreconciledOnly'] = $scope.selectedShowUnreconciledOnly;

        $rootScope.SaveFilterState('DOReconciliation', $scope);

        delete $scope.filters['selectedShowUnreconciledOnly'];
    };

    

    async function Override_some_Filters() {
        let warehouse = $scope.filters.Warehouse.Value;
        if (warehouse && typeof warehouse === 'string' && warehouse.indexOf('(') >= 0) warehouse = '';
        $scope.selectedWarehouse = warehouse;

        if ($scope.LoadFilterState_) {
            $scope.selectedShowUnreconciledOnly = $scope.filters['selectedShowUnreconciledOnly'];
            delete $scope.filters['selectedShowUnreconciledOnly'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeWarehouseAccess($scope, '')
        ]);

        $rootScope.LoadFilterState('DOReconciliation', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.reconcile = async function () { }

    $scope.unReconcile = async function () { }

    $scope.initialize_Page();
});
// 
angular.module('app.erp').controller('InternalPickupMemosCtrl', function ($rootScope, $scope, Utility_ERP, InternalPickupMemos_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        DocType: { PropertyName: 'DocTypeCode', Operator: 'in', Value: '' },
        Supplier: { PropertyName: 'SupplierID', Operator: '=', Value: '' },
        PickFrom: { PropertyName: 'PickFromCode', Operator: 'in', Value: '' },
        Consignee: { PropertyName: 'ConsigneeID', Operator: '=', Value: '' },
        ShipTo: { PropertyName: 'ShipToCode', Operator: 'in', Value: '' },
        Shipper: { PropertyName: 'ShipperID', Operator: '=', Value: '' },
        ShipperAddress: { PropertyName: 'ShipperAddressCode', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' }
    };

    $scope.selectedBranch = '';
    $scope.selectedDocType = '';
    $scope.selectedSupplier = '';
    $scope.selectedPickFrom = '';
    $scope.selectedConsignee = '';
    $scope.selectedShipTo = '';
    $scope.selectedShipper = '';
    $scope.selectedShipperAddress = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_DocType = [];
    $scope.data_PickFrom = [];
    $scope.data_ShipTo = [];
    $scope.data_ShipperAddress = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = InternalPickupMemos_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Order #', 'Order', 'Order', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Supplier', 'Supplier', 'Supplier', 'Text', true],
            ['Consignee', 'Consignee', 'Consignee', 'Text', true],
            ['Shipper', 'Shipper', 'Shipper', 'Text', true],
            ['Doc. Type', 'DocType', 'DocType', 'Text', true],
            ['Doc Number', 'DocNumber', 'DocNumber', 'Text', true],
            ['Promised Date', 'PromisedDate', 'PromisedDate', 'Date', true],
            ['Issued By', 'IssuedBy', 'IssuedBy', 'Text', true],
            ['Status', 'Status', 'Status', 'Text', true]
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedDocType) {
            $scope.filters.DocType.Operator = 'in';
            $scope.filters.DocType.Value = Utility_ERP.Value_OperatorIN_($scope.data_DocType, 'Code');
        } else {
            $scope.filters.DocType.Operator = '=';
            $scope.filters.DocType.Value = $scope.selectedDocType;
        }

        if (!$scope.selectedPickFrom) {
            $scope.filters.PickFrom.Operator = 'in';
            $scope.filters.PickFrom.Value = Utility_ERP.Value_OperatorIN_($scope.data_PickFrom, 'Code');
        } else {
            $scope.filters.PickFrom.Operator = '=';
            $scope.filters.PickFrom.Value = $scope.selectedPickFrom;
        }

        if (!$scope.selectedShipTo) {
            $scope.filters.ShipTo.Operator = 'in';
            $scope.filters.ShipTo.Value = Utility_ERP.Value_OperatorIN_($scope.data_ShipTo, 'Code');
        } else {
            $scope.filters.ShipTo.Operator = '=';
            $scope.filters.ShipTo.Value = $scope.selectedShipTo;
        }

        if (!$scope.selectedShipperAddress) {
            $scope.filters.ShipperAddress.Operator = 'in';
            $scope.filters.ShipperAddress.Value = Utility_ERP.Value_OperatorIN_($scope.data_ShipperAddress, 'Code');
        } else {
            $scope.filters.ShipperAddress.Operator = '=';
            $scope.filters.ShipperAddress.Value = $scope.selectedShipperAddress;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedSupplier'] = $scope.selectedSupplier;
        $scope.filters['selectedConsignee'] = $scope.selectedConsignee;
        $scope.filters['selectedShipper'] = $scope.selectedShipper;
        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('InternalPickupMemos', $scope);

        delete $scope.filters['selectedSupplier'];
        delete $scope.filters['selectedConsignee'];
        delete $scope.filters['selectedShipper'];
        delete $scope.filters['selectedShowAll'];
    };

    $scope.Branch_Changed = async function () {
        // --  untuk Page ini, setiap kali Branch berubah --> tidak ada perubahan khusus
        await $scope.showData();
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.getData_DocType = async function () {
        $scope.data_DocType = await InternalPickupMemos_Service.Dropdown_DocType();
    };

    $scope.getData_PickFrom = async function () {
        $scope.data_PickFrom = await InternalPickupMemos_Service.Dropdown_PickFrom();
    };

    $scope.getData_ShipTo = async function () {
        $scope.data_ShipTo = await InternalPickupMemos_Service.Dropdown_ShipTo();
    };

    $scope.getData_ShipperAddress = async function () {
        $scope.data_ShipperAddress = await InternalPickupMemos_Service.Dropdown_ShipperAddress();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('InternalPickupMemo');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let docType = $scope.filters.DocType.Value;
        if (docType && typeof docType === 'string' && docType.indexOf('(') >= 0) docType = '';
        $scope.selectedDocType = docType;

        let pickFrom = $scope.filters.PickFrom.Value;
        if (pickFrom && typeof pickFrom === 'string' && pickFrom.indexOf('(') >= 0) pickFrom = '';
        $scope.selectedPickFrom = pickFrom;

        let shipTo = $scope.filters.ShipTo.Value;
        if (shipTo && typeof shipTo === 'string' && shipTo.indexOf('(') >= 0) shipTo = '';
        $scope.selectedShipTo = shipTo;

        let shipperAddress = $scope.filters.ShipperAddress.Value;
        if (shipperAddress && typeof shipperAddress === 'string' && shipperAddress.indexOf('(') >= 0) shipperAddress = '';
        $scope.selectedShipperAddress = shipperAddress;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedSupplier = $scope.filters['selectedSupplier'];
            delete $scope.filters['selectedSupplier'];

            $scope.selectedConsignee = $scope.filters['selectedConsignee'];
            delete $scope.filters['selectedConsignee'];

            $scope.selectedShipper = $scope.filters['selectedShipper'];
            delete $scope.filters['selectedShipper'];

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_DocType(),
            $scope.getData_PickFrom(),
            $scope.getData_ShipTo(),
            $scope.getData_ShipperAddress(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('InternalPickupMemos', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.printForm = async function () {
        // TODO: Implement print functionality
    };

    $scope.toRoute = async function () {
        // TODO: Implement to route functionality
    };

    $scope.verify = async function () {
        // TODO: Implement verify functionality
    };

    $scope.voidDocument = async function () {
        // TODO: Implement void functionality
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('LogisticOrdersCtrl', function ($rootScope, $scope, Utility_ERP, LogisticOrders_Service, Shipment_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Warehouse: { PropertyName: 'WarehouseCode', Operator: 'in', Value: '' },
        CarrierType: { PropertyName: 'CarrierType', Operator: 'in', Value: '' },
        Carrier: { PropertyName: 'CarrierCode', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedWarehouse = '';
    $scope.selectedCarrierType = '';
    $scope.selectedCarrier = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_EmployeeWarehouseAccess = [];
    $scope.data_Warehouse_perBranch = [];
    $scope.data_CarrierType = [];
    $scope.data_Carrier = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = LogisticOrders_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Manifest#', 'Manifest', 'Manifest', 'Text', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Warehouse', 'Warehouse', 'Warehouse', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Carrier Type', 'CarrierType', 'CarrierType', 'Text', true],
            ['Carrier', 'Carrier', 'Carrier', 'Text', true],
            ['Total Qty', 'TotalQty', 'TotalQty', 'Number', true],
            ['Issued By', 'IssuedBy', 'IssuedBy', 'Text', true],
            ['Status', 'Status', 'Status', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedWarehouse) {
            $scope.filters.Warehouse.Operator = 'in';
            $scope.filters.Warehouse.Value = Utility_ERP.Value_OperatorIN_($scope.data_Warehouse_perBranch, 'Code');
        } else {
            $scope.filters.Warehouse.Operator = '=';
            $scope.filters.Warehouse.Value = $scope.selectedWarehouse;
        }

        if (!$scope.selectedCarrierType) {
            $scope.filters.CarrierType.Operator = 'in';
            $scope.filters.CarrierType.Value = Utility_ERP.Value_OperatorIN_($scope.data_CarrierType, 'Code');
        } else {
            $scope.filters.CarrierType.Operator = '=';
            $scope.filters.CarrierType.Value = $scope.selectedCarrierType;
        }

        if (!$scope.selectedCarrier) {
            $scope.filters.Carrier.Operator = 'in';
            $scope.filters.Carrier.Value = Utility_ERP.Value_OperatorIN_($scope.data_Carrier, 'Code');
        } else {
            $scope.filters.Carrier.Operator = '=';
            $scope.filters.Carrier.Value = $scope.selectedCarrier;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('LogisticOrders', $scope);

        delete $scope.filters['selectedShowAll'];
    };

    $scope.Branch_Changed = async function () {
        // --  untuk Page ini, setiap kali Branch berubah --> maka Warehouse ke posisi "All"
        // reset
        $scope.selectedWarehouse = '';

        $scope.Reorganize_Warehouse();

        await $scope.showData();
    };

    $scope.Reorganize_Warehouse = function () {
        var data = [];

        if (!$scope.selectedBranch) {
            // tanpa Filter Branch
            data = $scope.data_EmployeeWarehouseAccess;
        } else {
            // filter berdasarkan Branch
            data = $scope.data_EmployeeWarehouseAccess.filter(function (e) {
                return e.LocationCode == $scope.selectedBranch;
            });
        }

        $scope.data_Warehouse_perBranch = [...new Map(data.map((item) => [item['Code'], item])).values()].sort((x, y) => x.Code.localeCompare(y.Code));
    };

    $scope.getData_CarrierType = async function () {
        $scope.data_CarrierType = await Shipment_Service.Dropdown_CarrierType();
    };

    $scope.getData_Carrier = async function () {
        $scope.data_Carrier = await Shipment_Service.Dropdown_Carrier();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('LogisticOrder');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let warehouse = $scope.filters.Warehouse.Value;
        if (warehouse && typeof warehouse === 'string' && warehouse.indexOf('(') >= 0) warehouse = '';
        $scope.selectedWarehouse = warehouse;

        let carrierType = $scope.filters.CarrierType.Value;
        if (carrierType && typeof carrierType === 'string' && carrierType.indexOf('(') >= 0) carrierType = '';
        $scope.selectedCarrierType = carrierType;

        let carrier = $scope.filters.Carrier.Value;
        if (carrier && typeof carrier === 'string' && carrier.indexOf('(') >= 0) carrier = '';
        $scope.selectedCarrier = carrier;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $rootScope.EmployeeWarehouseAccess($scope, ''),
            $scope.getData_CarrierType(),
            $scope.getData_Carrier(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('LogisticOrders', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.Reorganize_Warehouse();

        $scope.showData();
    };

    $scope.printForm = async function () { }

    $scope.loadVerification = async function () { }

    $scope.publishDO = async function () { }

    $scope.onDelivery = async function () { }

    $scope.voidClick = async function () { }

    $scope.initialize_Page();
});
angular.module('app.erp').controller('LogisticRequestsCtrl', function ($rootScope, $scope, Utility_ERP, LogisticRequests_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = LogisticRequests_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Code', 'Code', 'Code', 'Text', true],
            ['Short Name', 'ShortName', 'ShortName', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['Active', 'Active', 'Active', 'Boolean', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('LogisticRequests', $scope);
    };

    ;

    async function Override_some_Filters() {
        // No special override needed for simple Active filter
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('LogisticRequests', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.downloadSchema = async function () { };

    $scope.uploadData = async function () { };

    $scope.initialize_Page();
});
// 
angular.module('app.erp').controller('ManifestsCtrl', function ($rootScope, $scope, Utility_ERP, Manifests_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        CarrierType: { PropertyName: 'CarrierTypeCode', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        Site: { PropertyName: 'SiteCode', Operator: 'in', Value: '' },
        Carrier: { PropertyName: 'CarrierCode', Operator: 'in', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedCarrierType = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedSite = '';
    $scope.selectedCarrier = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_CarrierType = [];
    $scope.data_Site = [];
    $scope.data_Carrier = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = Manifests_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Manifest #', 'Manifest', 'Manifest', 'Text', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Driver', 'Driver', 'Driver', 'Text', true],
            ['Helper', 'Helper', 'Helper', 'Text', true],
            ['Carrier Type', 'CarrierType', 'CarrierType', 'Text', true],
            ['Carrier Nr.', 'CarrierNr', 'CarrierNr', 'Text', true],
            ['Total Qty', 'TotalQty', 'TotalQty', 'Number', true],
            ['Issued By', 'IssuedBy', 'IssuedBy', 'Text', true],
            ['Status', 'Status', 'Status', 'Text', true],
            ['Via', 'Via', 'Via', 'Text', true],
            ['Action', 'Action', 'Action', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedCarrierType) {
            $scope.filters.CarrierType.Operator = 'in';
            $scope.filters.CarrierType.Value = Utility_ERP.Value_OperatorIN_($scope.data_CarrierType, 'Code');
        } else {
            $scope.filters.CarrierType.Operator = '=';
            $scope.filters.CarrierType.Value = $scope.selectedCarrierType;
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        if (!$scope.selectedSite) {
            $scope.filters.Site.Operator = 'in';
            $scope.filters.Site.Value = Utility_ERP.Value_OperatorIN_($scope.data_Site, 'Code');
        } else {
            $scope.filters.Site.Operator = '=';
            $scope.filters.Site.Value = $scope.selectedSite;
        }

        if (!$scope.selectedCarrier) {
            $scope.filters.Carrier.Operator = 'in';
            $scope.filters.Carrier.Value = Utility_ERP.Value_OperatorIN_($scope.data_Carrier, 'Code');
        } else {
            $scope.filters.Carrier.Operator = '=';
            $scope.filters.Carrier.Value = $scope.selectedCarrier;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('Manifests', $scope);

        delete $scope.filters['selectedShowAll'];
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_CarrierType = async function () {
        $scope.data_CarrierType = await Manifests_Service.Dropdown_CarrierType();
    };

    $scope.getData_Site = async function () {
        $scope.data_Site = await Manifests_Service.Dropdown_Site();
    };

    $scope.getData_Carrier = async function () {
        $scope.data_Carrier = await Manifests_Service.Dropdown_Carrier();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('Manifest');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let carrierType = $scope.filters.CarrierType.Value;
        if (carrierType && typeof carrierType === 'string' && carrierType.indexOf('(') >= 0) carrierType = '';
        $scope.selectedCarrierType = carrierType;

        let site = $scope.filters.Site.Value;
        if (site && typeof site === 'string' && site.indexOf('(') >= 0) site = '';
        $scope.selectedSite = site;

        let carrier = $scope.filters.Carrier.Value;
        if (carrier && typeof carrier === 'string' && carrier.indexOf('(') >= 0) carrier = '';
        $scope.selectedCarrier = carrier;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_CarrierType(),
            $scope.getData_Site(),
            $scope.getData_Carrier(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('Manifests', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.loadVerification = async function () { };

    $scope.packing = async function () { };

    $scope.publishDO = async function () { };

    $scope.onDelivery = async function () { };

    $scope.revisePersonnel = async function () { };

    $scope.printForm = async function () { };

    $scope.exportToAndaru = async function () { };

    $scope.voidManifest = async function () { };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('PackingVerificationCtrl', function ($rootScope, $scope, Utility_ERP, PackingVerification_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Manifest: { PropertyName: 'ManifestCode', Operator: 'in', Value: '' },
        CarrierType: { PropertyName: 'CarrierType', Operator: '=', Value: '' },
        Driver: { PropertyName: 'Driver', Operator: '=', Value: '' },
        TagNumber: { PropertyName: 'TagNumberCode', Operator: 'in', Value: '' },
        Packer: { PropertyName: 'Packer', Operator: '=', Value: '' },
        CarrierNumber: { PropertyName: 'CarrierNumber', Operator: '=', Value: '' },
        Helper: { PropertyName: 'Helper', Operator: '=', Value: '' },
        Checker: { PropertyName: 'Checker', Operator: '=', Value: '' },
        PickupAtWarehouse: { PropertyName: 'PickupAtWarehouse', Operator: '=', Value: '' },
    };

    $scope.selectedManifest = '';
    $scope.selectedTagNumber = '';
    $scope.selectedPacker = '';
    $scope.selectedChecker = '';

    $scope.data_Manifest = [];
    $scope.data_TagNumber = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = PackingVerification_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Item Code', 'ItemCode', 'ItemCode', 'Text', true],
            ['Description', 'Description', 'Description', 'Text', true],
            ['Qty', 'Qty', 'Qty', 'Number', true],
            ['Uom', 'Uom', 'Uom', 'Text', true],
            ['Pck', 'Pck', 'Pck', 'Number', true],
            ['Qty', 'Qty2', 'Qty2', 'Number', true],
            ['Uom', 'Uom2', 'Uom2', 'Text', true],
            ['Pck', 'Pck2', 'Pck2', 'Number', true],
            ['Qty', 'Qty3', 'Qty3', 'Number', true],
            ['Uom', 'Uom3', 'Uom3', 'Text', true],
            ['Pck', 'Pck3', 'Pck3', 'Number', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedManifest) {
            $scope.filters.Manifest.Operator = 'in';
            $scope.filters.Manifest.Value = Utility_ERP.Value_OperatorIN_($scope.data_Manifest, 'Code');
        } else {
            $scope.filters.Manifest.Operator = '=';
            $scope.filters.Manifest.Value = $scope.selectedManifest;
        }

        if (!$scope.selectedTagNumber) {
            $scope.filters.TagNumber.Operator = 'in';
            $scope.filters.TagNumber.Value = Utility_ERP.Value_OperatorIN_($scope.data_TagNumber, 'Code');
        } else {
            $scope.filters.TagNumber.Operator = '=';
            $scope.filters.TagNumber.Value = $scope.selectedTagNumber;
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedPacker'] = $scope.selectedPacker;
        $scope.filters['selectedChecker'] = $scope.selectedChecker;

        $rootScope.SaveFilterState('PackingVerification', $scope);

        delete $scope.filters['selectedPacker'];
        delete $scope.filters['selectedChecker'];
    };

    $scope.getData_Employee = async function (val) {
        return await $rootScope.getData_Employee(val, $scope);
    };

    $scope.getData_Manifest = async function () {
        $scope.data_Manifest = await PackingVerification_Service.Dropdown_Manifest();
    };

    $scope.getData_TagNumber = async function () {
        $scope.data_TagNumber = await PackingVerification_Service.Dropdown_TagNumber();
    };

    ;

    async function Override_some_Filters() {
        let manifest = $scope.filters.Manifest.Value;
        if (manifest && typeof manifest === 'string' && manifest.indexOf('(') >= 0) manifest = '';
        $scope.selectedManifest = manifest;

        let tagNumber = $scope.filters.TagNumber.Value;
        if (tagNumber && typeof tagNumber === 'string' && tagNumber.indexOf('(') >= 0) tagNumber = '';
        $scope.selectedTagNumber = tagNumber;

        if ($scope.LoadFilterState_) {
            $scope.selectedPacker = $scope.filters['selectedPacker'];
            delete $scope.filters['selectedPacker'];

            $scope.selectedChecker = $scope.filters['selectedChecker'];
            delete $scope.filters['selectedChecker'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $scope.getData_Manifest(),
            $scope.getData_TagNumber()
        ]);

        $rootScope.LoadFilterState('PackingVerification', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.packClick = async function () {
        // Implementation for Pack
    };

    $scope.printForm = async function () {
        // Implementation for Print
    };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('PickedOutstandingItemCtrl', function ($rootScope, $scope, Utility_ERP, PickedOutstandingItem_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];
    $scope.activeOptions = [
        { Value: null, Text: 'All' },
        { Value: true, Text: 'Yes' },
        { Value: false, Text: 'No' },
    ];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Active: { PropertyName: 'Active', Operator: '=', Value: null },
    };

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = PickedOutstandingItem_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Item', 'Item', 'Item', 'Text', true],
            ['SO #', 'SO', 'SO', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Customer', 'Customer', 'Customer', 'Text', true],
            ['Ship To', 'ShipTo', 'ShipTo', 'Text', true],
            ['Open', 'Open', 'Open', 'Number', true],
            ['Res', 'Res', 'Res', 'Number', true],
            ['Dem', 'Dem', 'Dem', 'Number', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('PickedOutstandingItem', $scope);
    };

    ;

    async function Override_some_Filters() {
        // No special filter overrides needed for this simple page
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        $rootScope.LoadFilterState('PickedOutstandingItem', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.unPickClick = async function () {
        // Implementation for Un Pick
    };

    $scope.createPurchaseOrder = async function () {
        // Implementation for Create Purchase Order
    };

    $scope.createItemTransfer = async function () {
        // Implementation for Create Item Transfer
    };

    $scope.initialize_Page();
});
// ini file Controller.js
angular.module('app.erp').controller('PickerPersonnelsCtrl', function ($rootScope, $scope, Utility_ERP, PickerPersonnels_Service) {
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Warehouse: { PropertyName: 'WarehouseCode', Operator: '=', Value: '' },
    };

    $scope.selectedWarehouse = '';

    $scope.data_Warehouse = [];

    $scope.CreateTable = function () {
        $scope.dt = PickerPersonnels_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Personnel', 'PersonnelName', 'PersonnelName', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedWarehouse) {
            $scope.dt.data = [];
            $scope.dt.totalRows = 0;
            return;
        }

        $scope.filters.Warehouse.Value = $scope.selectedWarehouse;

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $rootScope.SaveFilterState('PickerPersonnels', $scope);
    };

    $scope.getData_Warehouse = async function () {
        $scope.data_Warehouse = await PickerPersonnels_Service.Dropdown_Warehouse();
    };

    

    async function Override_some_Filters() {
        let warehouse = $scope.filters.Warehouse.Value;

        if ($scope.LoadFilterState_) {
            $scope.selectedWarehouse = warehouse;
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $scope.getData_Warehouse()
        ]);

        $rootScope.LoadFilterState('PickerPersonnels', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        if ($scope.selectedWarehouse) {
            $scope.showData();
        } else {
            Utility_ERP.Still_Processing($scope, false);
        }
    };

    $scope.saveData = async function () {
        if (!$scope.selectedWarehouse) {
            $rootScope.showMessage('Please select a warehouse first', 'warning');
            return;
        }

        // Save logic will be implemented here
        $rootScope.showMessage('Save functionality to be implemented', 'info');
    };

    $scope.initialize_Page();
});

// 
angular.module('app.erp').controller('PickingOrderCtrl', function ($rootScope, $scope, Utility_ERP, PickingOrder_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Site: { PropertyName: 'SiteCode', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        DeliverVia: { PropertyName: 'DeliverViaCode', Operator: 'in', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedSite = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedDeliverVia = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_Site = [];
    $scope.data_DeliverVia = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = PickingOrder_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Order#', 'Order', 'Order', 'Text', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Warehouse', 'Warehouse', 'Warehouse', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Routed', 'Routed', 'Routed', 'Boolean', true],
            ['Total Qty', 'TotalQty', 'TotalQty', 'Number', true],
            ['Qty Picked', 'QtyPicked', 'QtyPicked', 'Number', true],
            ['Deliver Via', 'DeliverVia', 'DeliverVia', 'Text', true],
            ['S/R Nr.', 'SRNr', 'SRNr', 'Text', true],
            ['Assigned To', 'AssignedTo', 'AssignedTo', 'Text', true],
            ['Verified Date', 'VerifiedDate', 'VerifiedDate', 'Date', true],
            ['Verified By', 'VerifiedBy', 'VerifiedBy', 'Text', true],
            ['Status', 'Status', 'Status', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedSite) {
            $scope.filters.Site.Operator = 'in';
            $scope.filters.Site.Value = Utility_ERP.Value_OperatorIN_($scope.data_Site, 'Code');
        } else {
            $scope.filters.Site.Operator = '=';
            $scope.filters.Site.Value = $scope.selectedSite;
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        if (!$scope.selectedDeliverVia) {
            $scope.filters.DeliverVia.Operator = 'in';
            $scope.filters.DeliverVia.Value = Utility_ERP.Value_OperatorIN_($scope.data_DeliverVia, 'Code');
        } else {
            $scope.filters.DeliverVia.Operator = '=';
            $scope.filters.DeliverVia.Value = $scope.selectedDeliverVia;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('PickingOrder', $scope);

        delete $scope.filters['selectedShowAll'];
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_Site = async function () {
        $scope.data_Site = await PickingOrder_Service.Dropdown_Site();
    };

    $scope.getData_DeliverVia = async function () {
        $scope.data_DeliverVia = await PickingOrder_Service.Dropdown_DeliverVia();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('PickingOrder');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let site = $scope.filters.Site.Value;
        if (site && typeof site === 'string' && site.indexOf('(') >= 0) site = '';
        $scope.selectedSite = site;

        let deliverVia = $scope.filters.DeliverVia.Value;
        if (deliverVia && typeof deliverVia === 'string' && deliverVia.indexOf('(') >= 0) deliverVia = '';
        $scope.selectedDeliverVia = deliverVia;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_Site(),
            $scope.getData_DeliverVia(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('PickingOrder', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.verifyOrder = async function () { };

    $scope.toRoute = async function () { };

    $scope.printForm = async function () { };

    $scope.initialize_Page();
});
// 
angular.module('app.erp').controller('PickupOrdersCtrl', function ($rootScope, $scope, Utility_ERP, PickupOrders_Service, BusinessRelation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Supplier: { PropertyName: 'SupplierID', Operator: '=', Value: '' },
        Consignee: { PropertyName: 'ConsigneeID', Operator: '=', Value: '' },
        Shipper: { PropertyName: 'ShipperID', Operator: '=', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
        DocType: { PropertyName: 'DocTypeCode', Operator: 'in', Value: '' },
        PickFrom: { PropertyName: 'PickFromCode', Operator: 'in', Value: '' },
        ShipTo: { PropertyName: 'ShipToCode', Operator: 'in', Value: '' },
        ShipperAddres: { PropertyName: 'ShipperAddressNumber', Operator: '=', Value: null },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedSupplier = '';
    $scope.selectedConsignee = '';
    $scope.selectedShipper = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;
    $scope.selectedDocType = '';
    $scope.selectedPickFrom = '';
    $scope.selectedShipTo = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_ShipperAddressNames = [];
    $scope.data_DocType = [];
    $scope.data_PickFrom = [];
    $scope.data_ShipTo = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = PickupOrders_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Order #', 'Order', 'Order', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Supplier', 'Supplier', 'Supplier', 'Text', true],
            ['Consignee', 'Consignee', 'Consignee', 'Text', true],
            ['Shipper', 'Shipper', 'Shipper', 'Text', true],
            ['Doc. Type', 'DocType', 'DocType', 'Text', true],
            ['Doc. Number', 'DocNumber', 'DocNumber', 'Text', true],
            ['Promised Date', 'PromisedDate', 'PromisedDate', 'Date', true],
            ['Issued By', 'IssuedBy', 'IssuedBy', 'Text', true],
            ['Status', 'Status', 'Status', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        if (!$scope.selectedDocType) {
            $scope.filters.DocType.Operator = 'in';
            $scope.filters.DocType.Value = Utility_ERP.Value_OperatorIN_($scope.data_DocType, 'Code');
        } else {
            $scope.filters.DocType.Operator = '=';
            $scope.filters.DocType.Value = $scope.selectedDocType;
        }

        if (!$scope.selectedPickFrom) {
            $scope.filters.PickFrom.Operator = 'in';
            $scope.filters.PickFrom.Value = Utility_ERP.Value_OperatorIN_($scope.data_PickFrom, 'Code');
        } else {
            $scope.filters.PickFrom.Operator = '=';
            $scope.filters.PickFrom.Value = $scope.selectedPickFrom;
        }

        if (!$scope.selectedShipTo) {
            $scope.filters.ShipTo.Operator = 'in';
            $scope.filters.ShipTo.Value = Utility_ERP.Value_OperatorIN_($scope.data_ShipTo, 'Code');
        } else {
            $scope.filters.ShipTo.Operator = '=';
            $scope.filters.ShipTo.Value = $scope.selectedShipTo;
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedSupplier'] = $scope.selectedSupplier;
        $scope.filters['selectedConsignee'] = $scope.selectedConsignee;
        $scope.filters['selectedShipper'] = $scope.selectedShipper;
        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('PickupOrders', $scope);

        delete $scope.filters['selectedSupplier'];
        delete $scope.filters['selectedConsignee'];
        delete $scope.filters['selectedShipper'];
        delete $scope.filters['selectedShowAll'];
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.shipperSelected = async function (flag = true) {
        // reset
        $scope.data_ShipperAddressNames = [];
        $scope.filters.ShipperAddres.Value = null;

        if ($rootScope.Not_ValidString($scope.filters.Shipper.Value)) {
            if (flag) {
                $scope.showData();
            }

            return;
        }

        $scope.data_ShipperAddressNames = await BusinessRelation_Service.GetBusinessRelationBillingAddressNames($scope.filters.Shipper.Value);

        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_DocType = async function () {
        $scope.data_DocType = await PickupOrders_Service.Dropdown_DocType();
    };

    $scope.getData_PickFrom = async function () {
        $scope.data_PickFrom = await PickupOrders_Service.Dropdown_PickFrom();
    };

    $scope.getData_ShipTo = async function () {
        $scope.data_ShipTo = await PickupOrders_Service.Dropdown_ShipTo();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('PickupOrder');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let docType = $scope.filters.DocType.Value;
        if (docType && typeof docType === 'string' && docType.indexOf('(') >= 0) docType = '';
        $scope.selectedDocType = docType;

        let pickFrom = $scope.filters.PickFrom.Value;
        if (pickFrom && typeof pickFrom === 'string' && pickFrom.indexOf('(') >= 0) pickFrom = '';
        $scope.selectedPickFrom = pickFrom;

        let shipTo = $scope.filters.ShipTo.Value;
        if (shipTo && typeof shipTo === 'string' && shipTo.indexOf('(') >= 0) shipTo = '';
        $scope.selectedShipTo = shipTo;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedSupplier = $scope.filters['selectedSupplier'];
            delete $scope.filters['selectedSupplier'];

            $scope.selectedConsignee = $scope.filters['selectedConsignee'];
            delete $scope.filters['selectedConsignee'];

            $scope.selectedShipper = $scope.filters['selectedShipper'];
            delete $scope.filters['selectedShipper'];

            let shipperAddres = $scope.filters.ShipperAddres.Value;
            await $scope.shipperSelected(false);
            $scope.filters.ShipperAddres.Value = shipperAddres;

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_DocType(),
            $scope.getData_PickFrom(),
            $scope.getData_ShipTo(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('PickupOrders', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.toRoute = async function () { };

    $scope.verify = async function () { };

    $scope.printForm = async function () { };

    $scope.voidForm = async function () { };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('ProofOfDeliveriesCtrl', function ($rootScope, $scope, Utility_ERP, ProofOfDeliveries_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Consignee: { PropertyName: 'ConsigneeID', Operator: '=', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
        ManifestNr: { PropertyName: 'ManifestNr', Operator: 'like', Value: null },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedConsignee = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = ProofOfDeliveries_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['POD#', 'POD', 'POD', 'Text', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Consignee', 'Consignee', 'Consignee', 'Text', true],
            ['Manifest Nr.', 'ManifestNr', 'ManifestNr', 'Text', true],
            ['Delivered Date', 'DeliveredDate', 'DeliveredDate', 'Date', true],
            ['Verified Date', 'VerifiedDate', 'VerifiedDate', 'Date', true],
            ['Verified By', 'VerifiedBy', 'VerifiedBy', 'Text', true],
            ['Status', 'Status', 'Status', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedConsignee'] = $scope.selectedConsignee;
        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('ProofOfDeliveries', $scope);

        delete $scope.filters['selectedConsignee'];
        delete $scope.filters['selectedShowAll'];
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('ProofOfDelivery');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedConsignee = $scope.filters['selectedConsignee'];
            delete $scope.filters['selectedConsignee'];

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('ProofOfDeliveries', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.printForm = async function () { };

    $scope.initialize_Page();
});
// 
angular.module('app.erp').controller('SalesReturnsSHCtrl', function ($rootScope, $scope, Utility_ERP, SalesReturnsSH_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Customer: { PropertyName: 'CustomerID', Operator: '=', Value: '' },
        Reason: { PropertyName: 'ReasonCode', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        Warehouse: { PropertyName: 'WarehouseCode', Operator: 'in', Value: '' },
        PickFrom: { PropertyName: 'PickFromCode', Operator: 'in', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedCustomer = '';
    $scope.selectedReason = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedWarehouse = '';
    $scope.selectedPickFrom = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_EmployeeWarehouseAccess = [];
    $scope.data_Warehouse_perBranch = [];
    $scope.data_Reason = [];
    $scope.data_PickFrom = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = SalesReturnsSH_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['SR #', 'SR', 'SR', 'Text', true],
            ['Reason', 'Reason', 'Reason', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Warehouse', 'Warehouse', 'Warehouse', 'Text', true],
            ['Customer', 'Customer', 'Customer', 'Text', true],
            ['Pick From', 'PickFrom', 'PickFrom', 'Text', true],
            ['Total Qty', 'TotalQty', 'TotalQty', 'Number', true],
            ['Pick Up', 'PickUp', 'PickUp', 'Text', true],
            ['Pickup Nr.', 'PickupNr', 'PickupNr', 'Text', true],
            ['Issued By', 'IssuedBy', 'IssuedBy', 'Text', true],
            ['Status', 'Status', 'Status', 'Text', true],
            ['Substitute', 'Substitute', 'Substitute', 'Boolean', true],
            ['P. Return', 'PReturn', 'PReturn', 'Boolean', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedReason) {
            $scope.filters.Reason.Operator = 'in';
            $scope.filters.Reason.Value = Utility_ERP.Value_OperatorIN_($scope.data_Reason, 'Code');
        } else {
            $scope.filters.Reason.Operator = '=';
            $scope.filters.Reason.Value = $scope.selectedReason;
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        if (!$scope.selectedWarehouse) {
            $scope.filters.Warehouse.Operator = 'in';
            $scope.filters.Warehouse.Value = Utility_ERP.Value_OperatorIN_($scope.data_Warehouse_perBranch, 'Code');
        } else {
            $scope.filters.Warehouse.Operator = '=';
            $scope.filters.Warehouse.Value = $scope.selectedWarehouse;
        }

        if (!$scope.selectedPickFrom) {
            $scope.filters.PickFrom.Operator = 'in';
            $scope.filters.PickFrom.Value = Utility_ERP.Value_OperatorIN_($scope.data_PickFrom, 'Code');
        } else {
            $scope.filters.PickFrom.Operator = '=';
            $scope.filters.PickFrom.Value = $scope.selectedPickFrom;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedCustomer'] = $scope.selectedCustomer;
        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('SalesReturnsSH', $scope);

        delete $scope.filters['selectedCustomer'];
        delete $scope.filters['selectedShowAll'];
    };

    $scope.Branch_Changed = async function () {
        // --  untuk Page ini, setiap kali Branch berubah --> maka Warehouse ke posisi "All"
        // reset
        $scope.selectedWarehouse = '';

        $scope.Reorganize_Warehouse();

        await $scope.showData();
    };

    $scope.Reorganize_Warehouse = function () {
        var data = [];

        if (!$scope.selectedBranch) {
            // tanpa Filter Branch
            data = $scope.data_EmployeeWarehouseAccess;
        } else {
            // filter berdasarkan Branch
            data = $scope.data_EmployeeWarehouseAccess.filter(function (e) {
                return e.LocationCode == $scope.selectedBranch;
            });
        }

        $scope.data_Warehouse_perBranch = [...new Map(data.map((item) => [item['Code'], item])).values()].sort((x, y) => x.Code.localeCompare(y.Code));
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.getData_Reason = async function () {
        $scope.data_Reason = await SalesReturnsSH_Service.Dropdown_Reason();
    };

    $scope.getData_PickFrom = async function () {
        $scope.data_PickFrom = await SalesReturnsSH_Service.Dropdown_PickFrom();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('SalesReturnSH');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let warehouse = $scope.filters.Warehouse.Value;
        if (warehouse && typeof warehouse === 'string' && warehouse.indexOf('(') >= 0) warehouse = '';
        $scope.selectedWarehouse = warehouse;

        let reason = $scope.filters.Reason.Value;
        if (reason && typeof reason === 'string' && reason.indexOf('(') >= 0) reason = '';
        $scope.selectedReason = reason;

        let pickFrom = $scope.filters.PickFrom.Value;
        if (pickFrom && typeof pickFrom === 'string' && pickFrom.indexOf('(') >= 0) pickFrom = '';
        $scope.selectedPickFrom = pickFrom;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedCustomer = $scope.filters['selectedCustomer'];
            delete $scope.filters['selectedCustomer'];

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $rootScope.EmployeeWarehouseAccess($scope, ''),
            $scope.getData_Reason(),
            $scope.getData_PickFrom(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('SalesReturnsSH', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.Reorganize_Warehouse();

        $scope.showData();
    };

    $scope.verify = async function () { };

    $scope.refund = async function () { };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('ShipmentRequestsCtrl', function ($rootScope, $scope, Utility_ERP, ShipmentRequests_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        DateFrom_date: { PropertyName: 'Date', Operator: '>=', Value: '' },
        DateTo_date: { PropertyName: 'Date', Operator: '<=', Value: '' },
        Type: { PropertyName: 'TypeCode', Operator: 'in', Value: '' },
        Consignee: { PropertyName: 'ConsigneeID', Operator: '=', Value: '' },
        Site: { PropertyName: 'SiteCode', Operator: 'in', Value: '' },
        PromisedDateFrom_date: { PropertyName: 'PromisedDate', Operator: '>=', Value: '' },
        PromisedDateTo_date: { PropertyName: 'PromisedDate', Operator: '<=', Value: '' },
        DeliverVia: { PropertyName: 'DeliverViaCode', Operator: 'in', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedDateFrom = '';
    $scope.selectedDateTo = '';
    $scope.selectedType = '';
    $scope.selectedConsignee = '';
    $scope.selectedSite = '';
    $scope.selectedPromisedDateFrom = '';
    $scope.selectedPromisedDateTo = '';
    $scope.selectedDeliverVia = '';
    $scope.selectedStatus = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_Type = [];
    $scope.data_Site = [];
    $scope.data_DeliverVia = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = ShipmentRequests_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Request#', 'Request', 'Request', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Type', 'Type', 'Type', 'Text', true],
            ['Branch', 'Branch', 'Branch', 'Text', true],
            ['Warehouse', 'Warehouse', 'Warehouse', 'Text', true],
            ['Consignee', 'Consignee', 'Consignee', 'Text', true],
            ['Document Nr.', 'DocumentNr', 'DocumentNr', 'Text', true],
            ['Total Qty', 'TotalQty', 'TotalQty', 'Number', true],
            ['Deliver Via', 'DeliverVia', 'DeliverVia', 'Text', true],
            ['Status', 'Status', 'Status', 'Text', true],
            ['AR Nr.', 'ARNr', 'ARNr', 'Text', true],
            ['AR Age', 'ARAge', 'ARAge', 'Number', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        $scope.filters.DateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedDateFrom);
        $scope.filters.DateTo_date.Value = $rootScope.Date_to_DB($scope.selectedDateTo);

        if (!$scope.selectedType) {
            $scope.filters.Type.Operator = 'in';
            $scope.filters.Type.Value = Utility_ERP.Value_OperatorIN_($scope.data_Type, 'Code');
        } else {
            $scope.filters.Type.Operator = '=';
            $scope.filters.Type.Value = $scope.selectedType;
        }

        if (!$scope.selectedSite) {
            $scope.filters.Site.Operator = 'in';
            $scope.filters.Site.Value = Utility_ERP.Value_OperatorIN_($scope.data_Site, 'Code');
        } else {
            $scope.filters.Site.Operator = '=';
            $scope.filters.Site.Value = $scope.selectedSite;
        }

        $scope.filters.PromisedDateFrom_date.Value = $rootScope.Date_to_DB($scope.selectedPromisedDateFrom);
        $scope.filters.PromisedDateTo_date.Value = $rootScope.Date_to_DB($scope.selectedPromisedDateTo);

        if (!$scope.selectedDeliverVia) {
            $scope.filters.DeliverVia.Operator = 'in';
            $scope.filters.DeliverVia.Value = Utility_ERP.Value_OperatorIN_($scope.data_DeliverVia, 'Code');
        } else {
            $scope.filters.DeliverVia.Operator = '=';
            $scope.filters.DeliverVia.Value = $scope.selectedDeliverVia;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedConsignee'] = $scope.selectedConsignee;
        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('ShipmentRequests', $scope);

        delete $scope.filters['selectedConsignee'];
        delete $scope.filters['selectedShowAll'];
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.getData_Type = async function () {
        $scope.data_Type = await ShipmentRequests_Service.Dropdown_Type();
    };

    $scope.getData_Site = async function () {
        $scope.data_Site = await ShipmentRequests_Service.Dropdown_Site();
    };

    $scope.getData_DeliverVia = async function () {
        $scope.data_DeliverVia = await ShipmentRequests_Service.Dropdown_DeliverVia();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('ShipmentRequest');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    ;

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let type = $scope.filters.Type.Value;
        if (type && typeof type === 'string' && type.indexOf('(') >= 0) type = '';
        $scope.selectedType = type;

        let site = $scope.filters.Site.Value;
        if (site && typeof site === 'string' && site.indexOf('(') >= 0) site = '';
        $scope.selectedSite = site;

        let deliverVia = $scope.filters.DeliverVia.Value;
        if (deliverVia && typeof deliverVia === 'string' && deliverVia.indexOf('(') >= 0) deliverVia = '';
        $scope.selectedDeliverVia = deliverVia;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedConsignee = $scope.filters['selectedConsignee'];
            delete $scope.filters['selectedConsignee'];

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_Type(),
            $scope.getData_Site(),
            $scope.getData_DeliverVia(),
            $scope.getData_Status()
        ]);

        $rootScope.LoadFilterState('ShipmentRequests', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.createPickingOrder = async function () { };

    $scope.releaseHold = async function () { };

    $scope.voidRequest = async function () { };

    $scope.printForm = async function () { };

    $scope.invoiceRequest = async function () { };

    $scope.exportList = async function () { };

    $scope.initialize_Page();
});
angular.module('app.erp').controller('ShipmentRoutingCtrl', function ($rootScope, $scope, Utility_ERP, ShipmentRouting_Service, BusinessRelation_Service) {
    // Dummy data, just for "Table: paging and searching"
    $scope.dt = {};
    $scope.dt.pageLength = 20;
    $scope.searchKeyword = '';

    // Data to View
    $scope.pagesOptions = [10, 20, 50, 100];

    $scope.still_processing = false;

    // filter
    $scope.filters = {
        Branch: { PropertyName: 'LocationCode', Operator: 'in', Value: '' },
        Source: { PropertyName: 'Source', Operator: 'in', Value: '' },
        Consignee: { PropertyName: 'ConsigneeID', Operator: '=', Value: '' },
        Site: { PropertyName: 'SiteCode', Operator: 'in', Value: '' },
        SourceNr: { PropertyName: 'SourceNr', Operator: 'contains', Value: '' },
        ConsigneeArea: { PropertyName: 'ConsigneeArea', Operator: 'in', Value: '' },
        Status: { PropertyName: 'StatusId', Operator: 'in', Value: '' },
        Type: { PropertyName: 'TypeCode', Operator: 'in', Value: '' },
        DeliverVia: { PropertyName: 'DeliverVia', Operator: 'in', Value: '' },
        Project: { PropertyName: 'ProjectCode', Operator: 'in', Value: '' },
        DeliveryDate_date: { PropertyName: 'DeliveryDate', Operator: '=', Value: '' },
    };

    $scope.selectedBranch = '';
    $scope.selectedSource = '';
    $scope.selectedConsignee = '';
    $scope.selectedSite = '';
    $scope.selectedConsigneeArea = '';
    $scope.selectedStatus = '';
    $scope.selectedType = '';
    $scope.selectedDeliverVia = '';
    $scope.selectedProject = '';
    $scope.selectedDeliveryDate = '';
    $scope.selectedShowAll = false;

    $scope.data_EmployeeLocationAccess = [];
    $scope.data_Source = [];
    $scope.data_Site = [];
    $scope.data_ConsigneeArea = [];
    $scope.data_Status = [];
    $scope.data_Status_All = [];
    $scope.data_Type = [];
    $scope.data_DeliverVia = [];
    $scope.data_Project = [];

    // some Functions
    $scope.CreateTable = function () {
        $scope.dt = ShipmentRouting_Service.Table($scope);

        // format: Title, DbField, SortField, Format, Show
        let columns = [
            ['Route Nr.', 'RouteNr', 'RouteNr', 'Text', true],
            ['Date', 'Date', 'Date', 'Date', true],
            ['Source', 'Source', 'Source', 'Text', true],
            ['Source Nr.', 'SourceNr', 'SourceNr', 'Text', true],
            ['Consignee', 'Consignee', 'Consignee', 'Text', true],
            ['Ship To', 'ShipTo', 'ShipTo', 'Text', true],
            ['Area', 'Area', 'Area', 'Text', true],
            ['Qty', 'Qty', 'Qty', 'Number', true],
            ['Status', 'Status', 'Status', 'Text', true],
            ['Age', 'Age', 'Age', 'Number', true],
            ['Via', 'Via', 'Via', 'Text', true],
        ];

        Utility_ERP.ProcessColumnsY($scope.dt, columns);
    };

    $scope.showData = async function () {
        if (!$scope.selectedBranch) {
            $scope.filters.Branch.Operator = 'in';
            $scope.filters.Branch.Value = Utility_ERP.Value_OperatorIN_($scope.data_EmployeeLocationAccess, 'Code');
        } else {
            $scope.filters.Branch.Operator = '=';
            $scope.filters.Branch.Value = $scope.selectedBranch;
        }

        if (!$scope.selectedSource) {
            $scope.filters.Source.Operator = 'in';
            $scope.filters.Source.Value = Utility_ERP.Value_OperatorIN_($scope.data_Source, 'Code');
        } else {
            $scope.filters.Source.Operator = '=';
            $scope.filters.Source.Value = $scope.selectedSource;
        }

        if (!$scope.selectedSite) {
            $scope.filters.Site.Operator = 'in';
            $scope.filters.Site.Value = Utility_ERP.Value_OperatorIN_($scope.data_Site, 'Code');
        } else {
            $scope.filters.Site.Operator = '=';
            $scope.filters.Site.Value = $scope.selectedSite;
        }

        if (!$scope.selectedConsigneeArea) {
            $scope.filters.ConsigneeArea.Operator = 'in';
            $scope.filters.ConsigneeArea.Value = Utility_ERP.Value_OperatorIN_($scope.data_ConsigneeArea, 'Code');
        } else {
            $scope.filters.ConsigneeArea.Operator = '=';
            $scope.filters.ConsigneeArea.Value = $scope.selectedConsigneeArea;
        }

        if ($rootScope.ValidString($scope.selectedStatus)) {
            $scope.filters.Status.Operator = '=';
            $scope.filters.Status.Value = $scope.selectedStatus;
        } else {
            $scope.filters.Status.Operator = 'in';
            $scope.filters.Status.Value = Utility_ERP.Value_OperatorIN($scope.data_Status, 'StatusId', '');
        }

        if (!$scope.selectedType) {
            $scope.filters.Type.Operator = 'in';
            $scope.filters.Type.Value = Utility_ERP.Value_OperatorIN_($scope.data_Type, 'Code');
        } else {
            $scope.filters.Type.Operator = '=';
            $scope.filters.Type.Value = $scope.selectedType;
        }

        if (!$scope.selectedDeliverVia) {
            $scope.filters.DeliverVia.Operator = 'in';
            $scope.filters.DeliverVia.Value = Utility_ERP.Value_OperatorIN_($scope.data_DeliverVia, 'Code');
        } else {
            $scope.filters.DeliverVia.Operator = '=';
            $scope.filters.DeliverVia.Value = $scope.selectedDeliverVia;
        }

        if (!$scope.selectedProject) {
            $scope.filters.Project.Operator = 'in';
            $scope.filters.Project.Value = Utility_ERP.Value_OperatorIN_($scope.data_Project, 'Code');
        } else {
            $scope.filters.Project.Operator = '=';
            $scope.filters.Project.Value = $scope.selectedProject;
        }

        $scope.filters.DeliveryDate_date.Value = $rootScope.Date_to_DB($scope.selectedDeliveryDate);

        Utility_ERP.Still_Processing($scope, true);
        await $scope.dt.loadData();
        Utility_ERP.Still_Processing($scope, false);

        $scope.filters['selectedConsignee'] = $scope.selectedConsignee;
        $scope.filters['selectedShowAll'] = $scope.selectedShowAll;

        $rootScope.SaveFilterState('ShipmentRouting', $scope);

        delete $scope.filters['selectedConsignee'];
        delete $scope.filters['selectedShowAll'];
    };

    $scope.Branch_Changed = async function () {
        await $scope.showData();
    };

    $scope.getData_Customer = async function (val) {
        return await $rootScope.getData_Customer(val, $scope);
    };

    $scope.customerSelected = async function (flag = true) {
        if (flag) {
            $scope.showData();
        }
    };

    $scope.getData_Source = async function () {
        $scope.data_Source = await ShipmentRouting_Service.Dropdown_Source();
    };

    $scope.getData_Site = async function () {
        $scope.data_Site = await ShipmentRouting_Service.Dropdown_Site();
    };

    $scope.getData_ConsigneeArea = async function () {
        $scope.data_ConsigneeArea = await ShipmentRouting_Service.Dropdown_ConsigneeArea();
    };

    $scope.getData_Status = async function () {
        $scope.data_Status_All = await Utility_ERP.getData_DocumentStatus('ShipmentRouting');

        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        $rootScope.SetDefaultDropdownList($scope.data_Status, 'StatusId', $scope, 'selectedStatus');
    };

    $scope.getData_Type = async function () {
        $scope.data_Type = await ShipmentRouting_Service.Dropdown_Type();
    };

    $scope.getData_DeliverVia = async function () {
        $scope.data_DeliverVia = await ShipmentRouting_Service.Dropdown_DeliverVia();
    };

    $scope.getData_Project = async function () {
        $scope.data_Project = await ShipmentRouting_Service.Dropdown_Project();
    };

    $scope.selectedShowAll_Change = async function (flag = true, flag2 = true) {
        // prettier-ignore
        $scope.data_Status = ($scope.selectedShowAll ? $scope.data_Status_All : $scope.data_Status_All.filter(function (e) { return e.IsArchive == false; }));

        // just to make UX consistent
        if (flag2) $scope.selectedStatus = '';

        if (flag) {
            await $scope.showData();
        }
    };

    

    async function Override_some_Filters() {
        let branch = $scope.filters.Branch.Value;
        if (branch && typeof branch === 'string' && branch.indexOf('(') >= 0) branch = '';

        let source = $scope.filters.Source.Value;
        if (source && typeof source === 'string' && source.indexOf('(') >= 0) source = '';
        $scope.selectedSource = source;

        let site = $scope.filters.Site.Value;
        if (site && typeof site === 'string' && site.indexOf('(') >= 0) site = '';
        $scope.selectedSite = site;

        let consigneeArea = $scope.filters.ConsigneeArea.Value;
        if (consigneeArea && typeof consigneeArea === 'string' && consigneeArea.indexOf('(') >= 0) consigneeArea = '';
        $scope.selectedConsigneeArea = consigneeArea;

        let status = $scope.filters.Status.Value;
        if (status && typeof status === 'string' && status.indexOf('(') >= 0) status = '';
        $scope.selectedStatus = status;

        let type = $scope.filters.Type.Value;
        if (type && typeof type === 'string' && type.indexOf('(') >= 0) type = '';
        $scope.selectedType = type;

        let deliverVia = $scope.filters.DeliverVia.Value;
        if (deliverVia && typeof deliverVia === 'string' && deliverVia.indexOf('(') >= 0) deliverVia = '';
        $scope.selectedDeliverVia = deliverVia;

        let project = $scope.filters.Project.Value;
        if (project && typeof project === 'string' && project.indexOf('(') >= 0) project = '';
        $scope.selectedProject = project;

        if ($scope.LoadFilterState_) {
            $scope.selectedBranch = branch;

            $scope.selectedConsignee = $scope.filters['selectedConsignee'];
            delete $scope.filters['selectedConsignee'];

            $scope.selectedShowAll = $scope.filters['selectedShowAll'];
            $scope.selectedShowAll_Change(false, false);

            delete $scope.filters['selectedShowAll'];
        }
    }

    $scope.initialize_Page = async function () {
        Utility_ERP.Still_Processing($scope, true);

        await Promise.allSettled([
            $rootScope.EmployeeLocationAccess($scope, ''),
            $scope.getData_Source(),
            $scope.getData_Site(),
            $scope.getData_ConsigneeArea(),
            $scope.getData_Status(),
            $scope.getData_Type(),
            $scope.getData_DeliverVia(),
            $scope.getData_Project()
        ]);

        $rootScope.LoadFilterState('ShipmentRouting', $scope);

        await Override_some_Filters();

        $scope.CreateTable();

        $rootScope.Proces_CheckBox_Kiri($scope);

        $scope.showData();
    };

    $scope.printForm = async function () { }

    $scope.exportList = async function () { }

    $scope.reviseDeliveryDate = async function () { }

    $scope.pickClick = async function () { }

    $scope.viewPicked = async function () { }

    $scope.splitRoute = async function () { }

    $scope.voidClick = async function () { }

    $scope.initialize_Page();
});
// ini file Controller.js
"use strict";

angular.module('app.erpUtils').factory('Department_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XHRDepartment', 'Code', 'asc', filterObject, 'Code, ShortName, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XHRDepartment',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XHRDepartment',
                fieldNames: ['Code', 'Description', 'ShortName'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: 'true' }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XHRDepartment',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'UnitOfMeasurementController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Activate = async function (data) {
            let request = {
                actionController: 'UnitOfMeasurementController',
                actionName: 'Activate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.DeActivate = async function (data) {
            let request = {
                actionController: 'UnitOfMeasurementController',
                actionName: 'DeActivate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('HREmployee_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XHREmployee', 'JoinedDate', 'asc', filterObject, 'Code, Name', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XHREmployee',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XHREmployee',
                fieldNames: ['Code', 'Description', 'ShortName'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: 'true' }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XHREmployee',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'UnitOfMeasurementController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Activate = async function (data) {
            let request = {
                actionController: 'UnitOfMeasurementController',
                actionName: 'Activate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.DeActivate = async function (data) {
            let request = {
                actionController: 'UnitOfMeasurementController',
                actionName: 'DeActivate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('Personels_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (filterObject, pageLength = 5, afterRequestData = null) {
            let modelName = 'XERPFormPersonnel';
            let defaultSortField = 'Name';
            let defaultSortDirection = 'desc';
            let defaultSearchKeyword = 'Name';

            return DTService.GenerateDTInstance(modelName, defaultSortField, defaultSortDirection, filterObject, defaultSearchKeyword, pageLength, afterRequestData);
        };

        service.List = async function () {
            let request = {
                modelName: 'XERPFormPersonnel',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Name asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function (val, module, branchCode = 'PKS', sortedBy = 'Name') {
            let request = {
                modelName: 'XERPFormPersonnel',
                fieldNames: ['PersonelCode', 'Name'],
                maximumResult: 20,
                pageNumber: 1,
                SQLCriteria: `(Module = '${module}') and (BranchCode = '${branchCode}') and ((PersonelCode like '%${val}%') or (Name like '%${val}%'))`,
                sortList: [sortedBy + ' asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XERPFormPersonnel',
                criteriaList: [{ PropertyName: 'PersonelCode', Operator: '=', Value: code }],
            };

            let response = await BackEndService.RequestDataSingle(request);

            return response.data;
        };

        service.Save = async function (data) {
            let request = {
                actionController: 'ERPFormPersonnelController',
                actionName: 'Save',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('Position_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XHRJobPosition', 'Name', 'asc', filterObject, 'Name', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XHRJobPosition',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XHRJobPosition',
                fieldNames: ['Code', 'Description', 'ShortName'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: 'true' }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XHRJobPosition',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'UnitOfMeasurementController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Activate = async function (data) {
            let request = {
                actionController: 'UnitOfMeasurementController',
                actionName: 'Activate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.DeActivate = async function (data) {
            let request = {
                actionController: 'UnitOfMeasurementController',
                actionName: 'DeActivate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('YearCalendar_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XHRYearCalendarItem', 'DateFrom', 'asc', filterObject, 'Subject', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XHRYearCalendar',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XHRYearCalendar',
                fieldNames: ['Code', 'Description', 'ShortName'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: 'true' }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XHRYearCalendar',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'UnitOfMeasurementController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Activate = async function (data) {
            let request = {
                actionController: 'UnitOfMeasurementController',
                actionName: 'Activate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.DeActivate = async function (data) {
            let request = {
                actionController: 'UnitOfMeasurementController',
                actionName: 'DeActivate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('AdjustmentForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('AssembleForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('AssemblyOrders_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XAssemblyOrder', 'InsertStamp', 'desc', filterObject, 'OrderNr, Branch, Warehouse, Reason, Item, IssuedBy', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XAssemblyOrder',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['OrderNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XAssemblyOrder',
                fieldNames: ['OrderNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['OrderNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XAssemblyOrder',
                criteriaList: [{ PropertyName: 'OrderNr', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'AssemblyOrderController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Dropdown_Reason = async function () {
            let request = {
                modelName: 'XAssemblyReason',
                fieldNames: ['Code', 'Name'],
                maximumResult: 1000,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: true }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('AssetDisposalMethodForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('AssetDisposals_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XAssetDisposal', 'InsertStamp', 'desc', filterObject, 'Code', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XAssetDisposal',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XAssetDisposal',
                fieldNames: ['Code'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XAssetDisposal',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'AssetDisposalController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('AssetForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('Assets_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XAsset', 'InsertStamp', 'desc', filterObject, 'SerialNumber, Type, Branch, Name', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XAsset',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['SerialNumber desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XAsset',
                fieldNames: ['SerialNumber'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['SerialNumber desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XAsset',
                criteriaList: [{ PropertyName: 'SerialNumber', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'AssetController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Dropdown_Type = async function () {
            let request = {
                modelName: 'XAssetType',
                fieldNames: ['Code', 'Name'],
                maximumResult: 1000,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: true }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        return service;
    },
]);
// ini file Service.js

"use strict";

angular.module('app.erpUtils').factory('AssetTypes_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('AssetType', 'Code', 'asc', filterObject, 'Code, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'AssetType',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'AssetType',
                fieldNames: ['Code', 'Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'AssetType',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'AssetTypeController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('BranchAllocation_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XBranchAllocation', 'ItemCode', 'asc', filterObject, 'ItemCode, ItemName, Brand, Category', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XBranchAllocation',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ItemCode asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XBranchAllocation',
                fieldNames: ['ItemCode'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ItemCode asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XBranchAllocation',
                criteriaList: [{ PropertyName: 'ItemCode', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data) {
            let request = {
                actionController: 'BranchAllocationController',
                actionName: 'Save',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('BrandForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('Brands_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XInvBrand', 'Code', 'asc', filterObject, 'Code, ShortName, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XInvBrand',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XInvBrand',
                fieldNames: ['Code', 'Description', 'ShortName'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: 'true' }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XInvBrand',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'BrandController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Activate = async function (data) {
            let request = {
                actionController: 'BrandController',
                actionName: 'Activate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.DeActivate = async function (data) {
            let request = {
                actionController: 'BrandController',
                actionName: 'DeActivate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('Categories_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XInvItemCategory', 'ParentCode, Code', 'asc', filterObject, 'Code, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XInvItemCategory',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XInvItemCategory',
                fieldNames: ['Code', 'Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: 'true' }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Category2x = async function (val) {
            let request = {
                modelName: 'XInvItemCategory',
                fieldNames: ['Code', 'Description'],
                maximumResult: 20,
                pageNumber: 1,
                criteriaList: [
                    { PropertyName: 'Active', Operator: '=', Value: 'true' },
                ],
                sortList: ['Code asc'],
            };

            if (val && val.trim() !== '') {
                request.criteriaList.push({
                    PropertyName: 'Code|Description',
                    Operator: 'contains',
                    Value: val,
                });
            }

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Category2 = async function (val) {
            return await service.Dropdown2(val);
        }

        service.Dropdown2 = async function (val) {
            var request = {
                modelName: 'XInvItemCategory',
                fieldNames: ['Code', 'Description'],
                maximumResult: 20,
                pageNumber: 1,
                SQLCriteria: `(Active = 1) and ((Code like '%${val}%') or (Description like '%${val}%'))`,
                sortList: ['Code asc'],
            };

            var httpPromise = BackEndService.GetDataListHttpPromise(request);

            return httpPromise.then(
                async function (response) {
                    return response.data.Data;
                },
                async function (response) { }
            );
        };

        service.Dropdown3 = async function () {
            let request = {
                modelName: 'XInvItemCategory',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: 'true' }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList_X(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XInvItemCategory',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'CategoryController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Activate = async function (data) {
            let request = {
                actionController: 'CategoryController',
                actionName: 'Activate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.DeActivate = async function (data) {
            let request = {
                actionController: 'CategoryController',
                actionName: 'DeActivate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Parent = async function () {
            let request = {
                modelName: 'XInvItemCategory',
                fieldNames: ['Code', 'Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('CategoryForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('ComparisonPanel_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XComparisonPanel', 'InsertStamp', 'desc', filterObject, 'Code', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XComparisonPanel',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XComparisonPanel',
                fieldNames: ['Code'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XComparisonPanel',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'ComparisonPanelController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('ContractPosition_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XContractPosition', 'ItemCode', 'asc', filterObject, 'ItemCode, ItemName, Brand, Category', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XContractPosition',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ItemCode asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XContractPosition',
                fieldNames: ['ItemCode'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ItemCode asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XContractPosition',
                criteriaList: [{ PropertyName: 'ItemCode', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('CostGroupForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('CostGroups_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XInvCostGroup', 'Code', 'asc', filterObject, 'Code, ShortName, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XInvCostGroup',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XInvCostGroup',
                fieldNames: ['Code', 'Description', 'ShortName'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: 'true' }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XInvCostGroup',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'CostGroupController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Activate = async function (data) {
            let request = {
                actionController: 'CostGroupController',
                actionName: 'Activate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.DeActivate = async function (data) {
            let request = {
                actionController: 'CostGroupController',
                actionName: 'DeActivate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('CountForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

// ini file Service.js

"use strict";

angular.module('app.erpUtils').factory('CountVerification_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XCountVerification', 'SheetNo', 'desc', filterObject, 'SheetNo, SheetName', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XCountVerification',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['SheetNo desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XCountVerification',
                fieldNames: ['SheetNo'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['SheetNo desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (sheetNo) {
            let request = {
                modelName: 'XCountVerification',
                criteriaList: [{ PropertyName: 'SheetNo', Operator: '=', Value: sheetNo }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'CountVerificationController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('DeliveredClosedDoSelection_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XDeliveredClosedDoSelection', 'ShipmentNo', 'desc', filterObject, 'ShipmentNo, Branch, Warehouse', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XDeliveredClosedDoSelection',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ShipmentNo desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XDeliveredClosedDoSelection',
                fieldNames: ['ShipmentNo'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ShipmentNo desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (shipmentNo) {
            let request = {
                modelName: 'XDeliveredClosedDoSelection',
                criteriaList: [{ PropertyName: 'ShipmentNo', Operator: '=', Value: shipmentNo }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'DeliveredClosedDoSelectionController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
// ini file Service.js

"use strict";

angular.module('app.erpUtils').factory('DisassemblyOrders_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XDisassemblyOrder', 'InsertStamp', 'desc', filterObject, 'Code', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XDisassemblyOrder',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XDisassemblyOrder',
                fieldNames: ['Code'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XDisassemblyOrder',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'DisassemblyOrderController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
// ini file Service.js

"use strict";

angular.module('app.erpUtils').factory('DisposalMethods_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XFADisposalMethod', 'Code', 'asc', filterObject, 'Code, ShortName, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XFADisposalMethod',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XFADisposalMethod',
                fieldNames: ['Code', 'Description', 'ShortName'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: 'true' }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XFADisposalMethod',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'DisposalMethodController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Activate = async function (data) {
            let request = {
                actionController: 'DisposalMethodController',
                actionName: 'Activate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.DeActivate = async function (data) {
            let request = {
                actionController: 'DisposalMethodController',
                actionName: 'DeActivate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('DropshipPositions_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XDropshipPosition', 'ItemCode', 'asc', filterObject, 'ItemCode, ItemName, Brand', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XDropshipPosition',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ItemCode asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XDropshipPosition',
                fieldNames: ['ItemCode'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ItemCode asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XDropshipPosition',
                criteriaList: [{ PropertyName: 'ItemCode', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('InventoryAdjustments_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XInventoryAdjustment', 'InsertStamp', 'desc', filterObject, 'DocNr, Branch, Warehouse, IssuedBy', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XInventoryAdjustment',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['DocNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XInventoryAdjustment',
                fieldNames: ['DocNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['DocNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XInventoryAdjustment',
                criteriaList: [{ PropertyName: 'DocNr', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'InventoryAdjustmentController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('InventoryCounts_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XInventoryCount', 'InsertStamp', 'desc', filterObject, 'ProcessNr, Branch, Warehouse, IssuedBy, Notes', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XInventoryCount',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ProcessNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XInventoryCount',
                fieldNames: ['ProcessNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ProcessNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XInventoryCount',
                criteriaList: [{ PropertyName: 'ProcessNr', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'InventoryCountController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('InventoryIsolations_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XInventoryIsolation', 'InsertStamp', 'desc', filterObject, 'DocNr, Branch, Warehouse, Reason, DocType, DocNumber, IssuedBy', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XInventoryIsolation',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['DocNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XInventoryIsolation',
                fieldNames: ['DocNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['DocNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XInventoryIsolation',
                criteriaList: [{ PropertyName: 'DocNr', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'InventoryIsolationController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Dropdown_IsolationSourceType = async function () {
            let request = {
                modelName: 'XIsolationSourceType',
                fieldNames: ['Code', 'Name'],
                maximumResult: 1000,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: true }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Reason = async function () {
            let request = {
                modelName: 'XIsolationReason',
                fieldNames: ['Code', 'Name'],
                maximumResult: 1000,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: true }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('InventoryIssueVerification_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('InventoryIssue', 'ItemCode', 'asc', filterObject, 'ItemCode, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'InventoryIssue',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ItemCode asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'InventoryIssue',
                fieldNames: ['ItemCode'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ItemCode asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'InventoryIssue',
                criteriaList: [{ PropertyName: 'ItemCode', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'InventoryIssueController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Verify = async function (data) {
            let request = {
                actionController: 'InventoryIssueController',
                actionName: 'Verify',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('InventoryItemForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('InventoryItems_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XInvStockItems', 'Code', 'asc', filterObject, 'Code, ShortName, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XInvStockItems',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XInvStockItems',
                fieldNames: ['Code', 'Description', 'ShortName'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: 'true' }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XInvStockItems',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'ItemController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Activate = async function (data) {
            let request = {
                actionController: 'ItemController',
                actionName: 'Activate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.DeActivate = async function (data) {
            let request = {
                actionController: 'ItemController',
                actionName: 'DeActivate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);

// ini file Service.js

"use strict";

angular.module('app.erpUtils').factory('InventoryLeaseForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

// ini file Service.js

"use strict";

angular.module('app.erpUtils').factory('InventoryLease_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XInventoryLease', 'InsertStamp', 'desc', filterObject, 'DocNr, Branch, Warehouse, RequestedBy, Reason, IssuedBy', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XInventoryLease',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['DocNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XInventoryLease',
                fieldNames: ['DocNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['DocNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XInventoryLease',
                criteriaList: [{ PropertyName: 'DocNr', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'InventoryLeaseController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Dropdown_Reason = async function () {
            let request = {
                modelName: 'XLeaseReason',
                fieldNames: ['Code', 'Name'],
                maximumResult: 1000,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: true }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('InventoryReceiptVerification_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XInventoryReceiptVerification', 'InsertStamp', 'desc', filterObject, 'ItemCode, Description, Uom', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XInventoryReceiptVerification',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ItemCode desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XInventoryReceiptVerification',
                fieldNames: ['ItemCode'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ItemCode desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XInventoryReceiptVerification',
                criteriaList: [{ PropertyName: 'ItemCode', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'InventoryReceiptVerificationController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('InventoryRequests_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XInventoryRequest', 'InsertStamp', 'desc', filterObject, 'DocNr, Branch, Warehouse, RequestedBy, Notes', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XInventoryRequest',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['DocNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XInventoryRequest',
                fieldNames: ['DocNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['DocNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XInventoryRequest',
                criteriaList: [{ PropertyName: 'DocNr', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'InventoryRequestController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
// ini file Service.js

"use strict";

angular.module('app.erpUtils').factory('IsolationVerification_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XIsolationVerification', 'ItemCode', 'asc', filterObject, 'ItemCode, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XIsolationVerification',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ItemCode asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XIsolationVerification',
                fieldNames: ['ItemCode'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ItemCode asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (itemCode) {
            let request = {
                modelName: 'XIsolationVerification',
                criteriaList: [{ PropertyName: 'ItemCode', Operator: '=', Value: itemCode }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'IsolationVerificationController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('IssueForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('ItemCosts_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XItemCost', 'InsertStamp', 'desc', filterObject, 'ItemNumber', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XItemCost',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ItemNumber desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XItemCost',
                fieldNames: ['ItemNumber'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ItemNumber desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (itemNumber) {
            let request = {
                modelName: 'XItemCost',
                criteriaList: [{ PropertyName: 'ItemNumber', Operator: '=', Value: itemNumber }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'ItemCostController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('ManufactureForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('Manufacturers_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XInvManufacturer', 'Code', 'asc', filterObject, 'Code, ShortName, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XInvManufacturer',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XInvManufacturer',
                fieldNames: ['Code', 'Description', 'ShortName'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: 'true' }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XInvManufacturer',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'ManufacturerController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Activate = async function (data) {
            let request = {
                actionController: 'ManufacturerController',
                actionName: 'Activate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.DeActivate = async function (data) {
            let request = {
                actionController: 'ManufacturerController',
                actionName: 'DeActivate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('MinimumStocks_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('OutgoingOrders_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XOutgoingOrder', 'InsertStamp', 'desc', filterObject, 'RequestNr, Branch, RequestTo, DeliverTo', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XOutgoingOrder',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['RequestNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XOutgoingOrder',
                fieldNames: ['RequestNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['RequestNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XOutgoingOrder',
                criteriaList: [{ PropertyName: 'RequestNr', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'OutgoingOrderController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Dropdown_RequestFrom = async function () {
            let request = {
                modelName: 'XWarehouse',
                fieldNames: ['Code', 'Name'],
                maximumResult: 1000,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: true }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_DeliverTo = async function () {
            let request = {
                modelName: 'XWarehouse',
                fieldNames: ['Code', 'Name'],
                maximumResult: 1000,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: true }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('ProfileForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('Profiles_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XInvItemType', 'Code', 'asc', filterObject, 'Code, ShortName, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XInvItemType',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XInvItemType',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: 'true' }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XInvItemType',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'ProfileController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Activate = async function (data) {
            let request = {
                actionController: 'ProfileController',
                actionName: 'Activate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.DeActivate = async function (data) {
            let request = {
                actionController: 'ProfileController',
                actionName: 'DeActivate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('Replenishment_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XReplenishment', 'ItemCode', 'asc', filterObject, 'ItemCode, ItemName, Brand', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XReplenishment',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ItemCode asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XReplenishment',
                fieldNames: ['ItemCode'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ItemCode asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XReplenishment',
                criteriaList: [{ PropertyName: 'ItemCode', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('ReservePositions_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XReservePosition', 'ItemCode', 'asc', filterObject, 'ItemCode, ItemName, Brand', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XReservePosition',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ItemCode asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XReservePosition',
                fieldNames: ['ItemCode'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ItemCode asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XReservePosition',
                criteriaList: [{ PropertyName: 'ItemCode', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('StockPositions_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XStockPosition', 'ItemCode', 'asc', filterObject, 'ItemCode, ItemName, Brand', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XStockPosition',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ItemCode asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XStockPosition',
                fieldNames: ['ItemCode'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ItemCode asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XStockPosition',
                criteriaList: [{ PropertyName: 'ItemCode', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('TaxPositions_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XTaxPosition', 'ItemCode', 'asc', filterObject, 'ItemCode, ItemName, Brand, Category', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XTaxPosition',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ItemCode asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XTaxPosition',
                fieldNames: ['ItemCode'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ItemCode asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XTaxPosition',
                criteriaList: [{ PropertyName: 'ItemCode', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('TaxReplenishment_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XTaxReplenishment', 'ItemCode', 'asc', filterObject, 'ItemCode, ItemName, Brand, Category', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XTaxReplenishment',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ItemCode asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XTaxReplenishment',
                fieldNames: ['ItemCode'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ItemCode asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XTaxReplenishment',
                criteriaList: [{ PropertyName: 'ItemCode', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        return service;
    },
]);
// ini file Service.js

"use strict";

angular.module('app.erpUtils').factory('TransferForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('TransferRequests_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XTransferRequest', 'RequestNr', 'desc', filterObject, 'RequestNr, Branch, FromWH, DestWH', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XTransferRequest',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['RequestNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XTransferRequest',
                fieldNames: ['RequestNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['RequestNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XTransferRequest',
                criteriaList: [{ PropertyName: 'RequestNr', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('UomForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('Uoms_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XInventoryUOM', 'Code', 'asc', filterObject, 'Code, ShortName, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XInventoryUOM',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XInventoryUOM',
                fieldNames: ['Code', 'Description', 'ShortName'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: 'true' }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XInventoryUOM',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'UnitOfMeasurementController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Activate = async function (data) {
            let request = {
                actionController: 'UnitOfMeasurementController',
                actionName: 'Activate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.DeActivate = async function (data) {
            let request = {
                actionController: 'UnitOfMeasurementController',
                actionName: 'DeActivate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('WarehouseForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('WarehouseSelection_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('Warehouse', 'Code', 'asc', filterObject, 'Code, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'Warehouse',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'Warehouse',
                fieldNames: ['Code', 'Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'Warehouse',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'WarehouseController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.AddSelectedWarehouses = async function (data) {
            let request = {
                actionController: 'WarehouseController',
                actionName: 'AddSelected',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('Warehouses_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XInvWarehouse', 'Code', 'asc', filterObject, 'Code, ShortName, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XInvWarehouse',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XInvWarehouse',
                fieldNames: ['Code', 'Description', 'ShortName'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: 'true' }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XInvWarehouse',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'WarehouseController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Activate = async function (data) {
            let request = {
                actionController: 'WarehouseController',
                actionName: 'Activate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.DeActivate = async function (data) {
            let request = {
                actionController: 'WarehouseController',
                actionName: 'DeActivate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('BranchForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('Branch_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XBranch', 'Code asc, Name', 'asc', filterObject, 'Code, Name, SubAccount', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XBranch',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XBranch',
                fieldNames: ['Code', 'Name', 'SubAccount'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Status', Operator: '=', Value: 'true' }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown2 = async function (val) {
            var request = {
                modelName: 'XBranch',
                fieldNames: ['Code', 'Name', 'SubAccount'],
                maximumResult: 20,
                pageNumber: 1,
                SQLCriteria: `(Status = 1) and ((Code like '%${val}%') or (Name like '%${val}%') or (SubAccount like '%${val}%'))`,
                sortList: ['Code asc'],
            };

            var httpPromise = BackEndService.GetDataListHttpPromise(request);

            return httpPromise.then(
                async function (response) {
                    return response.data.Data;
                },
                async function (response) { }
            );
        };

        service.Dropdown3 = async function () {
            let request = {
                modelName: 'XBranch',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Status', Operator: '=', Value: 'true' }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList_X(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XBranch',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'BranchController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Activate = async function (data) {
            let request = {
                actionController: 'BranchController',
                actionName: 'Activate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.DeActivate = async function (data) {
            let request = {
                actionController: 'BranchController',
                actionName: 'DeActivate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('CalenderSystemForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('CalenderSystem_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('CoaForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('Coa_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('CollectZoneForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('CollectZone_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XCollectZone', 'Code asc, Name', 'asc', filterObject, 'Code, Name', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XCollectZone',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XCollectZone',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Status', Operator: '=', Value: 'true' }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown2 = async function (val) {
            var request = {
                modelName: 'XCollectZone',
                fieldNames: ['Code', 'Name'],
                maximumResult: 20,
                pageNumber: 1,
                SQLCriteria: `(Status = 1) and ((Code like '%${val}%') or (Name like '%${val}%'))`,
                sortList: ['Code asc'],
            };

            var httpPromise = BackEndService.GetDataListHttpPromise(request);

            return httpPromise.then(
                async function (response) {
                    return response.data.Data;
                },
                async function (response) { }
            );
        };

        service.Dropdown3 = async function () {
            let request = {
                modelName: 'XCollectZone',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Status', Operator: '=', Value: 'true' }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList_X(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XCollectZone',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'CollectZoneController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Activate = async function (data) {
            let request = {
                actionController: 'CollectZoneController',
                actionName: 'Activate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.DeActivate = async function (data) {
            let request = {
                actionController: 'CollectZoneController',
                actionName: 'DeActivate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('CompanyForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('Company_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('CustomerGradeForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        // Base API endpoint
        var apiEndpoint = '/api/customergrade';

        /**
         * Get customer grade by ID
         * @param {string} id - Customer Grade ID
         * @returns {Promise}
         */
        service.getById = function(id) {
            return BackEndService.get(apiEndpoint + '/' + id);
        };

        /**
         * Get all customer grades
         * @returns {Promise}
         */
        service.getAll = function() {
            return BackEndService.get(apiEndpoint);
        };

        /**
         * Get active customer grades only
         * @returns {Promise}
         */
        service.getActive = function() {
            return BackEndService.get(apiEndpoint + '/active');
        };

        /**
         * Create new customer grade
         * @param {Object} data - Customer Grade data
         * @returns {Promise}
         */
        service.create = function(data) {
            var payload = {
                Code: data.Code,
                Name: data.Name,
                Description: data.Description || '',
                Active: data.Active !== undefined ? data.Active : true
            };
            return BackEndService.post(apiEndpoint, payload);
        };

        /**
         * Update existing customer grade
         * @param {Object} data - Customer Grade data with ID
         * @returns {Promise}
         */
        service.update = function(data) {
            var payload = {
                Name: data.Name,
                Description: data.Description || '',
                Active: data.Active !== undefined ? data.Active : true
            };
            
            return BackEndService.put(apiEndpoint + '/' + data.Id, payload);
        };

        /**
         * Delete customer grade
         * @param {string} id - Customer Grade ID
         * @returns {Promise}
         */
        service.delete = function(id) {
            return BackEndService.delete(apiEndpoint + '/' + id);
        };

        /**
         * Check if code exists
         * @param {string} code - Code to check
         * @returns {Promise}
         */
        service.checkCodeExists = function(code) {
            return BackEndService.get(apiEndpoint + '/check-code', { code: code });
        };

        /**
         * Validate customer grade data
         * @param {Object} data - Customer Grade data to validate
         * @param {boolean} isCreate - Whether this is a create operation
         * @returns {Object} Validation result
         */
        service.validateData = function(data, isCreate) {
            var errors = [];

            if (isCreate && (!data.Code || data.Code.trim() === '')) {
                errors.push('Code is required');
            }

            if (!data.Name || data.Name.trim() === '') {
                errors.push('Name is required');
            }

            if (data.Name && data.Name.length > 100) {
                errors.push('Name cannot exceed 100 characters');
            }

            if (data.Description && data.Description.length > 500) {
                errors.push('Description cannot exceed 500 characters');
            }

            return {
                isValid: errors.length === 0,
                errors: errors
            };
        };

        /**
         * Get customer grades for dropdown
         * @returns {Promise}
         */
        service.getForDropdown = function() {
            return BackEndService.get(apiEndpoint + '/dropdown');
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('CustomerGrade_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('CustomerGrade', 'CustomerGradeCode asc', 'asc', filterObject, 'CustomerGradeCode, CustomerGradeName, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'CustomerGrade',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['CustomerGradeCode asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'CustomerGrade',
                fieldNames: ['CustomerGradeCode', 'CustomerGradeName'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Status', Operator: '=', Value: 'Active' }],
                sortList: ['CustomerGradeCode asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown2 = async function (val) {
            var request = {
                modelName: 'CustomerGrade',
                fieldNames: ['CustomerGradeCode', 'CustomerGradeName'],
                maximumResult: 20,
                pageNumber: 1,
                SQLCriteria: `(Status = 'Active') and ((CustomerGradeCode like '%${val}%') or (CustomerGradeName like '%${val}%'))`,
                sortList: ['CustomerGradeCode asc'],
            };

            var httpPromise = BackEndService.GetDataListHttpPromise(request);

            return httpPromise.then(
                async function (response) {
                    return response.data.Data;
                },
                async function (response) { }
            );
        };

        service.DataSingle = async function (customerGradeCode) {
            let request = {
                modelName: 'CustomerGrade',
                criteriaList: [{ PropertyName: 'CustomerGradeCode', Operator: '=', Value: customerGradeCode }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'CustomerGradeController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Activate = async function (data) {
            let request = {
                actionController: 'CustomerGradeController',
                actionName: 'Activate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.DeActivate = async function (data) {
            let request = {
                actionController: 'CustomerGradeController',
                actionName: 'DeActivate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Delete = async function (data) {
            let request = {
                actionController: 'CustomerGradeController',
                actionName: 'Delete',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('DeliveryZoneForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('DeliveryZone_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XDeliveryZone', 'Code asc, Name', 'asc', filterObject, 'Code, Name', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XDeliveryZone',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XDeliveryZone',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Status', Operator: '=', Value: 'true' }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown2 = async function (val) {
            var request = {
                modelName: 'XDeliveryZone',
                fieldNames: ['Code', 'Name'],
                maximumResult: 20,
                pageNumber: 1,
                SQLCriteria: `(Status = 1) and ((Code like '%${val}%') or (Name like '%${val}%'))`,
                sortList: ['Code asc'],
            };

            var httpPromise = BackEndService.GetDataListHttpPromise(request);

            return httpPromise.then(
                async function (response) {
                    return response.data.Data;
                },
                async function (response) { }
            );
        };

        service.Dropdown3 = async function () {
            let request = {
                modelName: 'XDeliveryZone',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Status', Operator: '=', Value: 'true' }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList_X(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XDeliveryZone',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'DeliveryZoneController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Activate = async function (data) {
            let request = {
                actionController: 'DeliveryZoneController',
                actionName: 'Activate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.DeActivate = async function (data) {
            let request = {
                actionController: 'DeliveryZoneController',
                actionName: 'DeActivate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('DepartmentForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('Department_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XDepartment', 'Code asc, Name', 'asc', filterObject, 'Code, Name, SubAccount', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XDepartment',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XDepartment',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Status', Operator: '=', Value: 'true' }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown2 = async function (val) {
            var request = {
                modelName: 'XDepartment',
                fieldNames: ['Code', 'Name'],
                maximumResult: 20,
                pageNumber: 1,
                SQLCriteria: `(Status = 1) and ((Code like '%${val}%') or (Name like '%${val}%'))`,
                sortList: ['Code asc'],
            };

            var httpPromise = BackEndService.GetDataListHttpPromise(request);

            return httpPromise.then(
                async function (response) {
                    return response.data.Data;
                },
                async function (response) { }
            );
        };

        service.Dropdown3 = async function () {
            let request = {
                modelName: 'XDepartment',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Status', Operator: '=', Value: 'true' }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList_X(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XDepartment',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'DepartmentController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Activate = async function (data) {
            let request = {
                actionController: 'DepartmentController',
                actionName: 'Activate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.DeActivate = async function (data) {
            let request = {
                actionController: 'DepartmentController',
                actionName: 'DeActivate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('MasterHolidayForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('MasterHoliday_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('MenuForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('Menu_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('OwnershipProjectForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('Ownership_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('Ownership', 'OwnershipID asc', 'asc', filterObject, 'OwnershipID, OwnershipName, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'Ownership',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['OwnershipID asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'Ownership',
                fieldNames: ['OwnershipID', 'OwnershipName'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Status', Operator: '=', Value: 'Active' }],
                sortList: ['OwnershipID asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown2 = async function (val) {
            var request = {
                modelName: 'Ownership',
                fieldNames: ['OwnershipID', 'OwnershipName'],
                maximumResult: 20,
                pageNumber: 1,
                SQLCriteria: `(Status = 'Active') and ((OwnershipID like '%${val}%') or (OwnershipName like '%${val}%'))`,
                sortList: ['OwnershipID asc'],
            };

            var httpPromise = BackEndService.GetDataListHttpPromise(request);

            return httpPromise.then(
                async function (response) {
                    return response.data.Data;
                },
                async function (response) { }
            );
        };

        service.DataSingle = async function (ownershipID) {
            let request = {
                modelName: 'Ownership',
                criteriaList: [{ PropertyName: 'OwnershipID', Operator: '=', Value: ownershipID }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'OwnershipController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Activate = async function (data) {
            let request = {
                actionController: 'OwnershipController',
                actionName: 'Activate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.DeActivate = async function (data) {
            let request = {
                actionController: 'OwnershipController',
                actionName: 'DeActivate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Delete = async function (data) {
            let request = {
                actionController: 'OwnershipController',
                actionName: 'Delete',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('JobPositionForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('JobPosition_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XJobPosition', 'Code asc, Name', 'asc', filterObject, 'Code, Name, PositionLevel, SubAccount', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XJobPosition',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XJobPosition',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Status', Operator: '=', Value: 'true' }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown2 = async function (val) {
            var request = {
                modelName: 'XJobPosition',
                fieldNames: ['Code', 'Name'],
                maximumResult: 20,
                pageNumber: 1,
                SQLCriteria: `(Status = 1) and ((Code like '%${val}%') or (Name like '%${val}%'))`,
                sortList: ['Code asc'],
            };

            var httpPromise = BackEndService.GetDataListHttpPromise(request);

            return httpPromise.then(
                async function (response) {
                    return response.data.Data;
                },
                async function (response) { }
            );
        };

        service.Dropdown3 = async function () {
            let request = {
                modelName: 'XJobPosition',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Status', Operator: '=', Value: 'true' }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList_X(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XJobPosition',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'JobPositionController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Activate = async function (data) {
            let request = {
                actionController: 'JobPositionController',
                actionName: 'Activate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.DeActivate = async function (data) {
            let request = {
                actionController: 'JobPositionController',
                actionName: 'DeActivate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('RoleAccessForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        // Base API endpoint
        var apiEndpoint = '/api/role-access';

        /**
         * Get role access by ID
         * @param {string} id - Role Access ID
         * @returns {Promise}
         */
        service.getById = function(id) {
            return BackEndService.get(apiEndpoint + '/' + id);
        };

        /**
         * Get all role access
         * @returns {Promise}
         */
        service.getAll = function() {
            return BackEndService.get(apiEndpoint);
        };

        /**
         * Create new role access
         * @param {Object} data - Role access data
         * @returns {Promise}
         */
        service.create = function(data) {
            var payload = {
                RoleName: data.RoleName,
                RoleStatus: data.RoleStatus,
                Description: data.Description,
                Permissions: data.Permissions
            };
            return BackEndService.post(apiEndpoint, payload);
        };

        /**
         * Update existing role access
         * @param {Object} data - Role access data with ID
         * @returns {Promise}
         */
        service.update = function(data) {
            var payload = {
                RoleName: data.RoleName,
                RoleStatus: data.RoleStatus,
                Description: data.Description,
                Permissions: data.Permissions
            };
            
            return BackEndService.put(apiEndpoint + '/' + data.Id, payload);
        };

        /**
         * Delete role access
         * @param {string} id - Role Access ID
         * @returns {Promise}
         */
        service.delete = function(id) {
            return BackEndService.delete(apiEndpoint + '/' + id);
        };

        /**
         * Check if role name exists
         * @param {string} roleName - Role name to check
         * @returns {Promise}
         */
        service.checkRoleNameExists = function(roleName) {
            return BackEndService.get(apiEndpoint + '/check-rolename', { roleName: roleName });
        };

        /**
         * Get available modules
         * @returns {Promise}
         */
        service.getModules = function() {
            return BackEndService.get('/api/modules');
        };

        /**
         * Get permissions by role
         * @param {string} roleId - Role ID
         * @returns {Promise}
         */
        service.getPermissionsByRole = function(roleId) {
            return BackEndService.get(apiEndpoint + '/' + roleId + '/permissions');
        };

        /**
         * Clone role access from existing role
         * @param {string} sourceRoleId - Source Role ID to clone from
         * @param {string} newRoleName - New role name
         * @returns {Promise}
         */
        service.cloneRole = function(sourceRoleId, newRoleName) {
            return BackEndService.post(apiEndpoint + '/clone', {
                SourceRoleId: sourceRoleId,
                NewRoleName: newRoleName
            });
        };

        /**
         * Get roles with permission count
         * @returns {Promise}
         */
        service.getRolesWithPermissionCount = function() {
            return BackEndService.get(apiEndpoint + '/summary');
        };

        /**
         * Validate role access data
         * @param {Object} data - Role access data to validate
         * @returns {Object} Validation result
         */
        service.validateRoleAccessData = function(data) {
            var errors = [];

            if (!data.RoleName || data.RoleName.trim() === '') {
                errors.push('Role Name is required');
            }

            if (!data.RoleStatus || data.RoleStatus.trim() === '') {
                errors.push('Role Status is required');
            }

            if (!data.Permissions || data.Permissions.length === 0) {
                errors.push('At least one permission must be assigned');
            } else {
                // Check if at least one permission is enabled
                var hasPermission = false;
                for (var i = 0; i < data.Permissions.length; i++) {
                    var perm = data.Permissions[i];
                    if (perm.read || perm.create || perm.edit || perm.delete || perm.approval) {
                        hasPermission = true;
                        break;
                    }
                    // Check submodules
                    if (perm.submodules && perm.submodules.length > 0) {
                        for (var j = 0; j < perm.submodules.length; j++) {
                            var subPerm = perm.submodules[j];
                            if (subPerm.read || subPerm.create || subPerm.edit || subPerm.delete || subPerm.approval) {
                                hasPermission = true;
                                break;
                            }
                        }
                    }
                    if (hasPermission) break;
                }
                
                if (!hasPermission) {
                    errors.push('At least one permission must be enabled');
                }
            }

            return {
                isValid: errors.length === 0,
                errors: errors
            };
        };

        /**
         * Compare two roles and return differences
         * @param {string} role1Id - First Role ID
         * @param {string} role2Id - Second Role ID
         * @returns {Promise}
         */
        service.compareRoles = function(role1Id, role2Id) {
            return BackEndService.get(apiEndpoint + '/compare', {
                role1: role1Id,
                role2: role2Id
            });
        };

        /**
         * Export role access to Excel
         * @param {string} roleId - Role ID to export
         * @returns {Promise}
         */
        service.exportToExcel = function(roleId) {
            return BackEndService.download(apiEndpoint + '/' + roleId + '/export', {
                format: 'excel'
            });
        };

        /**
         * Import role access from Excel
         * @param {File} file - Excel file
         * @returns {Promise}
         */
        service.importFromExcel = function(file) {
            var formData = new FormData();
            formData.append('file', file);
            
            return BackEndService.upload(apiEndpoint + '/import', formData);
        };

        /**
         * Get role access history/audit log
         * @param {string} roleId - Role ID
         * @returns {Promise}
         */
        service.getAuditLog = function(roleId) {
            return BackEndService.get(apiEndpoint + '/' + roleId + '/audit-log');
        };

        /**
         * Activate/Deactivate role
         * @param {string} roleId - Role ID
         * @param {string} status - 'Active' or 'Inactive'
         * @returns {Promise}
         */
        service.updateStatus = function(roleId, status) {
            return BackEndService.put(apiEndpoint + '/' + roleId + '/status', {
                Status: status
            });
        };

        /**
         * Get users assigned to a role
         * @param {string} roleId - Role ID
         * @returns {Promise}
         */
        service.getUsersByRole = function(roleId) {
            return BackEndService.get(apiEndpoint + '/' + roleId + '/users');
        };

        /**
         * Bulk update permissions for multiple roles
         * @param {Array} roles - Array of role IDs
         * @param {Object} permissions - Permissions to apply
         * @returns {Promise}
         */
        service.bulkUpdatePermissions = function(roles, permissions) {
            return BackEndService.post(apiEndpoint + '/bulk-update', {
                RoleIds: roles,
                Permissions: permissions
            });
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('RoleAkses_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('RoleForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('RoleList_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XSystemRole', 'RoleName asc', 'asc', filterObject, 'RoleName, Description, MenuAccess, Function', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XSystemRole',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['RoleName asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XSystemRole',
                fieldNames: ['RoleName', 'Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Status', Operator: '=', Value: 'Active' }],
                sortList: ['RoleName asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown2 = async function (val) {
            var request = {
                modelName: 'XSystemRole',
                fieldNames: ['RoleName', 'Description'],
                maximumResult: 20,
                pageNumber: 1,
                SQLCriteria: `(Status = 'Active') and ((RoleName like '%${val}%') or (Description like '%${val}%'))`,
                sortList: ['RoleName asc'],
            };

            var httpPromise = BackEndService.GetDataListHttpPromise(request);

            return httpPromise.then(
                async function (response) {
                    return response.data.Data;
                },
                async function (response) { }
            );
        };

        service.DataSingle = async function (rolename) {
            let request = {
                modelName: 'XSystemRole',
                criteriaList: [{ PropertyName: 'RoleName', Operator: '=', Value: rolename }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'SystemRoleController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Activate = async function (data) {
            let request = {
                actionController: 'SystemRoleController',
                actionName: 'Activate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.DeActivate = async function (data) {
            let request = {
                actionController: 'SystemRoleController',
                actionName: 'DeActivate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Delete = async function (data) {
            let request = {
                actionController: 'SystemRoleController',
                actionName: 'Delete',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('SalesZoneForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('SalesZone_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XSalesZone', 'Code asc, Name', 'asc', filterObject, 'Code, Name', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XSalesZone',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XSalesZone',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Status', Operator: '=', Value: 'true' }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown2 = async function (val) {
            var request = {
                modelName: 'XSalesZone',
                fieldNames: ['Code', 'Name'],
                maximumResult: 20,
                pageNumber: 1,
                SQLCriteria: `(Status = 1) and ((Code like '%${val}%') or (Name like '%${val}%'))`,
                sortList: ['Code asc'],
            };

            var httpPromise = BackEndService.GetDataListHttpPromise(request);

            return httpPromise.then(
                async function (response) {
                    return response.data.Data;
                },
                async function (response) { }
            );
        };

        service.Dropdown3 = async function () {
            let request = {
                modelName: 'XSalesZone',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Status', Operator: '=', Value: 'true' }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList_X(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XSalesZone',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'SalesZoneController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Activate = async function (data) {
            let request = {
                actionController: 'SalesZoneController',
                actionName: 'Activate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.DeActivate = async function (data) {
            let request = {
                actionController: 'SalesZoneController',
                actionName: 'DeActivate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('WarehouseForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('SubAccountForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('SubAccount_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XSubAccount', 'SubAccountCode asc, SubAccountName', 'asc', filterObject, 'SubAccountCode, SubAccountName, COACode, COAName', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XSubAccount',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['SubAccountCode asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XSubAccount',
                fieldNames: ['SubAccountCode', 'SubAccountName', 'COACode', 'COAName'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Status', Operator: '=', Value: 'true' }],
                sortList: ['SubAccountCode asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown2 = async function (val) {
            var request = {
                modelName: 'XSubAccount',
                fieldNames: ['SubAccountCode', 'SubAccountName', 'COACode', 'COAName'],
                maximumResult: 20,
                pageNumber: 1,
                SQLCriteria: `(Status = 1) and ((SubAccountCode like '%${val}%') or (SubAccountName like '%${val}%') or (COACode like '%${val}%') or (COAName like '%${val}%'))`,
                sortList: ['SubAccountCode asc'],
            };

            var httpPromise = BackEndService.GetDataListHttpPromise(request);

            return httpPromise.then(
                async function (response) {
                    return response.data.Data;
                },
                async function (response) { }
            );
        };

        service.Dropdown3 = async function () {
            let request = {
                modelName: 'XSubAccount',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Status', Operator: '=', Value: 'true' }],
                sortList: ['SubAccountCode asc'],
            };

            let response = await BackEndService.RequestDataList_X(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XSubAccount',
                criteriaList: [{ PropertyName: 'SubAccountCode', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'SubAccountController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Activate = async function (data) {
            let request = {
                actionController: 'SubAccountController',
                actionName: 'Activate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.DeActivate = async function (data) {
            let request = {
                actionController: 'SubAccountController',
                actionName: 'DeActivate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('SuperAdminSystemForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('SuperAdminSystem_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('TaxForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('TaxList_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XTax', 'TaxCode asc', 'asc', filterObject, 'TaxCode, TaxName, TaxType, TaxCategory', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XTax',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['TaxCode asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XTax',
                fieldNames: ['TaxCode', 'TaxName', 'TaxRate'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Status', Operator: '=', Value: 'true' }],
                sortList: ['TaxCode asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown2 = async function (val) {
            var request = {
                modelName: 'XTax',
                fieldNames: ['TaxCode', 'TaxName', 'TaxRate'],
                maximumResult: 20,
                pageNumber: 1,
                SQLCriteria: `(Status = 1) and ((TaxCode like '%${val}%') or (TaxName like '%${val}%'))`,
                sortList: ['TaxCode asc'],
            };

            var httpPromise = BackEndService.GetDataListHttpPromise(request);

            return httpPromise.then(
                async function (response) {
                    return response.data.Data;
                },
                async function (response) { }
            );
        };

        service.DataSingle = async function (taxCode) {
            let request = {
                modelName: 'XTax',
                criteriaList: [{ PropertyName: 'TaxCode', Operator: '=', Value: taxCode }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'TaxController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Activate = async function (data) {
            let request = {
                actionController: 'TaxController',
                actionName: 'Activate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.DeActivate = async function (data) {
            let request = {
                actionController: 'TaxController',
                actionName: 'DeActivate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Delete = async function (data) {
            let request = {
                actionController: 'TaxController',
                actionName: 'Delete',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('TopGroupForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('TopGroup_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('UniverseBrandForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('UniverseBrand_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('UserForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        // Base API endpoint
        var apiEndpoint = '/api/users';

        /**
         * Get user by ID
         * @param {string} id - User ID
         * @returns {Promise}
         */
        service.getById = function(id) {
            return BackEndService.get(apiEndpoint + '/' + id);
        };

        /**
         * Get all users
         * @returns {Promise}
         */
        service.getAll = function() {
            return BackEndService.get(apiEndpoint);
        };

        /**
         * Create new user
         * @param {Object} data - User data
         * @returns {Promise}
         */
        service.create = function(data) {
            var payload = {
                Employee: data.Employee,
                FullName: data.FullName,
                EmailAddress: data.EmailAddress,
                Password: data.Password,
                AssignRole: data.AssignRole
            };
            return BackEndService.post(apiEndpoint, payload);
        };

        /**
         * Update existing user
         * @param {Object} data - User data with ID
         * @returns {Promise}
         */
        service.update = function(data) {
            var payload = {
                Employee: data.Employee,
                FullName: data.FullName,
                EmailAddress: data.EmailAddress,
                AssignRole: data.AssignRole
            };
            
            // Only include password if it's being changed
            if (data.Password && data.Password.trim() !== '') {
                payload.Password = data.Password;
            }
            
            return BackEndService.put(apiEndpoint + '/' + data.Id, payload);
        };

        /**
         * Delete user
         * @param {string} id - User ID
         * @returns {Promise}
         */
        service.delete = function(id) {
            return BackEndService.delete(apiEndpoint + '/' + id);
        };

        /**
         * Check if email exists
         * @param {string} email - Email address to check
         * @returns {Promise}
         */
        service.checkEmailExists = function(email) {
            return BackEndService.get(apiEndpoint + '/check-email', { email: email });
        };

        /**
         * Get available roles
         * @returns {Promise}
         */
        service.getRoles = function() {
            return BackEndService.get('/api/roles');
        };

        /**
         * Search employees
         * @param {string} searchTerm - Search term (NIK or Name)
         * @returns {Promise}
         */
        service.searchEmployees = function(searchTerm) {
            return BackEndService.get('/api/employees/search', { q: searchTerm });
        };

        /**
         * Validate user data
         * @param {Object} data - User data to validate
         * @returns {Object} Validation result
         */
        service.validateUserData = function(data) {
            var errors = [];

            if (!data.Employee || data.Employee.trim() === '') {
                errors.push('Employee is required');
            }

            if (!data.FullName || data.FullName.trim() === '') {
                errors.push('Full Name is required');
            }

            if (!data.EmailAddress || data.EmailAddress.trim() === '') {
                errors.push('Email Address is required');
            } else {
                // Basic email validation
                var emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!emailRegex.test(data.EmailAddress)) {
                    errors.push('Invalid email format');
                }
            }

            if (!data.Password || data.Password.trim() === '') {
                errors.push('Password is required');
            } else if (data.Password.length < 8) {
                errors.push('Password must be at least 8 characters');
            }

            if (!data.ConfirmPassword || data.ConfirmPassword.trim() === '') {
                errors.push('Confirm Password is required');
            } else if (data.Password !== data.ConfirmPassword) {
                errors.push('Passwords do not match');
            }

            if (!data.AssignRole || data.AssignRole.trim() === '') {
                errors.push('Assign Role is required');
            }

            return {
                isValid: errors.length === 0,
                errors: errors
            };
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('UserList_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XSystemUser', 'LastLogin desc', 'desc', filterObject, 'UserName, LinkedEmployee, Role', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XSystemUser',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['UserName asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XSystemUser',
                fieldNames: ['UserName', 'LinkedEmployee'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'UserStatus', Operator: '=', Value: 'true' }],
                sortList: ['UserName asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown2 = async function (val) {
            var request = {
                modelName: 'XSystemUser',
                fieldNames: ['UserName', 'LinkedEmployee'],
                maximumResult: 20,
                pageNumber: 1,
                SQLCriteria: `(UserStatus = 1) and ((UserName like '%${val}%') or (LinkedEmployee like '%${val}%'))`,
                sortList: ['UserName asc'],
            };

            var httpPromise = BackEndService.GetDataListHttpPromise(request);

            return httpPromise.then(
                async function (response) {
                    return response.data.Data;
                },
                async function (response) { }
            );
        };

        service.DataSingle = async function (username) {
            let request = {
                modelName: 'XSystemUser',
                criteriaList: [{ PropertyName: 'UserName', Operator: '=', Value: username }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'SystemUserController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Activate = async function (data) {
            let request = {
                actionController: 'SystemUserController',
                actionName: 'Activate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.DeActivate = async function (data) {
            let request = {
                actionController: 'SystemUserController',
                actionName: 'DeActivate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.ResetPassword = async function (data) {
            let request = {
                actionController: 'SystemUserController',
                actionName: 'ResetPassword',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('WarehouseForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('Warehouse_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XWarehouse', 'Code asc, Name', 'asc', filterObject, 'Code, Name, SubAccount', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XWarehouse',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XWarehouse',
                fieldNames: ['Code', 'Name', 'SubAccount'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Status', Operator: '=', Value: 'true' }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown2 = async function (val) {
            var request = {
                modelName: 'XWarehouse',
                fieldNames: ['Code', 'Name', 'SubAccount'],
                maximumResult: 20,
                pageNumber: 1,
                SQLCriteria: `(Status = 1) and ((Code like '%${val}%') or (Name like '%${val}%'))`,
                sortList: ['Code asc'],
            };

            var httpPromise = BackEndService.GetDataListHttpPromise(request);

            return httpPromise.then(
                async function (response) {
                    return response.data.Data;
                },
                async function (response) { }
            );
        };

        service.Dropdown3 = async function () {
            let request = {
                modelName: 'XWarehouse',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Status', Operator: '=', Value: 'true' }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList_X(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XWarehouse',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'WarehouseController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Activate = async function (data) {
            let request = {
                actionController: 'WarehouseController',
                actionName: 'Activate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.DeActivate = async function (data) {
            let request = {
                actionController: 'WarehouseController',
                actionName: 'DeActivate',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
// ini file Service.js
'use strict';

angular.module('app.erpUtils').factory('AddressList2_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('AdvanceAgings_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XAdvanceAging', 'Personnel', 'asc', filterObject, 'Personnel', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XAdvanceAging',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Personnel asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XAdvanceAging',
                fieldNames: ['Personnel'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Personnel asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (personnel) {
            let request = {
                modelName: 'XAdvanceAging',
                criteriaList: [{ PropertyName: 'Personnel', Operator: '=', Value: personnel }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('AdvanceCategories_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XAdvanceCategory', 'InsertStamp', 'desc', filterObject, 'Code, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XAdvanceCategory',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XAdvanceCategory',
                fieldNames: ['Code', 'Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_ParentCategory = async function () {
            let request = {
                modelName: 'XAdvanceCategory',
                fieldNames: ['Code', 'Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [
                    { PropertyName: 'ParentCode', Operator: '=', Value: null }
                ],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XAdvanceCategory',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'AdvanceCategoryController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
// ini file Service.js
'use strict';

angular.module('app.erpUtils').factory('AdvanceReasonForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('AdvanceReasons_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('AdvanceReason', 'Code', 'asc', filterObject, 'Code, ReasonName', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'AdvanceReason',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'AdvanceReason',
                fieldNames: ['Code', 'ReasonName'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'AdvanceReason',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'AdvanceReasonController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('AdvanceRequestForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('AdvanceRequests_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('AdvanceRequest', 'Date', 'desc', filterObject, 'Request, Branch, ReasonType, PaidTo, Description, PaymentNr, SettlementNr', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'AdvanceRequest',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Date desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_ReasonTypes = async function () {
            let request = {
                modelName: 'AdvanceRequestReasonType',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (requestNumber) {
            let request = {
                modelName: 'AdvanceRequest',
                criteriaList: [{ PropertyName: 'Request', Operator: '=', Value: requestNumber }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'AdvanceRequestController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Void = async function (requestNumber) {
            let request = {
                actionController: 'AdvanceRequestController',
                actionName: 'Void',
                actionParam: { Request: requestNumber },
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('AdvanceSettlements_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XAdvanceSettlement', 'Date', 'desc', filterObject, 'SettlementNo, RequestNo, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XAdvanceSettlement',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Date desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XAdvanceSettlement',
                fieldNames: ['SettlementNo'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['SettlementNo desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_ReasonType = async function () {
            let request = {
                modelName: 'XReasonType',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (settlementNo) {
            let request = {
                modelName: 'XAdvanceSettlement',
                criteriaList: [{ PropertyName: 'SettlementNo', Operator: '=', Value: settlementNo }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'AdvanceSettlementController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Verify = async function (settlementNo) {
            let request = {
                actionController: 'AdvanceSettlementController',
                actionName: 'Verify',
                actionParam: { SettlementNo: settlementNo },
            };

            return await BackEndService.RequestAction(request);
        };

        service.Void = async function (settlementNo) {
            let request = {
                actionController: 'AdvanceSettlementController',
                actionName: 'Void',
                actionParam: { SettlementNo: settlementNo },
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('ApprovalWorkFlowForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('ApprovalWorkflows_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('ARListForReceiptSelection_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XARInvoice', 'Date', 'desc', filterObject, 'InvoiceNo, PONo, Reason', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XARInvoice',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Date desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XARInvoice',
                fieldNames: ['InvoiceNo'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['InvoiceNo desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_ReasonType = async function () {
            let request = {
                modelName: 'XReasonType',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_CollectDay = async function () {
            let request = {
                modelName: 'XCollectDay',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_CollectArea = async function () {
            let request = {
                modelName: 'XCollectArea',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (invoiceNo) {
            let request = {
                modelName: 'XARInvoice',
                criteriaList: [{ PropertyName: 'InvoiceNo', Operator: '=', Value: invoiceNo }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'ARInvoiceController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
// ini file Service.js
"use strict";

angular.module('app.erpUtils').factory('BankReconciliation_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XBankReconciliation', 'RecordedDate', 'desc', filterObject, 'PaymentNr, Payee, ChequeNr, Notes', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XBankReconciliation',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['RecordedDate desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XBankReconciliation',
                fieldNames: ['PaymentNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['PaymentNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (paymentNr) {
            let request = {
                modelName: 'XBankReconciliation',
                criteriaList: [{ PropertyName: 'PaymentNr', Operator: '=', Value: paymentNr }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.GetBeginningBalance = async function (bankAccountCode, year, period) {
            let request = {
                actionController: 'BankReconciliationController',
                actionName: 'GetBeginningBalance',
                actionParam: {
                    BankAccountCode: bankAccountCode,
                    Year: year,
                    Period: period
                },
            };

            let response = await BackEndService.RequestAction(request);

            return response.data;
        };

        service.UpdateReconciliationStatus = async function (data) {
            let request = {
                actionController: 'BankReconciliationController',
                actionName: 'UpdateReconciliationStatus',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'BankReconciliationController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('BankReconSummary_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XBankReconSummary', 'Year', 'desc', filterObject, 'CashAccount', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XBankReconSummary',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Year desc', 'Period desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XBankReconSummary',
                fieldNames: ['CashAccount', 'Year', 'Period'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Year desc', 'Period desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_BankAccount = async function () {
            let request = {
                modelName: 'XBankAccount',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (cashAccount, year, period) {
            let request = {
                modelName: 'XBankReconSummary',
                criteriaList: [
                    { PropertyName: 'CashAccount', Operator: '=', Value: cashAccount },
                    { PropertyName: 'Year', Operator: '=', Value: year },
                    { PropertyName: 'Period', Operator: '=', Value: period }
                ],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('BrowseAdvanceReason_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XAdvanceReason', 'InsertStamp', 'desc', filterObject, 'Code, Name', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XAdvanceReason',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XAdvanceReason',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XAdvanceReason',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'AdvanceReasonController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('BudgetPlans_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XBudgetPlan', 'BudgetID', 'desc', filterObject, 'BudgetID, Branch, Type, Year, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XBudgetPlan',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['BudgetID desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XBudgetPlan',
                fieldNames: ['BudgetID'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['BudgetID desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XBudgetPlan',
                criteriaList: [{ PropertyName: 'BudgetID', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'BudgetPlanController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('CashAccountProfile_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('CashAccounts_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('CashAccount', 'Code', 'asc', filterObject, 'Code, ShortName, Name', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'CashAccount',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'CashAccount',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'CashAccount',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'CashAccountController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('CashPositions_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XCashPositions', 'InsertStamp', 'desc', filterObject, 'Code, ShortName, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XCashPositions',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XCashPositions',
                fieldNames: ['Code'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XCashPositions',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'CashPositionsController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('CashReconSummary_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XCashReconSummary', 'InsertStamp', 'desc', filterObject, 'CashAccount', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XCashReconSummary',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['CashAccount desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XCashReconSummary',
                fieldNames: ['CashAccount'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['CashAccount desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XCashReconSummary',
                criteriaList: [{ PropertyName: 'CashAccount', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'CashReconSummaryController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('CashTransactions_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('CashTransaction', 'Date', 'desc', filterObject, 'Payment, Type, Description, BR', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'CashTransaction',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Date desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_CashAccounts = async function () {
            let request = {
                modelName: 'CashAccount',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_TransactionTypes = async function () {
            let request = {
                modelName: 'TransactionType',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (payment) {
            let request = {
                modelName: 'CashTransaction',
                criteriaList: [{ PropertyName: 'Payment', Operator: '=', Value: payment }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'CashTransactionController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Delete = async function (payment) {
            let request = {
                actionController: 'CashTransactionController',
                actionName: 'Delete',
                actionParam: { Payment: payment },
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('ChargeCategories_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XChargeCategory', 'Code', 'asc', filterObject, 'Code, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XChargeCategory',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XChargeCategory',
                fieldNames: ['Code', 'Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_ParentCategory = async function () {
            let request = {
                modelName: 'XChargeCategory',
                fieldNames: ['Code', 'Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [
                    { PropertyName: 'ParentCode', Operator: 'is', Value: null }
                ],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XChargeCategory',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'ChargeCategoryController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('ChartOfAccountProfile_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('ChartOfAccounts_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XFinGLAccount', 'AccountLevel, Description', 'asc', filterObject, 'Code, Description, AccountType, ParentAccount', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XFinGLAccount',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XFinGLAccount',
                fieldNames: ['Code', 'Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XFinGLAccount',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Dropdown_AccountType = async function () {
            // let request = {
            //     modelName: 'XAccountType',
            //     fieldNames: ['Code', 'Name'],
            //     maximumResult: 100,
            //     pageNumber: 1,
            //     criteriaList: [],
            //     sortList: ['Name'],
            // };

            // let response = await BackEndService.RequestDataList(request);

            // return response.data.Data;
            return [];
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'ChartOfAccountController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('ChequePositions_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XChequePositions', 'InsertStamp', 'desc', filterObject, 'Customer, Branch, Sales', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XChequePositions',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Customer desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XChequePositions',
                fieldNames: ['Customer'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Customer desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XChequePositions',
                criteriaList: [{ PropertyName: 'Customer', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'ChequePositionsController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('ChequeTypes_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XChequeType', 'InsertStamp', 'desc', filterObject, 'Code, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XChequeType',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XChequeType',
                fieldNames: ['Code', 'Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XChequeType',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'ChequeTypeController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('ClearingOrders_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XClearingOrder', 'Date', 'desc', filterObject, 'CollectNr, Branch, Notes', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XClearingOrder',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Date desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XClearingOrder',
                fieldNames: ['CollectNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['CollectNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XClearingOrder',
                criteriaList: [{ PropertyName: 'CollectNr', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'ClearingOrderController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('ClearingRecon_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XClearingRecon', 'CollectDate', 'desc', filterObject, 'DocNr, Customer, ReffNr', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XClearingRecon',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['CollectDate desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XClearingRecon',
                fieldNames: ['DocNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['DocNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_CollectType = async function () {
            let request = {
                modelName: 'XCollectType',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (docNr) {
            let request = {
                modelName: 'XClearingRecon',
                criteriaList: [{ PropertyName: 'DocNr', Operator: '=', Value: docNr }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'ClearingReconController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Verify = async function (docNr) {
            let request = {
                actionController: 'ClearingReconController',
                actionName: 'Verify',
                actionParam: { DocNr: docNr },
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('ClearingRequests_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XClearingRequests', 'InsertStamp', 'desc', filterObject, 'DocNr, ChequeNr, ContactPerson, ContactNr', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XClearingRequests',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['DocNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XClearingRequests',
                fieldNames: ['DocNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['DocNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XClearingRequests',
                criteriaList: [{ PropertyName: 'DocNr', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'ClearingRequestsController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('CollectDashboard_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XCollectDashboard', 'InsertStamp', 'desc', filterObject, 'Customer, Branch, Sales', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XCollectDashboard',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Customer desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XCollectDashboard',
                fieldNames: ['Customer'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Customer desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XCollectDashboard',
                criteriaList: [{ PropertyName: 'Customer', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'CollectDashboardController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('CollectInvoices_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XCollectInvoice', 'InsertStamp', 'desc', filterObject, 'DocNr, ReffNr, LastStatus, LastNotes, AssignedTo', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XCollectInvoice',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['DocNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XCollectInvoice',
                fieldNames: ['DocNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['DocNr asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_DueDateAge = async function () {
            let request = {
                modelName: 'XDueDateAge',
                fieldNames: ['Code', 'Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (docNr) {
            let request = {
                modelName: 'XCollectInvoice',
                criteriaList: [{ PropertyName: 'DocNr', Operator: '=', Value: docNr }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'CollectInvoiceController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('CollectOrderSelection_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XCollectOrder', 'Date', 'desc', filterObject, 'CollectNr, Notes', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XCollectOrder',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Date desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XCollectOrder',
                fieldNames: ['CollectNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['CollectNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (collectNr) {
            let request = {
                modelName: 'XCollectOrder',
                criteriaList: [{ PropertyName: 'CollectNr', Operator: '=', Value: collectNr }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'CollectOrderController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('CollectOrders_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XCollectOrder', 'Date', 'desc', filterObject, 'CollectNr, Branch, Notes', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XCollectOrder',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Date desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XCollectOrder',
                fieldNames: ['CollectNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['CollectNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XCollectOrder',
                criteriaList: [{ PropertyName: 'CollectNr', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'CollectOrderController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('CollectReconciliation_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XCollectReconciliation', 'InsertStamp', 'desc', filterObject, 'DocNr, Type, Customer, ReffNr', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XCollectReconciliation',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['DocNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XCollectReconciliation',
                fieldNames: ['DocNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['DocNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_CollectType = async function () {
            let request = {
                modelName: 'CollectType',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (docNr) {
            let request = {
                modelName: 'XCollectReconciliation',
                criteriaList: [{ PropertyName: 'DocNr', Operator: '=', Value: docNr }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'CollectReconciliationController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('CollectRequestSelection_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XCollectRequestSelection', 'InsertStamp', 'desc', filterObject, 'DocNr, Type, Address, ReffNr, Notes', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XCollectRequestSelection',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['DocNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XCollectRequestSelection',
                fieldNames: ['DocNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['DocNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_DocType = async function () {
            let request = {
                modelName: 'DocType',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (docNr) {
            let request = {
                modelName: 'XCollectRequestSelection',
                criteriaList: [{ PropertyName: 'DocNr', Operator: '=', Value: docNr }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'CollectRequestSelectionController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('CollectRequests_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XCollectRequest', 'CollectDate', 'desc', filterObject, 'DocNr, ChequeNr, Address, Area', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XCollectRequest',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['CollectDate desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XCollectRequest',
                fieldNames: ['DocNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['DocNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_CollectType = async function () {
            let request = {
                modelName: 'XCollectType',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Age = async function () {
            let request = {
                modelName: 'XAgeCategory',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (docNr) {
            let request = {
                modelName: 'XCollectRequest',
                criteriaList: [{ PropertyName: 'DocNr', Operator: '=', Value: docNr }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'CollectRequestController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('ContactList_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('CreditNotes_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XCreditNote', 'InsertStamp', 'desc', filterObject, 'Invoice, PO, Vendor', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XCreditNote',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Invoice desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XCreditNote',
                fieldNames: ['Invoice'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Invoice desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XCreditNote',
                criteriaList: [{ PropertyName: 'Invoice', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'CreditNoteController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('Currencies_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XCurrency', 'InsertStamp', 'desc', filterObject, 'Code', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XCurrency',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XCurrency',
                fieldNames: ['Code'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XCurrency',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'CurrencyController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('CurrencyProfile_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('CurrencyRates_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XCurrencyRate', 'InsertStamp', 'desc', filterObject, 'Date', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XCurrencyRate',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Date desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XCurrencyRate',
                fieldNames: ['Date'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Date desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (date) {
            let request = {
                modelName: 'XCurrencyRate',
                criteriaList: [{ PropertyName: 'Date', Operator: '=', Value: date }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'CurrencyRateController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('CustomerCategories_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('CustomerCategory', 'Code', 'asc', filterObject, 'Code, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'CustomerCategory',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'CustomerCategory',
                fieldNames: ['Code', 'Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'CustomerCategory',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'CustomerCategoryController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('CustomerCategoryForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('CustomerReceipts_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XCustomerReceipt', 'InsertStamp', 'desc', filterObject, 'Code, Description, ChequeNumber, CustomerName', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XCustomerReceipt',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XCustomerReceipt',
                fieldNames: ['Code'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XCustomerReceipt',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'CustomerReceiptController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('CustomerSelection_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XBusinessRelation', 'Code', 'asc', filterObject, 'Code, Name, Category, Title, Group, BusinessLine, Status', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XBusinessRelation',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XBusinessRelation',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XBusinessRelation',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'BusinessRelationController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('DailyReconciliation_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('DailyReconciliation', 'RecordedDate', 'desc', filterObject, 'PaymentNr, Payee, ChequeNr, Notes', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'DailyReconciliation',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['RecordedDate desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_BankAccounts = async function () {
            let request = {
                modelName: 'BankAccount',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.GetBalances = async function (bankAccountCode, clearDate) {
            let request = {
                actionController: 'DailyReconciliationController',
                actionName: 'GetBalances',
                actionParam: {
                    BankAccountCode: bankAccountCode,
                    ClearDate: clearDate
                },
            };

            let response = await BackEndService.RequestAction(request);

            return response.data;
        };

        service.DataSingle = async function (paymentNr) {
            let request = {
                modelName: 'DailyReconciliation',
                criteriaList: [{ PropertyName: 'PaymentNr', Operator: '=', Value: paymentNr }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('DailyReconSummary_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XDailyReconSummary', 'Date', 'desc', filterObject, 'CashAccount', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XDailyReconSummary',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Date desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XDailyReconSummary',
                fieldNames: ['CashAccount', 'Date'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Date desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_BankAccount = async function () {
            let request = {
                modelName: 'XBankAccount',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (cashAccount, date) {
            let request = {
                modelName: 'XDailyReconSummary',
                criteriaList: [
                    { PropertyName: 'CashAccount', Operator: '=', Value: cashAccount },
                    { PropertyName: 'Date', Operator: '=', Value: date }
                ],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('DebitNotes_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XDebitNote', 'InsertStamp', 'desc', filterObject, 'DebitNoteNr, PONr, Customer', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XDebitNote',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['DebitNoteNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XDebitNote',
                fieldNames: ['DebitNoteNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['DebitNoteNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XDebitNote',
                criteriaList: [{ PropertyName: 'DebitNoteNr', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'DebitNoteController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('DefaultCharges_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XDefaultCharges', 'InsertStamp', 'desc', filterObject, 'Code, ChargeName', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XDefaultCharges',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XDefaultCharges',
                fieldNames: ['Code', 'ChargeName'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XDefaultCharges',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'DefaultChargesController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('DeferredRevenues_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XDeferredRevenue', 'Date', 'desc', filterObject, 'InvoiceNr, Branch, Date, Reason, PONo, Customer, DeferredAmount', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XDeferredRevenue',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Date desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XDeferredRevenue',
                fieldNames: ['InvoiceNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['InvoiceNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Year = async function () {
            let request = {
                modelName: 'XYear',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Period = async function () {
            let request = {
                modelName: 'XPeriod',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_ReasonType = async function () {
            let request = {
                modelName: 'XReasonType',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (invoiceNr) {
            let request = {
                modelName: 'XDeferredRevenue',
                criteriaList: [{ PropertyName: 'InvoiceNr', Operator: '=', Value: invoiceNr }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'DeferredRevenueController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('DepositTypes_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XDepositType', 'InsertStamp', 'desc', filterObject, 'Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XDepositType',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Description desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XDepositType',
                fieldNames: ['Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Description desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (description) {
            let request = {
                modelName: 'XDepositType',
                criteriaList: [{ PropertyName: 'Description', Operator: '=', Value: description }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'DepositTypeController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('DiscountForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('DiscountsFin_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('Discount', 'Code', 'asc', filterObject, 'Code, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'Discount',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'Discount',
                fieldNames: ['Code', 'Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'Discount',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'DiscountController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('DisposalMethodsFin_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('DisposalMethod', 'Code', 'asc', filterObject, 'Code, Module, Name', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'DisposalMethod',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'DisposalMethod',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'DisposalMethod',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'DisposalMethodController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('DisposalProfile_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('DownPaymentForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('DownPayments_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XDownPayment', 'InsertStamp', 'desc', filterObject, 'DepositNo, Branch, Reason, PONo, Customer', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XDownPayment',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['DepositNo desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XDownPayment',
                fieldNames: ['DepositNo'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['DepositNo desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Currency = async function () {
            let request = {
                modelName: 'Currency',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_ReasonType = async function () {
            let request = {
                modelName: 'ReasonType',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (depositNo) {
            let request = {
                modelName: 'XDownPayment',
                criteriaList: [{ PropertyName: 'DepositNo', Operator: '=', Value: depositNo }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'DownPaymentController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('ExpenseForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('FinancialPeriods_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XFinancialPeriod', 'InsertStamp', 'desc', filterObject, 'Code', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XFinancialPeriod',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XFinancialPeriod',
                fieldNames: ['Code'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XFinancialPeriod',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'FinancialPeriodController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('FinancialReports_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XFinancialReport', 'InsertStamp', 'desc', filterObject, 'Code, ShortName, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XFinancialReport',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XFinancialReport',
                fieldNames: ['Code', 'ShortName'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XFinancialReport',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'FinancialReportController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('FinancialYearForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('FollowUpRequests_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XFollowUpRequests', 'InsertStamp', 'desc', filterObject, 'DocNr, ChequeNr, ContactPerson, ContactNr', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XFollowUpRequests',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['DocNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XFollowUpRequests',
                fieldNames: ['DocNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['DocNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XFollowUpRequests',
                criteriaList: [{ PropertyName: 'DocNr', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'FollowUpRequestsController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('FReportSettingProfile_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('FReportSettings_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XFReportSetting', 'Code', 'asc', filterObject, 'Code, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XFReportSetting',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XFReportSetting',
                fieldNames: ['Code', 'Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XFReportSetting',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'FReportSettingController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('GeneralLedger_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XGeneralLedger', 'InsertStamp', 'desc', filterObject, 'JournalNr, Description, ReffNr', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XGeneralLedger',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Date desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XGeneralLedger',
                fieldNames: ['JournalNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['JournalNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Company = async function () {
            let request = {
                modelName: 'XCompany',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Account = async function () {
            let request = {
                modelName: 'XAccount',
                fieldNames: ['Code', 'Name'],
                maximumResult: 1000,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_SubAccount = async function () {
            let request = {
                modelName: 'XSubAccount',
                fieldNames: ['Code', 'Name', 'AccountCode'],
                maximumResult: 1000,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (journalNr) {
            let request = {
                modelName: 'XGeneralLedger',
                criteriaList: [{ PropertyName: 'JournalNr', Operator: '=', Value: journalNr }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'GeneralLedgerController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('GLJournals_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XGLJournal', 'InsertStamp', 'desc', filterObject, 'JournalNr, Subject, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XGLJournal',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['JournalNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XGLJournal',
                fieldNames: ['JournalNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['JournalNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_ProjectNr = async function () {
            let request = {
                modelName: 'XProject',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Currency = async function () {
            let request = {
                modelName: 'XCurrency',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (journalNr) {
            let request = {
                modelName: 'XGLJournal',
                criteriaList: [{ PropertyName: 'JournalNr', Operator: '=', Value: journalNr }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'GLJournalController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('GroupForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('Groups_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('Group', 'Code', 'asc', filterObject, 'Code, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'Group',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'Group',
                fieldNames: ['Code', 'Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'Group',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'GroupController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('IBSchemas_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('IBSchema', 'Code', 'asc', filterObject, 'Code, ShortName, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'IBSchema',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'IBSchema',
                fieldNames: ['Code', 'ShortName', 'Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'IBSchema',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'IBSchemaController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('InvoiceList_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XInvoiceList', 'InsertStamp', 'desc', filterObject, 'InvoiceNo, Branch, Reason, PONo, ReceiptNr', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XInvoiceList',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['InvoiceNo desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XInvoiceList',
                fieldNames: ['InvoiceNo'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['InvoiceNo desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Currency = async function () {
            let request = {
                modelName: 'Currency',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_ReasonType = async function () {
            let request = {
                modelName: 'ReasonType',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (invoiceNo) {
            let request = {
                modelName: 'XInvoiceList',
                criteriaList: [{ PropertyName: 'InvoiceNo', Operator: '=', Value: invoiceNo }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'InvoiceListController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('InvoiceReceiptItemList_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XInvoiceReceiptItem', 'Date', 'desc', filterObject, 'DocNr, Date, Amount, DueDate, PONr, Comments', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XInvoiceReceiptItem',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Date desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XInvoiceReceiptItem',
                fieldNames: ['DocNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['DocNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (docNr) {
            let request = {
                modelName: 'XInvoiceReceiptItem',
                criteriaList: [{ PropertyName: 'DocNr', Operator: '=', Value: docNr }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'InvoiceReceiptItemController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('InvoiceReqRecon_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XInvoiceReqRecon', 'InsertStamp', 'desc', filterObject, 'DocType, DocNr, PONr, ContractNr, DocReferenceNr, Branch, Requested, RequestedBy, Status, InvoiceNr', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XInvoiceReqRecon',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['DocNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XInvoiceReqRecon',
                fieldNames: ['DocNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['DocNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (docNr) {
            let request = {
                modelName: 'XInvoiceReqRecon',
                criteriaList: [{ PropertyName: 'DocNr', Operator: '=', Value: docNr }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'InvoiceReqReconController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('InvoiceRequestsSelection_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XInvoiceRequest', 'Date', 'desc', filterObject, 'DocType, DocNr, Date, PONr, ContractNr, DocReferenceNr, Branch, RequestedBy, Notes', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XInvoiceRequest',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Date desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XInvoiceRequest',
                fieldNames: ['DocNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['DocNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_ReasonType = async function () {
            let request = {
                modelName: 'XReasonType',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (docNr) {
            let request = {
                modelName: 'XInvoiceRequest',
                criteriaList: [{ PropertyName: 'DocNr', Operator: '=', Value: docNr }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'InvoiceRequestController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('InvoiceRequests_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XInvoiceRequest', 'InsertStamp', 'desc', filterObject, 'DocNr, PONr, ContractNr, DocReferenceNr', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XInvoiceRequest',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['DocNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XInvoiceRequest',
                fieldNames: ['DocNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['DocNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XInvoiceRequest',
                criteriaList: [{ PropertyName: 'DocNr', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'InvoiceRequestController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('IssuedCheques_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XIssuedCheque', 'InsertStamp', 'desc', filterObject, 'Payments, Cheque, Type, Branch, CashAccount, IssuedBy, Status', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XIssuedCheque',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Payments desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XIssuedCheque',
                fieldNames: ['Payments'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Payments desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_CashAccount = async function () {
            let request = {
                modelName: 'CashAccount',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Type = async function () {
            let request = {
                modelName: 'ChequeType',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (payments) {
            let request = {
                modelName: 'XIssuedCheque',
                criteriaList: [{ PropertyName: 'Payments', Operator: '=', Value: payments }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'IssuedChequeController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('ItemChargeProfile_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('ItemCharges_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('ItemCharge', 'Code', 'asc', filterObject, 'Code, ChargeName', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'ItemCharge',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'ItemCharge',
                fieldNames: ['Code', 'ChargeName'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'ItemCharge',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'ItemChargeController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('LedgerPerAccount_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XLedgerAccount', 'Code', 'asc', filterObject, 'Code, Description, Type, Currency', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XLedgerAccount',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XLedgerAccount',
                fieldNames: ['Code', 'Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Year = async function () {
            let request = {
                modelName: 'XYear',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Period = async function () {
            let request = {
                modelName: 'XPeriod',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Company = async function () {
            let request = {
                modelName: 'XCompany',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Division = async function () {
            let request = {
                modelName: 'XDivision',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Department = async function () {
            let request = {
                modelName: 'XDepartment',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XLedgerAccount',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'LedgerAccountController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('MutationForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('Mutations_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('Mutation', 'Date', 'desc', filterObject, 'MutationNr, CashAccount, Branch, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'Mutation',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Date desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'Mutation',
                fieldNames: ['MutationNr', 'CashAccount', 'Date'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Date desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (mutationNr) {
            let request = {
                modelName: 'Mutation',
                criteriaList: [{ PropertyName: 'MutationNr', Operator: '=', Value: mutationNr }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'MutationController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('OnIssueClearings_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XOnIssueClearings', 'InsertStamp', 'desc', filterObject, 'DocNr, ChequeNr, ContactPerson, ContactNr', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XOnIssueClearings',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['DocNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XOnIssueClearings',
                fieldNames: ['DocNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['DocNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XOnIssueClearings',
                criteriaList: [{ PropertyName: 'DocNr', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'OnIssueClearingsController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('OrderVerification_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XOrderVerification', 'DocumentNr', 'asc', filterObject, 'CollectType, DocumentNr, ChequeNr, ChequeDueDate, Amount', pageLength, afterRequestData, searchKeyword);
        };

        service.TableAdditional = function (scope) {
            let filterObject = {};
            let pageLength = scope.dtAdditional.pageLength;
            let afterRequestData = scope.afterRequestDataAdditional;
            let searchKeyword = scope.dtAdditional.searchKeyword;

            return DTService.GenerateDTInstance('XOrderVerificationTask', 'Description', 'asc', filterObject, 'Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XOrderVerification',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['DocumentNr asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.ListAdditionalTasks = async function () {
            let request = {
                modelName: 'XOrderVerificationTask',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Description asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XOrderVerification',
                fieldNames: ['DocumentNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['DocumentNr asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (documentNr) {
            let request = {
                modelName: 'XOrderVerification',
                criteriaList: [{ PropertyName: 'DocumentNr', Operator: '=', Value: documentNr }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'OrderVerificationController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.VerifyDocument = async function (data) {
            let request = {
                actionController: 'OrderVerificationController',
                actionName: 'VerifyDocument',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.FailCollect = async function (data) {
            let request = {
                actionController: 'OrderVerificationController',
                actionName: 'FailCollect',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.CloseCollectOrder = async function (data) {
            let request = {
                actionController: 'OrderVerificationController',
                actionName: 'CloseCollectOrder',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.VerifyAdditionalTask = async function (data) {
            let request = {
                actionController: 'OrderVerificationController',
                actionName: 'VerifyAdditionalTask',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('PaidDeposits_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XPaidDeposit', 'InsertStamp', 'desc', filterObject, 'DepositNr, PONr, Vendor', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XPaidDeposit',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['DepositNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XPaidDeposit',
                fieldNames: ['DepositNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['DepositNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XPaidDeposit',
                criteriaList: [{ PropertyName: 'DepositNr', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'PaidDepositController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('PayableAgings_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XPayableAgings', 'InsertStamp', 'desc', filterObject, 'Supplier', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XPayableAgings',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Supplier desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XPayableAgings',
                fieldNames: ['Supplier'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Supplier desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XPayableAgings',
                criteriaList: [{ PropertyName: 'Supplier', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'PayableAgingsController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('PayableInvoices_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XPayableInvoice', 'InsertStamp', 'desc', filterObject, 'InvoiceNr, PONr, Vendor', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XPayableInvoice',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['InvoiceNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XPayableInvoice',
                fieldNames: ['InvoiceNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['InvoiceNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XPayableInvoice',
                criteriaList: [{ PropertyName: 'InvoiceNr', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'PayableInvoiceController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('PayableListByAge_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XPayableListByAge', 'InsertStamp', 'desc', filterObject, 'Invoice, Branch, Reason', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XPayableListByAge',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Invoice desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XPayableListByAge',
                fieldNames: ['Invoice'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Invoice desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_ReasonType = async function () {
            let request = {
                modelName: 'ReasonType',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Currency = async function () {
            let request = {
                modelName: 'Currency',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_HoldReason = async function () {
            let request = {
                modelName: 'HoldReason',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (invoice) {
            let request = {
                modelName: 'XPayableListByAge',
                criteriaList: [{ PropertyName: 'Invoice', Operator: '=', Value: invoice }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'PayableListByAgeController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('PayableReceipts_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XPayableReceipt', 'InsertStamp', 'desc', filterObject, 'ReceiptNr, Vendor, SubmittedBy, IssuedBy', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XPayableReceipt',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ReceiptNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XPayableReceipt',
                fieldNames: ['ReceiptNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ReceiptNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XPayableReceipt',
                criteriaList: [{ PropertyName: 'ReceiptNr', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'PayableReceiptController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('PaymentMethods_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XFinPaymentMethod', 'Description', 'asc', filterObject, 'Code, Description, Active', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XFinPaymentMethod',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XFinPaymentMethod',
                fieldNames: ['Code', 'Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XFinPaymentMethod',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'PaymentMethodController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('PaymentRequests_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XPaymentRequest', 'InsertStamp', 'desc', filterObject, 'PlanNr, Notes', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XPaymentRequest',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['PlanNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XPaymentRequest',
                fieldNames: ['PlanNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['PlanNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (planNr) {
            let request = {
                modelName: 'XPaymentRequest',
                criteriaList: [{ PropertyName: 'PlanNr', Operator: '=', Value: planNr }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'PaymentRequestController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('PaymentRequestVerification_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XPaymentRequest', 'Request', 'asc', filterObject, 'Request, ReasonType, Description, Amount, RequiredDate, PayFrom, PaymentMethod, Notes', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XPaymentRequest',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Request asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XPaymentRequest',
                fieldNames: ['Request'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Request asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (request) {
            let requestObj = {
                modelName: 'XPaymentRequest',
                criteriaList: [{ PropertyName: 'Request', Operator: '=', Value: request }],
            };

            return await BackEndService.RequestDataSingle(requestObj);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'PaymentRequestController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.VerifyAdvanceRequest = async function (data) {
            let request = {
                actionController: 'PaymentRequestController',
                actionName: 'VerifyAdvanceRequest',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('PaymentTerms_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XSmPaymentTerm', 'Code', 'asc', filterObject, 'Code, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XSmPaymentTerm',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XSmPaymentTerm',
                fieldNames: ['Code', 'Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XSmPaymentTerm',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'PaymentTermController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('PCashReconciliation_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('PCashReconciliation', 'RecordedDate', 'desc', filterObject, 'PaymentNr, Payee, ChequeNr, Notes', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'PCashReconciliation',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['RecordedDate desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_CashAccounts = async function () {
            let request = {
                modelName: 'CashAccount',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Years = async function () {
            // Generate years from current year - 5 to current year + 1
            let currentYear = new Date().getFullYear();
            let years = [];
            for (let i = currentYear - 5; i <= currentYear + 1; i++) {
                years.push(i);
            }
            return years;
        };

        service.Dropdown_Periods = async function (year) {
            let request = {
                modelName: 'AccountingPeriod',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [
                    { PropertyName: 'Year', Operator: '=', Value: year }
                ],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.GetBalances = async function (cashAccountCode, year, period) {
            let request = {
                actionController: 'PCashReconciliationController',
                actionName: 'GetBalances',
                actionParam: {
                    CashAccountCode: cashAccountCode,
                    Year: year,
                    Period: period
                },
            };

            let response = await BackEndService.RequestAction(request);

            return response.data;
        };

        service.UpdateReconcileStatus = async function (paymentNr, reconciled) {
            let request = {
                actionController: 'PCashReconciliationController',
                actionName: 'UpdateReconcileStatus',
                actionParam: {
                    PaymentNr: paymentNr,
                    Reconciled: reconciled
                },
            };

            return await BackEndService.RequestAction(request);
        };

        service.DataSingle = async function (paymentNr) {
            let request = {
                modelName: 'PCashReconciliation',
                criteriaList: [{ PropertyName: 'PaymentNr', Operator: '=', Value: paymentNr }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('Penalties_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XPenalty', 'InsertStamp', 'desc', filterObject, 'Penalty, Branch, BR, ARCode', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XPenalty',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Penalty desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XPenalty',
                fieldNames: ['Penalty'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Penalty desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XPenalty',
                criteriaList: [{ PropertyName: 'Penalty', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'PenaltyController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('PendingReceiptStatusUpdate_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('PendingReceipts_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XPendingReceipt', 'Date', 'desc', filterObject, 'PaymentNr, ChequeNr, Customer', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XPendingReceipt',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Date desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XPendingReceipt',
                fieldNames: ['PaymentNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['PaymentNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (paymentNr) {
            let request = {
                modelName: 'XPendingReceipt',
                criteriaList: [{ PropertyName: 'PaymentNr', Operator: '=', Value: paymentNr }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'PendingReceiptController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('PeriodClosing_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XPeriodClosing', 'Year', 'desc', filterObject, 'Year, Period, Branch', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XPeriodClosing',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Year desc', 'Period desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XPeriodClosing',
                fieldNames: ['Year', 'Period'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Year desc', 'Period desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (year, period, branch) {
            let request = {
                modelName: 'XPeriodClosing',
                criteriaList: [
                    { PropertyName: 'Year', Operator: '=', Value: year },
                    { PropertyName: 'Period', Operator: '=', Value: period },
                    { PropertyName: 'Branch', Operator: '=', Value: branch }
                ],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'PeriodClosingController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('PersonnelsFin_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XPersonnel', 'No', 'asc', filterObject, 'No, Personnel', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XPersonnel',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['No'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XPersonnel',
                fieldNames: ['No', 'Personnel'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['No'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (no) {
            let request = {
                modelName: 'XPersonnel',
                criteriaList: [{ PropertyName: 'No', Operator: '=', Value: no }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data) {
            let request = {
                actionController: 'PersonnelController',
                actionName: 'SavePersonnels',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('PickedClearingRequest_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('PickedClearingRequest', 'DocNr', 'desc', filterObject, 'DocNr, Type, Address, Area', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'PickedClearingRequest',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['DocNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'PickedClearingRequest',
                fieldNames: ['DocNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['DocNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_DocType = async function () {
            let request = {
                modelName: 'ClearingDocType',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (docNr) {
            let request = {
                modelName: 'PickedClearingRequest',
                criteriaList: [{ PropertyName: 'DocNr', Operator: '=', Value: docNr }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'PickedClearingRequestController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('PickedCollectRequest_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XPickedCollectRequest', 'InsertStamp', 'desc', filterObject, 'DocNr, Type, Address, Area', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XPickedCollectRequest',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['DocNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XPickedCollectRequest',
                fieldNames: ['DocNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['DocNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_DocType = async function () {
            let request = {
                modelName: 'XDocType',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XPickedCollectRequest',
                criteriaList: [{ PropertyName: 'DocNr', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'PickedCollectRequestController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('PurchaseInvoiceSelection_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XPurchaseInvoice', 'Invoice', 'desc', filterObject, 'Invoice, Branch, Reason, PO, Vendor', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XPurchaseInvoice',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Invoice desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XPurchaseInvoice',
                fieldNames: ['Invoice'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Invoice desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Currency = async function () {
            let request = {
                modelName: 'Currency',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: true }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_ReasonType = async function () {
            let request = {
                modelName: 'PurchaseInvoiceReasonType',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Age = async function () {
            let request = {
                modelName: 'AgeRange',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (invoice) {
            let request = {
                modelName: 'XPurchaseInvoice',
                criteriaList: [{ PropertyName: 'Invoice', Operator: '=', Value: invoice }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'PurchaseInvoiceController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('PurchasePriceSelection_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XPurchasePrice', 'InsertStamp', 'desc', filterObject, 'Item, Category, Brand, Profile, Name, Supplier', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XPurchasePrice',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Item desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XPurchasePrice',
                fieldNames: ['Item'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Item desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Brand = async function () {
            let request = {
                modelName: 'XBrand',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Category = async function () {
            let request = {
                modelName: 'XCategory',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Currency = async function () {
            let request = {
                modelName: 'XCurrency',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XPurchasePrice',
                criteriaList: [{ PropertyName: 'Item', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'PurchasePriceController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('RateTypeProfile_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('RateTypes_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XRateType', 'InsertStamp', 'desc', filterObject, 'Code', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XRateType',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XRateType',
                fieldNames: ['Code'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XRateType',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'RateTypeController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('ReceivableAgings_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XReceivableAging', 'Customer', 'asc', filterObject, 'Customer', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XReceivableAging',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Customer asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XReceivableAging',
                fieldNames: ['Customer'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Customer asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (customer) {
            let request = {
                modelName: 'XReceivableAging',
                criteriaList: [{ PropertyName: 'Customer', Operator: '=', Value: customer }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('ReceivableListByAge_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XReceivableListByAge', 'Code', 'asc', filterObject, 'Code, ShortName, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XReceivableListByAge',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XReceivableListByAge',
                fieldNames: ['Code', 'ShortName'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XReceivableListByAge',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'ReceivableListByAgeController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('ReceivableReceipt_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XReceivableReceipt', 'InsertStamp', 'desc', filterObject, 'Code, CustomerName, ReceivedByName, IssuedByName, CollectOrderCode', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XReceivableReceipt',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XReceivableReceipt',
                fieldNames: ['Code'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XReceivableReceipt',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'ReceivableReceiptController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('ReceivedDeposits_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XReceivedDeposit', 'InsertStamp', 'desc', filterObject, 'DepositNr, PONr, Customer', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XReceivedDeposit',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['DepositNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XReceivedDeposit',
                fieldNames: ['DepositNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['DepositNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XReceivedDeposit',
                criteriaList: [{ PropertyName: 'DepositNr', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'ReceivedDepositController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('ReceivedItemList_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XReceivedItem', 'Receipt', 'desc', filterObject, 'Receipt, Branch, Warehouse, Supplier, Consignee, DO, Notes', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XReceivedItem',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Receipt desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XReceivedItem',
                fieldNames: ['Receipt'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Receipt desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_SourceType = async function () {
            let request = {
                modelName: 'ReceiptSourceType',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (receipt) {
            let request = {
                modelName: 'XReceivedItem',
                criteriaList: [{ PropertyName: 'Receipt', Operator: '=', Value: receipt }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'ReceivedItemController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('ReportSettings_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XReportSetting', 'InsertStamp', 'desc', filterObject, 'Code', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XReportSetting',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XReportSetting',
                fieldNames: ['Code'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XReportSetting',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'ReportSettingController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('SalesInvoices_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XSalesInvoice', 'InsertStamp', 'desc', filterObject, 'InvoiceNr, PONr, Customer', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XSalesInvoice',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['InvoiceNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XSalesInvoice',
                fieldNames: ['InvoiceNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['InvoiceNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XSalesInvoice',
                criteriaList: [{ PropertyName: 'InvoiceNr', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'SalesInvoiceController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('SettlementVerification_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XSettlementVerification', 'InsertStamp', 'desc', filterObject, 'SettlementNo, RequestNo, ReasonType, RequestedBy, Description, PayFrom, PaymentMethod', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XSettlementVerification',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['SettlementNo desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XSettlementVerification',
                fieldNames: ['SettlementNo'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['SettlementNo desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XSettlementVerification',
                criteriaList: [{ PropertyName: 'SettlementNo', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'SettlementVerificationController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('SubAccountProfile_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('SubAccounts_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XSubAccount', 'InsertStamp', 'desc', filterObject, 'Code, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XSubAccount',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_AccountType = async function () {
            let request = {
                modelName: 'AccountType',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XSubAccount',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'SubAccountController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('SupplierCategories_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('SupplierCategory', 'Code', 'asc', filterObject, 'Code, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'SupplierCategory',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'SupplierCategory',
                fieldNames: ['Code', 'Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'SupplierCategory',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'SupplierCategoryController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('SupplierCategoryForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('Suppliers_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('SurveyRequests_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XSurveyRequest', 'Name', 'asc', filterObject, 'Name, Category, BusinessLine, RequestedBy', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XSurveyRequest',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Name asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XSurveyRequest',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Name asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Category = async function () {
            let request = {
                modelName: 'XSurveyCategory',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_BusinessLine = async function () {
            let request = {
                modelName: 'XBusinessLine',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XSurveyRequest',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'SurveyRequestController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('TaxCategories_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XTaxCategory', 'InsertStamp', 'desc', filterObject, 'Code, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XTaxCategory',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XTaxCategory',
                fieldNames: ['Code', 'Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XTaxCategory',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'TaxCategoryController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('Taxes_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XTXTax', 'InsertStamp', 'desc', filterObject, 'Code', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XTXTax',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XTXTax',
                fieldNames: ['Code'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XTXTax',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'TaxController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('TaxInvoiceRecon_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XTaxInvoice', 'InsertStamp', 'desc', filterObject, 'InvoiceNumber, PONumber, Customer', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XTaxInvoice',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['InvoiceNumber desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XTaxInvoice',
                fieldNames: ['InvoiceNumber'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['InvoiceNumber desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (invoiceNumber) {
            let request = {
                modelName: 'XTaxInvoice',
                criteriaList: [{ PropertyName: 'InvoiceNumber', Operator: '=', Value: invoiceNumber }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'TaxInvoiceController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('TaxProfile_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('TaxZones_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XTaxZone', 'Code', 'asc', filterObject, 'Code, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XTaxZone',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XTaxZone',
                fieldNames: ['Code', 'Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XTaxZone',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'TaxZoneController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('TrialBalance_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XTrialBalance', 'Account', 'asc', filterObject, 'Account, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XTrialBalance',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Account asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XTrialBalance',
                fieldNames: ['Account'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Account asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XTrialBalance',
                criteriaList: [{ PropertyName: 'Account', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'TrialBalanceController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('VATBalanceMovement_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XVATBalanceMovement', 'Date', 'desc', filterObject, 'ItemCode, ItemName, VATNr, BRIssuer, BRSubject', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XVATBalanceMovement',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Date desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XVATBalanceMovement',
                fieldNames: ['ItemCode', 'ItemName'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ItemCode asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (itemCode, date) {
            let request = {
                modelName: 'XVATBalanceMovement',
                criteriaList: [
                    { PropertyName: 'ItemCode', Operator: '=', Value: itemCode },
                    { PropertyName: 'Date', Operator: '=', Value: date }
                ],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'VATBalanceMovementController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('VATBalances_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XVATBalance', 'InsertStamp', 'desc', filterObject, 'ItemCode, ItemName, Brand, Category, Uom', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XVATBalance',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ItemCode desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XVATBalance',
                fieldNames: ['ItemCode'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ItemCode desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Profile = async function () {
            let request = {
                modelName: 'XProfile',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Brand = async function () {
            let request = {
                modelName: 'XBrand',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Category = async function () {
            let request = {
                modelName: 'XCategory',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Year = async function () {
            let request = {
                modelName: 'XYear',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Period = async function () {
            let request = {
                modelName: 'XPeriod',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XVATBalance',
                criteriaList: [{ PropertyName: 'ItemCode', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'VATBalanceController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('VATBalance_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XVATBalance', 'InsertStamp', 'desc', filterObject, 'ItemCode, ItemName, Brand, Category', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XVATBalance',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ItemCode desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XVATBalance',
                fieldNames: ['ItemCode'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ItemCode desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XVATBalance',
                criteriaList: [{ PropertyName: 'ItemCode', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'VATBalanceController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('VATNrRegistrations_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XVATNrRegistration', 'RegistrationNr', 'desc', filterObject, 'RegistrationNr, Branch, IssuedBy', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XVATNrRegistration',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['RegistrationNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XVATNrRegistration',
                fieldNames: ['RegistrationNr', 'Branch'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['RegistrationNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (registrationNr) {
            let request = {
                modelName: 'XVATNrRegistration',
                criteriaList: [{ PropertyName: 'RegistrationNr', Operator: '=', Value: registrationNr }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'VATNrRegistrationController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Dispose = async function (registrationNr) {
            let request = {
                actionController: 'VATNrRegistrationController',
                actionName: 'Dispose',
                actionParam: { RegistrationNr: registrationNr },
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('VATNumbers_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XVATNumber', 'Number', 'desc', filterObject, 'Number, Branch, Year, ARNr', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XVATNumber',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Number desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XVATNumber',
                fieldNames: ['Number'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Number desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (number) {
            let request = {
                modelName: 'XVATNumber',
                criteriaList: [{ PropertyName: 'Number', Operator: '=', Value: number }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'VATNumberController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('VATReconciliation_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XVATReconciliation', 'InsertStamp', 'desc', filterObject, 'InvoiceNr, BR, BRTaxID', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XVATReconciliation',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['InvoiceNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XVATReconciliation',
                fieldNames: ['InvoiceNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['InvoiceNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XVATReconciliation',
                criteriaList: [{ PropertyName: 'InvoiceNr', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'VATReconciliationController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('VendorPayments_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XVendorPayment', 'InsertStamp', 'desc', filterObject, 'PaymentNumber, ChequeNr, Vendor, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XVendorPayment',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['PaymentNumber desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XVendorPayment',
                fieldNames: ['PaymentNumber'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['PaymentNumber desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (paymentNumber) {
            let request = {
                modelName: 'XVendorPayment',
                criteriaList: [{ PropertyName: 'PaymentNumber', Operator: '=', Value: paymentNumber }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'VendorPaymentController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('WHReconciliation_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XWHReconciliation', 'InsertStamp', 'desc', filterObject, 'BRTaxID, BR, TaxNr, DocNr', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XWHReconciliation',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Year desc', 'Period desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XWHReconciliation',
                fieldNames: ['DocNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['DocNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XWHReconciliation',
                criteriaList: [{ PropertyName: 'DocNr', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'WHReconciliationController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('ApprovalWorkFlowForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('ApprovalWorkflows_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

// ini file Service.js
'use strict';

angular.module('app.erpUtils').factory('DiscountForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('InterbranchOrdersPur_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XInterbranchOrder', 'InsertStamp', 'desc', filterObject, 'PONumber, Supplier, Consignee, Notes', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XInterbranchOrder',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['PONumber desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XInterbranchOrder',
                fieldNames: ['PONumber'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['PONumber desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XInterbranchOrder',
                criteriaList: [{ PropertyName: 'PONumber', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'InterbranchOrderController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('NonPRDemand_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XNonPRDemand', 'InsertStamp', 'desc', filterObject, 'ItemCode, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XNonPRDemand',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ItemCode asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XNonPRDemand',
                fieldNames: ['ItemCode'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ItemCode asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (itemCode) {
            let request = {
                modelName: 'XNonPRDemand',
                criteriaList: [{ PropertyName: 'ItemCode', Operator: '=', Value: itemCode }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'NonPRDemandController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('OutstandingOrdersPur_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XOutstandingPurchaseOrder', 'InsertStamp', 'desc', filterObject, 'PONumber, Branch, Warehouse', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XOutstandingPurchaseOrder',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['PONumber desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XOutstandingPurchaseOrder',
                fieldNames: ['PONumber'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['PONumber desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XOutstandingPurchaseOrder',
                criteriaList: [{ PropertyName: 'PONumber', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('OutstandingRequests_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XOutstandingRequest', 'InsertStamp', 'desc', filterObject, 'PRNumber, ReffNumber', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XOutstandingRequest',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['PRNumber desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('PendingGoods_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XPendingGoods', 'InsertStamp', 'desc', filterObject, 'PONr', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XPendingGoods',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['PONr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Brand = async function () {
            let request = {
                modelName: 'Brand',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        return service;
    },
]);

// ini file Service.js
"use strict";

angular.module('app.erpUtils').factory('POItemSelection_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XPOItemSelection', 'InsertStamp', 'desc', filterObject, 'Branch, Warehouse, Supplier, PONr', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XPOItemSelection',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['PONr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XPOItemSelection',
                fieldNames: ['PONr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['PONr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Brand = async function () {
            let request = {
                modelName: 'XBrand',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XPOItemSelection',
                criteriaList: [{ PropertyName: 'PONr', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'POItemSelectionController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
// ini file Service.js
"use strict";

angular.module('app.erpUtils').factory('PReceiptItemSelection_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XPReceiptItemSelection', 'InsertStamp', 'desc', filterObject, 'Branch, Warehouse, Supplier, Description, ReceiptNr', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XPReceiptItemSelection',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Date desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XPReceiptItemSelection',
                fieldNames: ['ReceiptNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ReceiptNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_ReturnTo = async function () {
            let request = {
                modelName: 'XReturnTo',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_PickupFrom = async function () {
            let request = {
                modelName: 'XPickupFrom',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (receiptNr) {
            let request = {
                modelName: 'XPReceiptItemSelection',
                criteriaList: [{ PropertyName: 'ReceiptNr', Operator: '=', Value: receiptNr }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'PReceiptItemSelectionController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('PReturnVerification_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XPReturnVerification', 'InsertStamp', 'desc', filterObject, 'ItemCode, Description, ReceiptNr', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XPReturnVerification',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ItemCode desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XPReturnVerification',
                fieldNames: ['ItemCode'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ItemCode desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XPReturnVerification',
                criteriaList: [{ PropertyName: 'ItemCode', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'PReturnVerificationController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('PRPORecon_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XPRPORecon', 'InsertStamp', 'desc', filterObject, 'PONr, Branch, Warehouse, Supplier', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XPRPORecon',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['PONr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XPRPORecon',
                fieldNames: ['PONr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['PONr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XPRPORecon',
                criteriaList: [{ PropertyName: 'PONr', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Dropdown_Type = async function () {
            let request = {
                modelName: 'XPRPOReconType',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Name'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Brand = async function () {
            let request = {
                modelName: 'XBrand',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Name'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        return service;
    },
]);
// ini file Service.js
'use strict';

angular.module('app.erpUtils').factory('PurchaseContractForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('PurchaseContracts_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XPurchaseContract', 'InsertStamp', 'desc', filterObject, 'ContractNumber, Branch, Supplier, Subject', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XPurchaseContract',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ContractNumber desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XPurchaseContract',
                fieldNames: ['ContractNumber'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ContractNumber desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XPurchaseContract',
                criteriaList: [{ PropertyName: 'ContractNumber', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'PurchaseContractController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('PurchaseDiscounts_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XPurchaseDiscount', 'InsertStamp', 'desc', filterObject, 'CodeNumber, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XPurchaseDiscount',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['CodeNumber desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XPurchaseDiscount',
                criteriaList: [{ PropertyName: 'CodeNumber', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'PurchaseDiscountController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('PurchaseOrderForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('PurchaseOrders_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XPurchaseOrder', 'InsertStamp', 'desc', filterObject, 'PONumber, Notes', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XPurchaseOrder',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['PONumber desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XPurchaseOrder',
                criteriaList: [{ PropertyName: 'PONumber', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'PurchaseOrderController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('PurchasePrices_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XPurchasePrice', 'InsertStamp', 'desc', filterObject, 'ItemNumber, Name, Category, Brand, Profile', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XPurchasePrice',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ItemNumber'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XPurchasePrice',
                fieldNames: ['ItemNumber'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ItemNumber'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XPurchasePrice',
                criteriaList: [{ PropertyName: 'ItemNumber', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Dropdown_Brand = async function () {
            let request = {
                modelName: 'XBrand',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Name'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Category = async function () {
            let request = {
                modelName: 'XCategory',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Name'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Currency = async function () {
            let request = {
                modelName: 'XCurrency',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Name'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Save = async function (data) {
            let request = {
                actionController: 'PurchasePriceController',
                actionName: 'SavePrices',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('PurchaseReceiptForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('PurchaseReceipts_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XPurchaseReceipt', 'InsertStamp', 'desc', filterObject, 'ReceiptNumber, DONumber, Supplier, Notes', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XPurchaseReceipt',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ReceiptNumber desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XPurchaseReceipt',
                fieldNames: ['ReceiptNumber'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ReceiptNumber desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XPurchaseReceipt',
                criteriaList: [{ PropertyName: 'ReceiptNumber', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'PurchaseReceiptController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('PurchaseRequestForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('PurchaseRequestItemSelection_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XPurchaseRequestItemSelection', 'InsertStamp', 'desc', filterObject, 'Branch, Warehouse, RequestNr, ReasonNr, Consignee, Supplier', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XPurchaseRequestItemSelection',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Date desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XPurchaseRequestItemSelection',
                fieldNames: ['RequestNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['RequestNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Type = async function () {
            let request = {
                modelName: 'XPurchaseRequestType',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_ShipTo = async function () {
            let request = {
                modelName: 'XShipTo',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_OrderTo = async function () {
            let request = {
                modelName: 'XOrderTo',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Brand = async function () {
            let request = {
                modelName: 'XBrand',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (requestNr) {
            let request = {
                modelName: 'XPurchaseRequestItemSelection',
                criteriaList: [{ PropertyName: 'RequestNr', Operator: '=', Value: requestNr }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'PurchaseRequestItemSelectionController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('PurchaseRequests_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XPurchaseRequest', 'InsertStamp', 'desc', filterObject, 'PRNumber, ReasonNr', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XPurchaseRequest',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['PRNumber desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_PurchaseRequestType = async function () {
            let request = {
                modelName: 'PurchaseRequestType',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XPurchaseRequest',
                criteriaList: [{ PropertyName: 'PRNumber', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'PurchaseRequestController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('PurchaseReturnForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('PurchaseReturns_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XPurchaseReturn', 'InsertStamp', 'desc', filterObject, 'PRNumber', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XPurchaseReturn',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['PRNumber desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_PurchaseReturnReason = async function () {
            let request = {
                modelName: 'PurchaseReturnReason',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XPurchaseReturn',
                criteriaList: [{ PropertyName: 'PRNumber', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'PurchaseReturnController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('ReceiptRevision_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XReceiptRevision', 'InsertStamp', 'desc', filterObject, 'ItemCode, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XReceiptRevision',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ItemCode desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XReceiptRevision',
                fieldNames: ['ItemCode'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ItemCode desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XReceiptRevision',
                criteriaList: [{ PropertyName: 'ItemCode', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'ReceiptRevisionController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
// ini file Service.js
"use strict";

angular.module('app.erpUtils').factory('AddressList_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XSmAddress', 'AddressTypeName, BusinessName', 'asc', filterObject, 'BusinessName, Address, Phone', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XSmAddress',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['BusinessName asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XSmAddress',
                fieldNames: ['Id', 'BusinessName'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['BusinessName asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_AddressType = async function () {
            let request = {
                modelName: 'XSmAddressType',
                fieldNames: ['Code', 'Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: true }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (id) {
            let request = {
                modelName: 'XSmAddress',
                criteriaList: [{ PropertyName: 'Id', Operator: '=', Value: id }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'BusinessRelationAddressController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Delete = async function (id) {
            let request = {
                actionController: 'BusinessRelationAddressController',
                actionName: 'Delete',
                actionParam: { Id: id },
            };

            return await BackEndService.RequestAction(request);
        };

        service.DownloadSchema = async function () {
            let request = {
                actionController: 'BusinessRelationAddressController',
                actionName: 'DownloadSchema',
                actionParam: {},
            };

            return await BackEndService.RequestAction(request);
        };

        service.Upload = async function (fileData) {
            let request = {
                actionController: 'BusinessRelationAddressController',
                actionName: 'Upload',
                actionParam: { FileData: fileData },
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('ApprovalWorkFlowForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('ApprovalWorkflows_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

// ini file Service.js
"use strict";

angular.module('app.erpUtils').factory('CancelPurchase_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XCancelPurchase', 'InsertStamp', 'desc', filterObject, 'CloseNr, SO, Customer', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XCancelPurchase',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['CloseNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XCancelPurchase',
                fieldNames: ['CloseNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['CloseNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XCancelPurchase',
                criteriaList: [{ PropertyName: 'CloseNr', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'CancelPurchaseController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
// ini file Service.js
"use strict";

angular.module('app.erpUtils').factory('CloseOrders_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XSalesOrderClose', 'InsertStamp', 'desc', filterObject, 'CloseNr, SO, PO', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XSalesOrderClose',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['CloseNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XSalesOrderClose',
                fieldNames: ['CloseNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['CloseNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Reason = async function () {
            let request = {
                modelName: 'CloseOrderReason',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: true }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XSalesOrderClose',
                criteriaList: [{ PropertyName: 'CloseNr', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'CloseOrderController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('CloseRequestMonitoring_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XCloseRequestMonitoring', 'InsertStamp', 'desc', filterObject, 'Code, ShortName, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XCloseRequestMonitoring',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XCloseRequestMonitoring',
                fieldNames: ['Code', 'ShortName'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XCloseRequestMonitoring',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'CloseRequestMonitoringController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('ContractForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('Contracts_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XSalesContract', 'Code', 'asc', filterObject, 'Contract, Customer, Subject', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XSalesContract',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Contract desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XSalesContract',
                fieldNames: ['Contract'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Contract desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XSalesContract',
                criteriaList: [{ PropertyName: 'Contract', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'ContractController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('CreditLimitForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('CreditLimitRequests_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

// ini file Service.js
"use strict";

angular.module('app.erpUtils').factory('CreditLine_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XSmCreditLine', 'InsertStamp', 'desc', filterObject, 'Request, Customer, Notes', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XSmCreditLine',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Request desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XSmCreditLine',
                criteriaList: [{ PropertyName: 'Request', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'CreditLineController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('CustomerHold_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('CustomerPricing_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

// ini file Service.js
"use strict";

angular.module('app.erpUtils').factory('CustomerRequests_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XSmCustomerRequest', 'InsertStamp', 'desc', filterObject, 'Name, Category, BusinessLine, RequestedBy, Status', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XSmCustomerRequest',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Name desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XSmCustomerRequest',
                fieldNames: ['Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Name desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (name) {
            let request = {
                modelName: 'XSmCustomerRequest',
                criteriaList: [{ PropertyName: 'Name', Operator: '=', Value: name }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'CustomerRequestController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
// ini file Service.js
"use strict";

angular.module('app.erpUtils').factory('Customers_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XSmBusinessRelation', 'Code', 'asc', filterObject, 'Code, Name, Category', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XSmBusinessRelation',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XSmBusinessRelation',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: true }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_BusinessLine = async function () {
            let request = {
                modelName: 'XBRLine',
                fieldNames: ['Code', 'Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: true }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Title = async function () {
            let request = {
                modelName: 'XBRTitle',
                fieldNames: ['Code', 'Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: true }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Category = async function () {
            let request = {
                modelName: 'XBRClass',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: true }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Group = async function () {
            let request = {
                modelName: 'XBRGroup',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: true }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XSmBusinessRelation',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'BusinessRelationController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Void = async function (codes) {
            let request = {
                actionController: 'BusinessRelationController',
                actionName: 'Void',
                actionParam: { Codes: codes },
            };

            return await BackEndService.RequestAction(request);
        };

        service.Delete = async function (codes) {
            let request = {
                actionController: 'BusinessRelationController',
                actionName: 'Delete',
                actionParam: { Codes: codes },
            };

            return await BackEndService.RequestAction(request);
        };

        service.DownloadSchema = async function () {
            let request = {
                actionController: 'BusinessRelationController',
                actionName: 'DownloadSchema',
                actionParam: {},
            };

            return await BackEndService.RequestAction(request);
        };

        service.Upload = async function (fileData) {
            let request = {
                actionController: 'BusinessRelationController',
                actionName: 'Upload',
                actionParam: { FileData: fileData },
            };

            return await BackEndService.RequestAction(request);
        };

        service.ExportToExcel = async function (filters) {
            let request = {
                actionController: 'BusinessRelationController',
                actionName: 'ExportToExcel',
                actionParam: { Filters: filters },
            };

            return await BackEndService.RequestAction(request);
        };

        service.SynchToCircle = async function () {
            let request = {
                actionController: 'BusinessRelationController',
                actionName: 'SynchToCircle',
                actionParam: {},
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
// ini file Service.js
// ini file Service.js
'use strict';

angular.module('app.erpUtils').factory('DiscountForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('Discounts_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

// ini file Service.js
"use strict";

angular.module('app.erpUtils').factory('DropshipShipments_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XDLShipmentSources', 'InsertStamp', 'desc', filterObject, 'Request, Consignee, DocumentNr', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XDLShipmentSources',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Request desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Type = async function () {
            let request = {
                modelName: 'XDLShipmentSourcesType',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_DeliverVia = async function () {
            let request = {
                modelName: 'XDeliverVia',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XDLShipmentSources',
                criteriaList: [{ PropertyName: 'Request', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'DropshipShipmentController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
// ini file Service.js
// ini file Service.js
"use strict";

angular.module('app.erpUtils').factory('InterbranchOrders_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XSalesInterBranch', 'InsertStamp', 'desc', filterObject, 'Code, PONumber, CustomerName', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XSalesInterBranch',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XSalesInterBranch',
                fieldNames: ['Code'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XSalesInterBranch',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'InterbranchOrderController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('NewCustomerForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('OnDemandItems_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XOnDemandItem', 'InsertStamp', 'desc', filterObject, 'SO, Customer, ItemCode', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XOnDemandItem',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['SO desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Age = async function () {
            let request = {
                modelName: 'XAge',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XOnDemandItem',
                criteriaList: [{ PropertyName: 'SO', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'OnDemandItemController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('OrderType_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Dropdown = async function () {
            let request = {
                modelName: 'XSalesOrderType',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: true }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('OutstandingItems_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XSalesOrderOutstandingItem', 'InsertStamp', 'desc', filterObject, 'SO, Customer, ItemCode', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XSalesOrderOutstandingItem',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['SO desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Age = async function () {
            let request = {
                modelName: 'XAge',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XSalesOrderOutstandingItem',
                criteriaList: [{ PropertyName: 'SO', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'OutstandingItemController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('OutstandingOrders_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XSalesInterBranch', 'InsertStamp', 'desc', filterObject, 'Code, PONumber, CustomerName', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XSalesInterBranch',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XSalesInterBranch',
                fieldNames: ['Code'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XSalesInterBranch',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('Personnels_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('PriceAvailability_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('PriceGroupForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('PriceGroups_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XSalesPriceGroup', 'Code', 'asc', filterObject, 'Code, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XSalesPriceGroup',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XSalesPriceGroup',
                fieldNames: ['Code', 'Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XSalesPriceGroup',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'PriceGroupController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('PricingSchemaForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('PricingSchema_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('ProjectDashboard_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('ProjectForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('Projects02_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('Projects_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XSmProject', 'InsertStamp', 'desc', filterObject, 'ProjectNr, ProjectName, Owner', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XSmProject',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ProjectNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_ProjectType = async function () {
            let request = {
                modelName: 'XSmProjectType',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XSmProject',
                criteriaList: [{ PropertyName: 'ProjectNr', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'ProjectController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
// ini file Service.js
'use strict';

angular.module('app.erpUtils').factory('ReleaseBlock_Service', [
    'Customers_Service',
    function (Customers_Service) {
        var service = angular.extend({}, Customers_Service);

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('ReopenOrders_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XReopenOrder', 'InsertStamp', 'desc', filterObject, 'CloseNr, Reason, SO, PO, Branch, Warehouse, Customer, IssuedBy, Status', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XReopenOrder',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['CloseNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XReopenOrder',
                fieldNames: ['CloseNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['CloseNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Reason = async function () {
            let request = {
                modelName: 'XReopenReason',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (closeNr) {
            let request = {
                modelName: 'XReopenOrder',
                criteriaList: [{ PropertyName: 'CloseNr', Operator: '=', Value: closeNr }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'ReopenOrderController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
// ini file Service.js
'use strict';

angular.module('app.erpUtils').factory('Revisions_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('SalesOrderForm_Service', [
    'SalesOrders_Service',
    function (SalesOrders_Service) {
        var service = angular.extend({}, SalesOrders_Service);

        // var originalSave = service.saveOrder;
        // service.saveOrder = function () {
        //     // do something before
        //     originalSave.call(this);
        //     // do something after
        // };

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('SalesOrdersTemplate_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XSalesOrder', 'InsertStamp', 'desc', filterObject, 'Code, PONumber, ContractName, ProjectName', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XSalesOrder',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XSalesOrder',
                fieldNames: ['Code'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XSalesOrder',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'SalesOrderController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('SalesOrders_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XSalesOrder', 'InsertStamp', 'desc', filterObject, 'Code, PONumber, ContractName, ProjectName', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XSalesOrder',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XSalesOrder',
                fieldNames: ['Code'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XSalesOrder',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'SalesOrderController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);

// ini file Service.js
"use strict";

angular.module('app.erpUtils').factory('SalesOrderType_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XSalesOrderType', 'Code', 'asc', filterObject, 'Code, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XSalesOrderType',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XSalesOrderType',
                fieldNames: ['Code', 'Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: true }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XSalesOrderType',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'XSalesOrderTypeController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        service.Activate = async function (codes) {
            let request = {
                actionController: 'XSalesOrderTypeController',
                actionName: 'Activate',
                actionParam: { Codes: codes },
            };

            return await BackEndService.RequestAction(request);
        };

        service.Deactivate = async function (codes) {
            let request = {
                actionController: 'XSalesOrderTypeController',
                actionName: 'Deactivate',
                actionParam: { Codes: codes },
            };

            return await BackEndService.RequestAction(request);
        };

        service.ExportToExcel = async function (filters) {
            let request = {
                actionController: 'XSalesOrderTypeController',
                actionName: 'ExportToExcel',
                actionParam: { Filters: filters },
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('SalesPrices_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XSalesPrice', 'ItemCode', 'asc', filterObject, 'Item, Name, Category, Brand', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XSalesPrice',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Item asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_PriceGroup = async function () {
            let request = {
                modelName: 'XSalesPriceGroup',
                fieldNames: ['Code', 'Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Currency = async function () {
            let request = {
                modelName: 'XSmCurrency',
                fieldNames: ['Code', 'Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Brand = async function () {
            let request = {
                modelName: 'XInvBrand',
                fieldNames: ['Code', 'Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Description asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (item) {
            let request = {
                modelName: 'XSalesPrice',
                criteriaList: [{ PropertyName: 'Item', Operator: '=', Value: item }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'SalesPriceController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
// ini file Service.js
"use strict";

angular.module('app.erpUtils').factory('SalesPromo_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XSalesPromo', 'InsertStamp', 'desc', filterObject, 'Name, Brand, Type', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XSalesPromo',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Name desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Type = async function () {
            let request = {
                modelName: 'XPromoType',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Status = async function () {
            let request = {
                modelName: 'XPromoStatus',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XSalesPromo',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'SalesPromoController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('SalesQuotationForm_Service', [
    'BackEndService',
    'DTService',
    '$q',
    function (BackEndService, DTService, $q) {
        var service = {};

        // Base API URL
        var baseUrl = '/api/sales/quotations';

        /**
         * Get Master Data for form dropdowns
         */
        service.getMasterData = function() {
            return BackEndService.get(baseUrl + '/masterdata');
        };

        /**
         * Search Customer by text
         */
        service.searchCustomer = function(searchText) {
            return BackEndService.get('/api/master/customers/search', {
                params: { searchText: searchText }
            });
        };

        /**
         * Get Customer Addresses
         */
        service.getCustomerAddresses = function(customerId) {
            return BackEndService.get('/api/master/customers/' + customerId + '/addresses');
        };

        /**
         * Search Inventory Item by text
         */
        service.searchInventoryItem = function(searchText) {
            return BackEndService.get('/api/inventory/items/search', {
                params: { searchText: searchText }
            });
        };

        /**
         * Get Item UOM Profile
         */
        service.getItemUomProfile = function(itemCode) {
            return BackEndService.get('/api/inventory/items/' + itemCode + '/uom-profile');
        };

        /**
         * Get Item Stock
         */
        service.getItemStock = function(itemCode) {
            return BackEndService.get('/api/inventory/items/' + itemCode + '/stock');
        };

        /**
         * Get Item Price for Customer
         */
        service.getItemPrice = function(itemCode, customerId) {
            return BackEndService.get('/api/sales/pricing/item-price', {
                params: { 
                    itemCode: itemCode,
                    customerId: customerId
                }
            });
        };

        /**
         * Get Quotation by ID
         */
        service.getQuotationById = function(quotationId) {
            return BackEndService.get(baseUrl + '/' + quotationId);
        };

        /**
         * Create new Quotation
         */
        service.createQuotation = function(data) {
            return BackEndService.post(baseUrl, data);
        };

        /**
         * Update existing Quotation
         */
        service.updateQuotation = function(quotationId, data) {
            return BackEndService.put(baseUrl + '/' + quotationId, data);
        };

        /**
         * Delete Quotation
         */
        service.deleteQuotation = function(quotationId) {
            return BackEndService.delete(baseUrl + '/' + quotationId);
        };

        /**
         * Get Quotation List with DataTables
         */
        service.getQuotationList = function(dtParams) {
            return DTService.getDTData(baseUrl + '/list', dtParams);
        };

        /**
         * Confirm Quotation
         */
        service.confirmQuotation = function(quotationId) {
            return BackEndService.post(baseUrl + '/' + quotationId + '/confirm');
        };

        /**
         * Cancel Quotation
         */
        service.cancelQuotation = function(quotationId) {
            return BackEndService.post(baseUrl + '/' + quotationId + '/cancel');
        };

        /**
         * Convert Quotation to Sales Order
         */
        service.convertToSalesOrder = function(quotationId) {
            return BackEndService.post(baseUrl + '/' + quotationId + '/convert-to-order');
        };

        /**
         * Get Alternate Items for Quotation
         */
        service.getAlternateItems = function(quotationId) {
            return BackEndService.get(baseUrl + '/' + quotationId + '/alternate-items');
        };

        /**
         * Print Quotation
         */
        service.printQuotation = function(quotationId) {
            return BackEndService.get(baseUrl + '/' + quotationId + '/print', {
                responseType: 'blob'
            });
        };

        /**
         * Export Quotation to PDF
         */
        service.exportToPDF = function(quotationId) {
            return BackEndService.get(baseUrl + '/' + quotationId + '/export/pdf', {
                responseType: 'blob'
            });
        };

        /**
         * Export Quotation to Excel
         */
        service.exportToExcel = function(quotationId) {
            return BackEndService.get(baseUrl + '/' + quotationId + '/export/excel', {
                responseType: 'blob'
            });
        };

        /**
         * Get Quotation History
         */
        service.getQuotationHistory = function(quotationId) {
            return BackEndService.get(baseUrl + '/' + quotationId + '/history');
        };

        /**
         * Clone Quotation
         */
        service.cloneQuotation = function(quotationId) {
            return BackEndService.post(baseUrl + '/' + quotationId + '/clone');
        };

        /**
         * Get Quotation Status List
         */
        service.getQuotationStatusList = function() {
            return BackEndService.get(baseUrl + '/status-list');
        };

        /**
         * Validate Quotation
         */
        service.validateQuotation = function(data) {
            return BackEndService.post(baseUrl + '/validate', data);
        };

        /**
         * Get VAT Calculation
         */
        service.calculateVAT = function(amount, vatCode) {
            return BackEndService.get('/api/master/vat/calculate', {
                params: {
                    amount: amount,
                    vatCode: vatCode
                }
            });
        };

        /**
         * Get Discount Calculation
         */
        service.calculateDiscount = function(amount, discountPercent) {
            var deferred = $q.defer();
            
            var discountAmount = amount * (discountPercent / 100);
            var result = {
                originalAmount: amount,
                discountPercent: discountPercent,
                discountAmount: discountAmount,
                finalAmount: amount - discountAmount
            };
            
            deferred.resolve({ data: result });
            return deferred.promise;
        };

        /**
         * Bulk update items
         */
        service.bulkUpdateItems = function(quotationId, items) {
            return BackEndService.post(baseUrl + '/' + quotationId + '/items/bulk-update', items);
        };

        /**
         * Get Item Alternatives
         */
        service.getItemAlternatives = function(itemCode) {
            return BackEndService.get('/api/inventory/items/' + itemCode + '/alternatives');
        };

        /**
         * Check Item Availability
         */
        service.checkItemAvailability = function(itemCode, qty, branchId) {
            return BackEndService.get('/api/inventory/items/' + itemCode + '/check-availability', {
                params: {
                    qty: qty,
                    branchId: branchId
                }
            });
        };

        return service;
    }
]);
"use strict";

angular.module('app.erpUtils').factory('SalesQuotations_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XSalesQuotation', 'InsertStamp', 'desc', filterObject, 'Code, CustomerName', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XSalesQuotation',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XSalesQuotation',
                fieldNames: ['Code'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XSalesQuotation',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'SalesQuotationController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('SalesReturnForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('SalesReturns_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XSalesReturn', 'InsertStamp', 'desc', filterObject, 'Code, CustomerName, ReasonName', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XSalesReturn',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XSalesReturn',
                fieldNames: ['Code'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XSalesReturn',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'SalesReturnController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
// ini file Service.js
// ini file Service.js
'use strict';

angular.module('app.erpUtils').factory('SupplierForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

// ini file Service.js
// ini file Service.js
"use strict";

angular.module('app.erpUtils').factory('TopChangeRequest_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XSmTOPChangeRequests', 'InsertStamp', 'desc', filterObject, 'Name, Category, BussinesLine, RequestedBy, Status', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XSmTOPChangeRequests',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Name desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XSmTOPChangeRequests',
                fieldNames: ['Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Name desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (name) {
            let request = {
                modelName: 'XSmTOPChangeRequests',
                criteriaList: [{ PropertyName: 'Name', Operator: '=', Value: name }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'TOPChangeRequestController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('Vendors_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('VerifySalesOrders_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('BusinessRelation_Service', [
    'BackEndService',
    function (BackEndService) {
        var service = {};

        service.getData_BusinessRelation = async function (code, fieldNames = ['*']) {
            let request = {
                modelName: 'XSmBusinessRelationR',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
                fieldNames: fieldNames,
            };

            return BackEndService.RequestDataSingle(request);
        };

        service.Customer_Dropdown = async function (val, locationCode = '', locationOperator = '=') {
            let request = {
                modelName: 'XSmBusinessRelation',
                fieldNames: ['Code', 'Name', 'StatusId', 'StatusName'],
                maximumResult: 20,
                pageNumber: 1,
                SQLCriteria: `(Active = 1) and (IsCustomer = 1) and ((Code like '%${val}%') or (Name like '%${val}%'))`,
                sortList: ['Code asc'],
            };

            if (locationCode != '' && locationCode != `('')`) {
                // "Bungkus" nilai locationCode dengan Tanda Petik
                if (!locationCode.startsWith('(')) locationCode = `'${locationCode}'`;

                // tambahkan ke criteria
                request.SQLCriteria += ` and LocationCode ${locationOperator} ${locationCode}`;
            }

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Personel_Dropdown = async function (val, locationCode = '', locationOperator = '=') {
            let request = {
                modelName: 'XSmBusinessRelation',
                fieldNames: ['Code', 'Name', 'StatusId', 'StatusName'],
                maximumResult: 20,
                pageNumber: 1,
                SQLCriteria: `(Active = 1) and (IsPersonnel = 1) and ((Code like '%${val}%') or (Name like '%${val}%'))`,
                sortList: ['Code asc'],
            };

            if (locationCode != '' && locationCode != `('')`) {
                // "Bungkus" nilai locationCode dengan Tanda Petik
                if (!locationCode.startsWith('(')) locationCode = `'${locationCode}'`;

                // tambahkan ke criteria
                request.SQLCriteria += ` and LocationCode ${locationOperator} ${locationCode}`;
            }

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.getData_Customer = async function (val, locationCode = '', locationOperator = '=') {
            let request = {
                modelName: 'XSmBusinessRelation',
                fieldNames: ['Code', 'Name', 'StatusId', 'StatusName'],
                maximumResult: 20,
                pageNumber: 1,
                criteriaList: [
                    {
                        PropertyName: 'Active',
                        Operator: '=',
                        Value: true,
                    },
                    {
                        PropertyName: 'IsCustomer',
                        Operator: '=',
                        Value: true,
                    },
                    {
                        PropertyName: 'Name',
                        Operator: 'like',
                        Value: '%' + val + '%',
                    },
                ],
                sortList: ['Name asc'],
            };

            if (locationCode != '' && locationCode != `('')`) {
                request.criteriaList.push({
                    PropertyName: 'LocationCode',
                    Operator: locationOperator,
                    Value: locationCode,
                });
            }

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Supplier_Dropdown = async function (val, locationCode = '', locationOperator = '=') {
            let request = {
                modelName: 'XSmBusinessRelation',
                fieldNames: ['Code', 'Name', 'StatusId', 'StatusName'],
                maximumResult: 20,
                pageNumber: 1,
                SQLCriteria: `(Active = 1) and (IsSupplier = 1) and ((Code like '%${val}%') or (Name like '%${val}%'))`,
                sortList: ['Code asc'],
            };

            if (locationCode != '' && locationCode != `('')`) {
                // "Bungkus" nilai locationCode dengan Tanda Petik
                if (!locationCode.startsWith('(')) locationCode = `'${locationCode}'`;

                // tambahkan ke criteria
                request.SQLCriteria += ` and LocationCode ${locationOperator} ${locationCode}`;
            }

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.getData_Supplier = async function (val, locationCode = '', locationOperator = '=') {
            let request = {
                modelName: 'XSmBusinessRelation',
                fieldNames: ['Code', 'Name', 'StatusId', 'StatusName'],
                maximumResult: 20,
                pageNumber: 1,
                criteriaList: [
                    {
                        PropertyName: 'Active',
                        Operator: '=',
                        Value: true,
                    },
                    {
                        PropertyName: 'IsSupplier',
                        Operator: '=',
                        Value: true,
                    },

                    {
                        PropertyName: 'Name',
                        Operator: 'like',
                        Value: '%' + val + '%',
                    },
                ],
                sortList: ['Name asc'],
            };

            if (locationCode != '' && locationCode != `('')`) {
                request.criteriaList.push({
                    PropertyName: 'LocationCode',
                    Operator: locationOperator,
                    Value: locationCode,
                });
            }

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.GetBusinessRelationBillingAddressNames = async function (brCode) {
            let request = {
                modelName: 'XSmAddress',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [
                    {
                        PropertyName: 'BusinessRelationCode',
                        Operator: '=',
                        Value: brCode,
                    },
                ],
                sortList: ['Number asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.getData_ContactPerson = async function (brCode) {
            let request = {
                modelName: 'XSmContactPerson',
                fieldNames: ['Number', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [
                    {
                        PropertyName: 'BusinessRelationCode',
                        Operator: '=',
                        Value: brCode,
                    },
                    // {
                    //     PropertyName: 'Active',
                    //     Operator: '=',
                    //     Value: true,
                    // },
                ],
                sortList: ['Number asc, Name asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.PriceGroupList = async function (brCode) {
            let request = {
                modelName: 'XSmBusinessRelationPriceGroupR',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [
                    {
                        PropertyName: 'BusinessRelationCode',
                        Operator: '=',
                        Value: brCode,
                    },
                ],
                sortList: ['Number asc, ItemCode asc, ItemDescription asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('Employee_Service', [
    'BackEndService',
    function (BackEndService) {
        var service = {};

        service.LocationAccess = async function () {
            let request = {
                applicationId: '',
                actionController: 'EmployeeController',
                actionName: 'GetEmployeeLocationAccess',
                actionParam: {},
            };

            let response = await BackEndService.RequestAction(request);
            return response.data.Value;
        };

        service.WarehouseByLocation = async function () {
            let request = {
                applicationId: '',
                actionController: 'EmployeeController',
                actionName: 'GetSalesWarehouseListByLocation',
                actionParam: {},
            };

            let response = await BackEndService.RequestAction(request);
            return response.data.Value;
        };

        service.User_Dropdown = async function (val) {
            let request = {
                modelName: 'XSmUsers',
                fieldNames: ['Code', 'Name'],
                maximumResult: 20,
                pageNumber: 1,
                SQLCriteria: `(Active = 1) and ((Code like '%${val}%') or (Name like '%${val}%'))`,
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('Inventory_Service', [
    'BackEndService',
    function (BackEndService) {
        var service = {};
        
        return service;
    },
]);

// ini file Service.js
// ini file Service.js
'use strict';

angular.module('app.erpUtils').factory('ApprovalWorkflows_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

// ini file Service.js
"use strict";

angular.module('app.erpUtils').factory('CancelShipments_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XCancelShipment', 'InsertStamp', 'desc', filterObject, 'CloseNr, SO', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XCancelShipment',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['CloseNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XCancelShipment',
                fieldNames: ['CloseNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['CloseNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XCancelShipment',
                criteriaList: [{ PropertyName: 'CloseNr', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'CancelShipmentController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('CarrierForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('Carriers_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XCarrier', 'Code', 'asc', filterObject, 'Code, Type, CarrierNr, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XCarrier',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XCarrier',
                fieldNames: ['Code', 'Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XCarrier',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'CarrierController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('CarrierTypeForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('CarrierTypes_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XCarrierType', 'Code', 'asc', filterObject, 'Code, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XCarrierType',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XCarrierType',
                fieldNames: ['Code', 'Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XCarrierType',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'CarrierTypeController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
// ini file Service.js
'use strict';

angular.module('app.erpUtils').factory('DeliveryMemos_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

// ini file Service.js
// ini file Service.js
// ini file Service.js
"use strict";

angular.module('app.erpUtils').factory('DeliveryOrders_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XDeliveryOrder', 'InsertStamp', 'desc', filterObject, 'Shipment, ReasonNr, ManifestNr, Consignee', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XDeliveryOrder',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Shipment desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XDeliveryOrder',
                fieldNames: ['Shipment'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Shipment desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XDeliveryOrder',
                criteriaList: [{ PropertyName: 'Shipment', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'DeliveryOrderController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('DeliveryOrderVerification_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XDeliveryOrderVerification', 'InsertStamp', 'desc', filterObject, 'ItemCode, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XDeliveryOrderVerification',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ItemCode desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XDeliveryOrderVerification',
                fieldNames: ['ItemCode'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ItemCode desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XDeliveryOrderVerification',
                criteriaList: [{ PropertyName: 'ItemCode', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'DeliveryOrderVerificationController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
// ini file Service.js
"use strict";

angular.module('app.erpUtils').factory('DeliveryRequests_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XDeliveryRequest', 'InsertStamp', 'desc', filterObject, 'Request', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XDeliveryRequest',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Request desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XDeliveryRequest',
                fieldNames: ['Request'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Request desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Type = async function () {
            let request = {
                modelName: 'DeliveryRequestType',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Pickup = async function () {
            let request = {
                modelName: 'PickupMethod',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XDeliveryRequest',
                criteriaList: [{ PropertyName: 'Request', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'DeliveryRequestController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('DOReconciliation_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XDOReconciliation', 'InsertStamp', 'desc', filterObject, 'Shipment, ReasonNr, ManifestNr, Consignee, Receiver', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XDOReconciliation',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Shipment desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XDOReconciliation',
                fieldNames: ['Shipment'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Shipment desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XDOReconciliation',
                criteriaList: [{ PropertyName: 'Shipment', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'DOReconciliationController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('DOtoManifest_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

// ini file Service.js
"use strict";

angular.module('app.erpUtils').factory('InternalPickupMemos_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XInternalPickupMemo', 'InsertStamp', 'desc', filterObject, 'Order, DocNumber, Supplier, Consignee, Shipper', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XInternalPickupMemo',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Order desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XInternalPickupMemo',
                fieldNames: ['Order'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Order desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_DocType = async function () {
            let request = {
                modelName: 'XDocType',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_PickFrom = async function () {
            let request = {
                modelName: 'XPickFrom',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_ShipTo = async function () {
            let request = {
                modelName: 'XShipTo',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_ShipperAddress = async function () {
            let request = {
                modelName: 'XShipperAddress',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XInternalPickupMemo',
                criteriaList: [{ PropertyName: 'Order', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'InternalPickupMemoController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
// ini file Service.js
"use strict";

angular.module('app.erpUtils').factory('LogisticOrders_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XLogisticOrder', 'InsertStamp', 'desc', filterObject, 'Manifest, Carrier, IssuedBy', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XLogisticOrder',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Manifest desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XLogisticOrder',
                fieldNames: ['Manifest'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Manifest desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XLogisticOrder',
                criteriaList: [{ PropertyName: 'Manifest', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'LogisticOrderController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
// ini file Service.js
"use strict";

angular.module('app.erpUtils').factory('LogisticRequests_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('LogisticRequest', 'Code', 'asc', filterObject, 'Code, ShortName, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'LogisticRequest',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'LogisticRequest',
                fieldNames: ['Code', 'ShortName'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: true }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'LogisticRequest',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'LogisticRequestController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
// ini file Service.js
'use strict';

angular.module('app.erpUtils').factory('ManifestPublishForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

// ini file Service.js
"use strict";

angular.module('app.erpUtils').factory('Manifests_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XManifest', 'InsertStamp', 'desc', filterObject, 'Manifest, Driver, Helper, CarrierNr', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XManifest',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Manifest desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XManifest',
                fieldNames: ['Manifest'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Manifest desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_CarrierType = async function () {
            let request = {
                modelName: 'CarrierType',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: true }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Site = async function () {
            let request = {
                modelName: 'Site',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: true }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Carrier = async function () {
            let request = {
                modelName: 'Carrier',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: true }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (manifest) {
            let request = {
                modelName: 'XManifest',
                criteriaList: [{ PropertyName: 'Manifest', Operator: '=', Value: manifest }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'ManifestController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
// ini file Service.js
"use strict";

angular.module('app.erpUtils').factory('PackingVerification_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XPackingVerification', 'InsertStamp', 'desc', filterObject, 'ItemCode, Description', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XPackingVerification',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ItemCode desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XPackingVerification',
                fieldNames: ['ItemCode'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['ItemCode desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Manifest = async function () {
            let request = {
                modelName: 'XManifest',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_TagNumber = async function () {
            let request = {
                modelName: 'XTagNumber',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XPackingVerification',
                criteriaList: [{ PropertyName: 'ItemCode', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'PackingVerificationController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('PickedOutstandingItem_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XPickedOutstandingItem', 'InsertStamp', 'desc', filterObject, 'Item, SO, Customer', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XPickedOutstandingItem',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Item desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XPickedOutstandingItem',
                fieldNames: ['Item'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Item desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XPickedOutstandingItem',
                criteriaList: [{ PropertyName: 'Item', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'PickedOutstandingItemController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
// ini file Service.js
'use strict';

angular.module('app.erpUtils').factory('PickerPersonnels_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XPickerPersonnel', 'InsertStamp', 'desc', filterObject, 'PersonnelName', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function (warehouseCode) {
            let request = {
                modelName: 'XPickerPersonnel',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [
                    { PropertyName: 'WarehouseCode', Operator: '=', Value: warehouseCode }
                ],
                sortList: ['PersonnelName asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Warehouse = async function () {
            let request = {
                modelName: 'Warehouse',
                fieldNames: ['Code', 'Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Save = async function (data) {
            let request = {
                actionController: 'PickerPersonnelController',
                actionName: 'SavePersonnels',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);

'use strict';

angular.module('app.erpUtils').factory('PickingForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

// ini file Service.js
"use strict";

angular.module('app.erpUtils').factory('PickingOrder_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XPickingOrder', 'InsertStamp', 'desc', filterObject, 'Order, SRNr, AssignedTo', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XPickingOrder',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Order desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XPickingOrder',
                fieldNames: ['Order'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Order desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Site = async function () {
            let request = {
                modelName: 'Site',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: true }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_DeliverVia = async function () {
            let request = {
                modelName: 'DeliverVia',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: true }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (order) {
            let request = {
                modelName: 'XPickingOrder',
                criteriaList: [{ PropertyName: 'Order', Operator: '=', Value: order }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'PickingOrderController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
'use strict';

angular.module('app.erpUtils').factory('PickupOrderForm_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('PickupOrders_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XPickupOrder', 'InsertStamp', 'desc', filterObject, 'Order, DocNumber', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XPickupOrder',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Order desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XPickupOrder',
                fieldNames: ['Order'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Order desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_DocType = async function () {
            let request = {
                modelName: 'DocumentType',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_PickFrom = async function () {
            let request = {
                modelName: 'PickupLocation',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_ShipTo = async function () {
            let request = {
                modelName: 'ShipmentDestination',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XPickupOrder',
                criteriaList: [{ PropertyName: 'Order', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'PickupOrderController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
// ini file Service.js
// ini file Service.js
// ini file Service.js
// ini file Service.js
"use strict";

angular.module('app.erpUtils').factory('ProofOfDeliveries_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XProofOfDelivery', 'InsertStamp', 'desc', filterObject, 'POD, ManifestNr, Consignee', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XProofOfDelivery',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['POD desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XProofOfDelivery',
                fieldNames: ['POD'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['POD desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (pod) {
            let request = {
                modelName: 'XProofOfDelivery',
                criteriaList: [{ PropertyName: 'POD', Operator: '=', Value: pod }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'ProofOfDeliveryController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
// ini file Service.js
// ini file Service.js
'use strict';

angular.module('app.erpUtils').factory('RouteItemVerification_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        return service;
    },
]);

"use strict";

angular.module('app.erpUtils').factory('SalesReturnsSH_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XSalesReturnSH', 'InsertStamp', 'desc', filterObject, 'SR, PickupNr', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XSalesReturnSH',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['SR desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XSalesReturnSH',
                fieldNames: ['SR'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['SR desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Reason = async function () {
            let request = {
                modelName: 'ReturnReason',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_PickFrom = async function () {
            let request = {
                modelName: 'PickupLocation',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XSalesReturnSH',
                criteriaList: [{ PropertyName: 'SR', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'SalesReturnSHController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
// ini file Service.js
"use strict";

angular.module('app.erpUtils').factory('ShipmentRequests_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XShipmentRequest', 'InsertStamp', 'desc', filterObject, 'Request, DocumentNr, Consignee', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XShipmentRequest',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Request desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XShipmentRequest',
                fieldNames: ['Request'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['Request desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Type = async function () {
            let request = {
                modelName: 'ShipmentRequestType',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: true }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_Site = async function () {
            let request = {
                modelName: 'Site',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: true }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown_DeliverVia = async function () {
            let request = {
                modelName: 'DeliverVia',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Active', Operator: '=', Value: true }],
                sortList: ['Code asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (request) {
            let requestData = {
                modelName: 'XShipmentRequest',
                criteriaList: [{ PropertyName: 'Request', Operator: '=', Value: request }],
            };

            return await BackEndService.RequestDataSingle(requestData);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'ShipmentRequestController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
"use strict";

angular.module('app.erpUtils').factory('ShipmentRouting_Service', [
    'BackEndService',
    'DTService',
    function (BackEndService, DTService) {
        var service = {};

        service.Table = function (scope) {
            let filterObject = scope.filters;
            let pageLength = scope.dt.pageLength;
            let afterRequestData = scope.afterRequestData;
            let searchKeyword = scope.searchKeyword;

            return DTService.GenerateDTInstance('XShipmentRouting', 'InsertStamp', 'desc', filterObject, 'RouteNr, SourceNr, Consignee, ShipTo', pageLength, afterRequestData, searchKeyword);
        };

        service.List = async function () {
            let request = {
                modelName: 'XShipmentRouting',
                fieldNames: ['*'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['RouteNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Dropdown = async function () {
            let request = {
                modelName: 'XShipmentRouting',
                fieldNames: ['RouteNr'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [],
                sortList: ['RouteNr desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.DataSingle = async function (code) {
            let request = {
                modelName: 'XShipmentRouting',
                criteriaList: [{ PropertyName: 'RouteNr', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Save = async function (data, Is_Create) {
            let request = {
                actionController: 'ShipmentRoutingController',
                actionName: Is_Create ? 'Create' : 'Update',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);
        };

        return service;
    },
]);
// ini file Service.js
// ini file Service.js
'use strict';

angular.module('app.erpUtils').factory('Shipment_Service', [
    'BackEndService',
    /*'DLCarrier_Service',
    'DLCarrierType_Service',
    'DLPickerPersonnel_Service',
    'DLManifest_Service',
    'DTService',*/
    function (BackEndService/*, DLCarrier_Service, DLCarrierType_Service, DLPickerPersonnel_Service, DLManifest_Service, DTService*/) {
        var service = {};

        service.Dropdown_Carrier = async function () {
            //return await DLCarrier_Service.Dropdown();
        };

        service.Dropdown_Carrier2 = async function (typeCode) {
            //return await DLCarrier_Service.Carrier(typeCode);
        };

        service.Dropdown_CarrierType = async function () {
            //return await DLCarrierType_Service.Dropdown();
        };

        service.Dropdown_PickerPersonnel = async function () {
            //return await DLPickerPersonnel_Service.Dropdown();
        };

        service.Dropdown_PersonCarrier = async function (carrierCode) {
            //return await DLPickerPersonnel_Service.PersonCarrier(carrierCode);
        };

        service.Dropdown_Manifest = async function () {
            //return await DLManifest_Service.Dropdown();
        };

        service.Dropdown_Manifest2 = async function (filters) {
            //return await DLManifest_Service.Dropdown2(filters);
        };

        service.Dropdown_RouteTagNumber = async function (manifestCode) {
            return await DLManifest_Service.Dropdown_RouteTagNumber(manifestCode);
        };

        service.Dropdown_StockingType = async function () {
            let request = {
                modelName: 'XInvStockingType',
                fieldNames: ['Id', 'Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [{ PropertyName: 'Stockable', Operator: '=', Value: 'true' }],
                sortList: ['Id asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.getData_ReferenceType = async function () {
            var request = {
                modelName: 'XShipmentReferenceType',
                fieldNames: ['Id', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [
                    {
                        PropertyName: 'Active',
                        Operator: '=',
                        Value: true,
                    },
                ],
                sortList: ['Id asc'],
            };

            let response = {
                data: {
                    Data: [{ Id: 1, Name: 'SO D/R' }],
                },
            };

            // TODO

            //let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.Table_PackingListDetail = function (filterObject, pageLength = 10, afterRequestData = null) {
            let modelName = 'XDLShipmentPackingListDetail';
            let defaultSortField = 'PackingCode asc, Number';
            let defaultSortDirection = 'desc';
            let defaultSearchKeyword = 'ItemCode';

            return DTService.GenerateDTInstance(modelName, defaultSortField, defaultSortDirection, filterObject, defaultSearchKeyword, pageLength, afterRequestData);
        };

        service.getData_DeliveryAction = async function () {
            var request = {
                modelName: 'XShipmentDeliveryAction',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [
                    {
                        PropertyName: 'Active',
                        Operator: '=',
                        Value: true,
                    },
                ],
                sortList: ['OrderID asc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.getData_Type = async function () {
            var request = {
                modelName: 'XType',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [
                    {
                        PropertyName: 'Active',
                        Operator: '=',
                        Value: true,
                    },
                ],
                sortList: ['Code asc'],
            };

            let response = {
                data: {
                    Data: [
                        { Code: '01', Name: 'Delivery' },
                        { Code: '02', Name: 'Pickup' },
                        { Code: '03', Name: 'Pick & Deliver' },
                    ],
                },
            };

            // TODO

            //let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.getData_Source = async function () {
            var request = {
                modelName: 'XSource',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [
                    {
                        PropertyName: 'Active',
                        Operator: '=',
                        Value: true,
                    },
                ],
                sortList: ['Code asc'],
            };

            let response = {
                data: {
                    Data: [
                        { Code: '4', Name: 'S/O' },
                        { Code: '8', Name: 'Pickup Order' },
                        { Code: '10', Name: 'Ret. D/O' },
                        { Code: '11', Name: 'Transfer' },
                    ],
                },
            };

            // TODO

            //let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.getData_ShipmentStatus = async function () {
            var request = {
                modelName: 'XShipmentStatus',
                fieldNames: ['Code', 'Name'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [
                    {
                        PropertyName: 'Active',
                        Operator: '=',
                        Value: true,
                    },
                ],
                sortList: ['Code asc'],
            };

            let response = {
                data: {
                    Data: [
                        { Code: '01', Name: 'Emergency' },
                        { Code: '02', Name: 'Normal' },
                    ],
                },
            };

            // TODO

            //let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.RequestInvoice = async function (data) {
            let request = {
                actionController: 'HandlerShipmentOrder',
                actionName: 'RequestInvoice',
                actionParam: data,
            };

            return await BackEndService.RequestAction(request);

            return response.data.Value.Data;
        };

        service.Dropdown_AddToManifest = async function () {
            let request = {
                modelName: 'XShipmentManifests',
                fieldNames: ['Code'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [
                    { PropertyName: 'Active', Operator: '=', Value: true },
                    { PropertyName: 'StatusId', Operator: '=', Value: 1 },
                ],
                sortList: ['Code desc'],
            };

            let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        service.GetManifestInformation = async function (code) {
            let request = {
                modelName: 'XDLManifest',
                criteriaList: [{ PropertyName: 'Code', Operator: '=', Value: code }],
            };

            return await BackEndService.RequestDataSingle(request);
        };

        service.Dropdown_Role = async function () {
            var request = {
                modelName: 'XRole',
                fieldNames: ['Code', 'Description'],
                maximumResult: 100,
                pageNumber: 1,
                criteriaList: [
                    {
                        PropertyName: 'Active',
                        Operator: '=',
                        Value: true,
                    },
                ],
                sortList: ['Code asc'],
            };

            let response = {
                data: {
                    Data: [
                        { Code: 'Helper', Description: 'Helper' },
                        { Code: 'Driver', Description: 'Driver' },
                    ],
                },
            };

            // TODO

            //let response = await BackEndService.RequestDataList(request);

            return response.data.Data;
        };

        return service;
    },
]);
